!function(e){function t(t){for(var n,i,o=t[0],a=t[1],s=0,d=[];s<o.length;s++)i=o[s],r[i]&&d.push(r[i][0]),r[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(l&&l(t);d.length;)d.shift()()}var n={},r={6:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise(function(t,i){n=r[e]=[t,i]});t.push(n[2]=o);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+"chunks/"+({}[e]||e)+".min.js"}(e),a=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+i+": "+o+")");a.type=i,a.request=o,n[1](a)}r[e]=void 0}};var l=setTimeout(function(){a({type:"timeout",target:s})},12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/.asset/2.150.4/js/",i.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var l=a;i(i.s=375)}({12:function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,d=[],c=!1,u=-1;function f(){c&&l&&(c=!1,l.length?d=l.concat(d):u=-1,d.length&&g())}function g(){if(!c){var e=s(f);c=!0;for(var t=d.length;t;){for(l=d,d=[];++u<t;)l&&l[u].run();u=-1,t=d.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new p(e,t)),1!==d.length||c||s(g)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},16:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=window.CNN||{};r.Utils=r.Utils||function(e,t,i,o){"use strict";var a=36e5,s="Thu, 01 Jan 1970 00:00:00 UTC";function l(e){var t,n,r=!0;for(t=0;t<arguments.length;t++)if((n=arguments[t])===o||null===n){r=!1;break}return r}function d(e){return null!==c(e)}function c(e){var t=new RegExp("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"),n=i.cookie.match(t);return n?n.pop():null}function u(e,t,n,r,o,s){var d,c,u="";l(e)&&l(t)&&(c=null,"string"==typeof(d=n)&&Date.parse(d)?c=d:"number"==typeof d&&(c=new Date(Date.now()+d*a).toGMTString()),n=c,r=l(r)?r:"/",o=l(o)?o:"",s=!!l(s)&&s,u+=e+"="+encodeURIComponent(t),l(n)&&(u+=";expires="+n),r&&(u+=";path="+r),o&&(u+=";domain="+o),s&&(u+="; secure"),i.cookie=u)}function f(e,t,n){var r="";l(e)&&(t=l(t)?t:"/",n=l(n)?n:"",r+=e+"=;expires="+s,t&&(r+=";path="+t),n&&(r+=";domain="+n),i.cookie=r)}function g(e){if("string"==typeof e&&e.length>0)if(!1===r.hasLocalStorage)f(e);else{try{t.localStorage.removeItem(e),t.localStorage.removeItem(e+"__expires")}catch(e){}try{t.sessionStorage.removeItem(e)}catch(e){}}}return r.hasLocalStorage=function(){var e="__test_it";try{return t.localStorage.setItem(e,e),t.localStorage.removeItem(e),t.sessionStorage.setItem(e,e),t.sessionStorage.removeItem(e),!0}catch(e){return!1}}(),{b64Decode:function(e){var n,r,i,o,a,s,l,d,c=e;if("function"==typeof t.atob)try{n=t.atob(c)}catch(e){console.log(e.message,"\nString to decode: "+c)}else{for(r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),i={},d=0;d<r.length;d++)i[r[d]]=d;for(a="="===(c=c.replace(new RegExp("[^"+r.join("")+"=]","g"),"")).charAt(c.length-1)?"="===c.charAt(c.length-2)?"AA":"A":"",o="",c=c.substr(0,c.length-a.length)+a,s=0;s<c.length;s+=4)l=(i[c.charAt(s)]<<18)+(i[c.charAt(s+1)]<<12)+(i[c.charAt(s+2)]<<6)+i[c.charAt(s+3)],o+=String.fromCharCode(l>>>16&255,l>>>8&255,255&l);n=o.substring(0,o.length-a.length)}return n},b64Encode:function(e){var n,r,i,o,a,s,l=e;if("function"==typeof t.btoa)try{n=t.btoa(l)}catch(r){n=t.btoa(e.replace(/[^\w\+\/]/g,"+"))}else{if(r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),i="",o="",(a=l.length%3)>0)for(;a<3;a++)o+="=",l+="\0";for(a=0;a<l.length;a+=3)a>0&&a/3*4%76==0&&(i+="\r\n"),i+=r[(s=[(s=(l.charCodeAt(a)<<16)+(l.charCodeAt(a+1)<<8)+l.charCodeAt(a+2))>>>18&63,s>>>12&63,s>>>6&63,63&s])[0]]+r[s[1]]+r[s[2]]+r[s[3]];n=i.substring(0,i.length-o.length)+o}return n},cookieExists:d,deleteCNNCookie:function(e){f(e,"/",".cnn.com")},deleteCookie:f,deleteLocalValue:g,exists:l,existsObject:function(e){var t,r,i=!0;for(t=0;t<arguments.length;t++)if("object"!==n(r=arguments[t])||null===r){i=!1;break}return i},existsString:function(e){var t,n,r=!0;for(t=0;t<arguments.length;t++)if(!("string"==typeof(n=arguments[t])&&n.length>0)){r=!1;break}return r},getCookie:c,getCookies:function(){var e,t,n={},r=0;if(i.cookie)for(e=i.cookie.split("; ");r<e.length;r++)n[(t=e[r].split("="))[0]]=decodeURIComponent(t[1])||null;return n},getLocalValue:function(e){var n,i=null;if("string"==typeof e&&e.length>0)try{!1===r.hasLocalStorage?i=c(e):null!==(n=t.localStorage.getItem(e+"__expires"))?parseInt(n,10)>Date.now()?i=t.localStorage.getItem(e):g(e):l(i=t.sessionStorage.getItem(e))||(i=t.localStorage.getItem(e))}catch(e){}return i},hasLocalValue:function(e){if("string"==typeof e&&e.length>0){if(!1===r.hasLocalStorage)return d(e);try{if(l(t.sessionStorage.getItem(e))||l(t.localStorage.getItem(e+"__expires")))return!0}catch(e){}}return!1},isPhone:function(){return t.Modernizr.phone},isWindows7:function(){return/(Windows 7|Windows NT 6.1)/.test(navigator.userAgent)},setCNNCookie:function(e,t,n,r){u(e,t,n,"/",".cnn.com",r)},setCookie:u,storeLocalValue:function(e,n,i){var o;if("string"==typeof e&&e.length>0&&"string"==typeof n)if(!1===r.hasLocalStorage)u(e,n,"session"===i?null:i,"/",".cnn.com",!1);else try{"session"===i?t.sessionStorage.setItem(e,n):(t.localStorage.setItem(e,n),"number"==typeof i?(o=new Date(Date.now()+i*a),t.localStorage.setItem(e+"__expires",o.getTime().toString(10))):"string"==typeof i&&"session"!==i&&(o=new Date(i)).getTime()>Date.now()&&t.localStorage.setItem(e+"__expires",o.getTime().toString(10)))}catch(e){}},stripHash:function(e){return e.replace("#","")},throttle:function(e,t,n){var r=n||this,i=null;return function(){i||(e.apply(r,arguments),i=setTimeout(function(){i=null},t))}}}}(jQuery,window,document)},164:function(e,t){Modernizr.addTest("ios",function(){"use strict";return!!navigator.userAgent.match(/(iPod|iPhone|iPad)/i)}),Modernizr.addTest("android",function(){"use strict";return!!navigator.userAgent.match(/android/i)}),Modernizr.addTest("iospre10",function(){"use strict";return-1!==navigator.userAgent.search(/(iPod|iPhone|iPad).*OS [3-9]/i)}),Modernizr.addTest("iemobile",function(){"use strict";return!!navigator.userAgent.match(/iemobile/i)}),Modernizr.addTest("ieunsupported",function(){"use strict";return navigator.userAgent.search(/MSIE ([2-9]|10)\./i)>=0}),Modernizr.addTest("ie11unsupported",function(){"use strict";return navigator.userAgent.search(/Trident\/7\.0;(.*)rv:11\./i)>=0}),Modernizr.addTest("ie",function(){"use strict";return navigator.userAgent.search(/\s+(MSIE|rv:11|Edge\/\d+\.)/)>=0}),Modernizr.addTest("edge",function(){"use strict";return navigator.userAgent.search(/\s+(Edge\/\d+\.)/)>=0})},165:function(e,t,n){var r;
/*! picturefill - v3.0.2 - 2016-02-12
 * https://scottjehl.github.io/picturefill/
 * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
 */
/*! Gecko-Picture - v1.0
 * https://github.com/scottjehl/picturefill/tree/3.0/src/plugins/gecko-picture
 * Firefox's early picture implementation (prior to FF41) is static and does
 * not react to viewport changes. This tiny module fixes this.
 */
/*! picturefill - v3.0.2 - 2016-02-12
 * https://scottjehl.github.io/picturefill/
 * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
 */
/*! Gecko-Picture - v1.0
 * https://github.com/scottjehl/picturefill/tree/3.0/src/plugins/gecko-picture
 * Firefox's early picture implementation (prior to FF41) is static and does
 * not react to viewport changes. This tiny module fixes this.
 */
!function(e){var t,n,r,i,o,a,s,l=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(l)&&l.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",(n=document.createElement("source"),r=function(e){var t,r,i=e.parentNode;"PICTURE"===i.nodeName.toUpperCase()?(t=n.cloneNode(),i.insertBefore(t,i.firstElementChild),setTimeout(function(){i.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,r=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=r}))},i=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)r(t[e])},o=function(){clearTimeout(t),t=setTimeout(i,99)},a=e.matchMedia&&matchMedia("(orientation: landscape)"),s=function(){o(),a&&a.addListener&&a.addListener(o)},n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?s():document.addEventListener("DOMContentLoaded",s),o))}(window),
/*! Picturefill - v3.0.2
 * http://scottjehl.github.io/picturefill
 * Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt;
 *  License: MIT
 */
function(i,o,a){"use strict";var s,l,d;o.createElement("picture");var c={},u=!1,f=function(){},g=o.createElement("img"),p=g.getAttribute,h=g.setAttribute,m=g.removeAttribute,v=o.documentElement,_={},y={algorithm:""},b=navigator.userAgent,I=/rident/.test(b)||/ecko/.test(b)&&b.match(/rv\:(\d+)/)&&RegExp.$1>35,w="currentSrc",E=/\s+\+?\d+(e\d+)?w/,T=/(\([^)]+\))?\s*(.+)/,A=i.picturefillCFG,O="font-size:100%!important;",S=!0,C={},D={},k=i.devicePixelRatio,R={px:1,in:96},x=o.createElement("a"),P=!1,N=/^[ \t\n\r\u000c]+/,U=/^[, \t\n\r\u000c]+/,M=/^[^ \t\n\r\u000c]+/,B=/[,]+$/,L=/^\d+$/,F=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,j=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},z=function(e){var t={};return function(n){return n in t||(t[n]=e(n)),t[n]}};function V(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}var q,G,K,H,W,Y,Q,J,Z,X,$,ee,te,ne,re,ie,oe=(q=/^([\d\.]+)(em|vw|px)$/,G=z(function(e){return"return "+function(){for(var e=arguments,t=0,n=e[0];++t in e;)n=n.replace(e[t],e[++t]);return n}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"}),function(e,t){var n;if(!(e in C))if(C[e]=!1,t&&(n=e.match(q)))C[e]=n[1]*R[n[2]];else try{C[e]=new Function("e",G(e))(R)}catch(e){}return C[e]}),ae=function(e,t){return e.w?(e.cWidth=c.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},se=function(e){if(u){var t,n,r,i=e||{};if(i.elements&&1===i.elements.nodeType&&("IMG"===i.elements.nodeName.toUpperCase()?i.elements=[i.elements]:(i.context=i.elements,i.elements=null)),r=(t=i.elements||c.qsa(i.context||o,i.reevaluate||i.reselect?c.sel:c.selShort)).length){for(c.setupRun(i),P=!0,n=0;n<r;n++)c.fillImg(t[n],i);c.teardownRun(i)}}};function le(e,t){return e.res-t.res}function de(e,t){var n,r,i;if(e&&t)for(i=c.parseSet(t),e=c.makeUrl(e),n=0;n<i.length;n++)if(e===c.makeUrl(i[n].url)){r=i[n];break}return r}i.console&&console.warn,w in g||(w="src"),_["image/jpeg"]=!0,_["image/gif"]=!0,_["image/png"]=!0,_["image/svg+xml"]=o.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),c.ns=("pf"+(new Date).getTime()).substr(0,9),c.supSrcset="srcset"in g,c.supSizes="sizes"in g,c.supPicture=!!i.HTMLPictureElement,c.supSrcset&&c.supPicture&&!c.supSizes&&(K=o.createElement("img"),g.srcset="data:,a",K.src="data:,a",c.supSrcset=g.complete===K.complete,c.supPicture=c.supSrcset&&c.supPicture),c.supSrcset&&!c.supSizes?(H="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",W=o.createElement("img"),Y=function(){2===W.width&&(c.supSizes=!0),l=c.supSrcset&&!c.supSizes,u=!0,setTimeout(se)},W.onload=Y,W.onerror=Y,W.setAttribute("sizes","9px"),W.srcset=H+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",W.src=H):u=!0,c.selShort="picture>img,img[srcset]",c.sel=c.selShort,c.cfg=y,c.DPR=k||1,c.u=R,c.types=_,c.setSize=f,c.makeUrl=z(function(e){return x.href=e,x.href}),c.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},c.matchesMedia=function(){return i.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?c.matchesMedia=function(e){return!e||matchMedia(e).matches}:c.matchesMedia=c.mMQ,c.matchesMedia.apply(this,arguments)},c.mMQ=function(e){return!e||oe(e)},c.calcLength=function(e){var t=oe(e,!0)||!1;return t<0&&(t=!1),t},c.supportsType=function(e){return!e||_[e]},c.parseSize=z(function(e){var t=(e||"").match(T);return{media:t&&t[1],length:t&&t[2]}}),c.parseSet=function(e){return e.cands||(e.cands=function(e,t){function n(t){var n,r=t.exec(e.substring(d));if(r)return n=r[0],d+=n.length,n}var r,i,o,a,s,l=e.length,d=0,c=[];function u(){var e,n,o,a,s,l,d,u,f,g=!1,p={};for(a=0;a<i.length;a++)l=(s=i[a])[s.length-1],d=s.substring(0,s.length-1),u=parseInt(d,10),f=parseFloat(d),L.test(d)&&"w"===l?((e||n)&&(g=!0),0===u?g=!0:e=u):F.test(d)&&"x"===l?((e||n||o)&&(g=!0),f<0?g=!0:n=f):L.test(d)&&"h"===l?((o||n)&&(g=!0),0===u?g=!0:o=u):g=!0;g||(p.url=r,e&&(p.w=e),n&&(p.d=n),o&&(p.h=o),o||n||e||(p.d=1),1===p.d&&(t.has1x=!0),p.set=t,c.push(p))}function f(){for(n(N),o="",a="in descriptor";;){if(s=e.charAt(d),"in descriptor"===a)if(V(s))o&&(i.push(o),o="",a="after descriptor");else{if(","===s)return d+=1,o&&i.push(o),void u();if("("===s)o+=s,a="in parens";else{if(""===s)return o&&i.push(o),void u();o+=s}}else if("in parens"===a)if(")"===s)o+=s,a="in descriptor";else{if(""===s)return i.push(o),void u();o+=s}else if("after descriptor"===a)if(V(s));else{if(""===s)return void u();a="in descriptor",d-=1}d+=1}}for(;;){if(n(U),d>=l)return c;r=n(M),i=[],","===r.slice(-1)?(r=r.replace(B,""),u()):f()}}(e.srcset,e)),e.cands},c.getEmValue=function(){var e;if(!s&&(e=o.body)){var t=o.createElement("div"),n=v.style.cssText,r=e.style.cssText;t.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",v.style.cssText=O,e.style.cssText=O,e.appendChild(t),s=t.offsetWidth,e.removeChild(t),s=parseFloat(s,10),v.style.cssText=n,e.style.cssText=r}return s||16},c.calcListLength=function(e){if(!(e in D)||y.uT){var t=c.calcLength(function(e){var t,n,r,i,o,a,s,l=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,d=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(r=(n=function(e){var t,n="",r=[],i=[],o=0,a=0,s=!1;function l(){n&&(r.push(n),n="")}function d(){r[0]&&(i.push(r),r=[])}for(;;){if(""===(t=e.charAt(a)))return l(),d(),i;if(s){if("*"===t&&"/"===e[a+1]){s=!1,a+=2,l();continue}a+=1}else{if(V(t)){if(e.charAt(a-1)&&V(e.charAt(a-1))||!n){a+=1;continue}if(0===o){l(),a+=1;continue}t=" "}else if("("===t)o+=1;else if(")"===t)o-=1;else{if(","===t){l(),d(),a+=1;continue}if("/"===t&&"*"===e.charAt(a+1)){s=!0,a+=2;continue}}n+=t,a+=1}}}(e)).length,t=0;t<r;t++)if(o=(i=n[t])[i.length-1],s=o,l.test(s)&&parseFloat(s)>=0||d.test(s)||"0"===s||"-0"===s||"+0"===s){if(a=o,i.pop(),0===i.length)return a;if(i=i.join(" "),c.matchesMedia(i))return a}return"100vw"}(e));D[e]=t||R.width}return D[e]},c.setRes=function(e){var t;if(e)for(var n=0,r=(t=c.parseSet(e)).length;n<r;n++)ae(t[n],e.sizes);return t},c.setRes.res=ae,c.applySetCandidate=function(e,t){if(e.length){var n,r,i,o,a,s,l,d,u,f,g,p,h,m,v,_,b=t[c.ns],E=c.DPR;if(s=b.curSrc||t[w],(l=b.curCan||function(e,t,n){var r;return!n&&t&&(n=(n=e[c.ns].sets)&&n[n.length-1]),(r=de(t,n))&&(t=c.makeUrl(t),e[c.ns].curSrc=t,e[c.ns].curCan=r,r.res||ae(r,r.set.sizes)),r}(t,s,e[0].set))&&l.set===e[0].set&&((u=I&&!t.complete&&l.res-.1>E)||(l.cached=!0,l.res>=E&&(a=l))),!a)for(e.sort(le),a=e[(o=e.length)-1],r=0;r<o;r++)if((n=e[r]).res>=E){a=e[i=r-1]&&(u||s!==c.makeUrl(n.url))&&(f=e[i].res,g=n.res,p=E,h=e[i].cached,m=void 0,v=void 0,_=void 0,"saveData"===y.algorithm?f>2.7?_=p+1:(v=(g-p)*(m=Math.pow(f-.6,1.5)),h&&(v+=.1*m),_=f+v):_=p>1?Math.sqrt(f*g):f,_>p)?e[i]:n;break}a&&(d=c.makeUrl(a.url),b.curSrc=d,b.curCan=a,d!==s&&c.setSrc(t,a),c.setSize(t))}},c.setSrc=function(e,t){var n;e.src=t.url,"image/svg+xml"===t.set.type&&(n=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=n))},c.getSet=function(e){var t,n,r,i=!1,o=e[c.ns].sets;for(t=0;t<o.length&&!i;t++)if((n=o[t]).srcset&&c.matchesMedia(n.media)&&(r=c.supportsType(n.type))){"pending"===r&&(n=r),i=n;break}return i},c.parseSets=function(e,t,n){var r,i,o,a,s=t&&"PICTURE"===t.nodeName.toUpperCase(),d=e[c.ns];(void 0===d.src||n.src)&&(d.src=p.call(e,"src"),d.src?h.call(e,"data-pfsrc",d.src):m.call(e,"data-pfsrc")),(void 0===d.srcset||n.srcset||!c.supSrcset||e.srcset)&&(r=p.call(e,"srcset"),d.srcset=r,a=!0),d.sets=[],s&&(d.pic=!0,function(e,t){var n,r,i,o,a=e.getElementsByTagName("source");for(n=0,r=a.length;n<r;n++)(i=a[n])[c.ns]=!0,(o=i.getAttribute("srcset"))&&t.push({srcset:o,media:i.getAttribute("media"),type:i.getAttribute("type"),sizes:i.getAttribute("sizes")})}(t,d.sets)),d.srcset?(i={srcset:d.srcset,sizes:p.call(e,"sizes")},d.sets.push(i),(o=(l||d.src)&&E.test(d.srcset||""))||!d.src||de(d.src,i)||i.has1x||(i.srcset+=", "+d.src,i.cands.push({url:d.src,d:1,set:i}))):d.src&&d.sets.push({srcset:d.src,sizes:null}),d.curCan=null,d.curSrc=void 0,d.supported=!(s||i&&!c.supSrcset||o&&!c.supSizes),a&&c.supSrcset&&!d.supported&&(r?(h.call(e,"data-pfsrcset",r),e.srcset=""):m.call(e,"data-pfsrcset")),d.supported&&!d.srcset&&(!d.src&&e.src||e.src!==c.makeUrl(d.src))&&(null===d.src?e.removeAttribute("src"):e.src=d.src),d.parsed=!0},c.fillImg=function(e,t){var n,r,i,o,a,s=t.reselect||t.reevaluate;(e[c.ns]||(e[c.ns]={}),n=e[c.ns],s||n.evaled!==d)&&(n.parsed&&!t.reevaluate||c.parseSets(e,e.parentNode,t),n.supported?n.evaled=d:(r=e,o=c.getSet(r),a=!1,"pending"!==o&&(a=d,o&&(i=c.setRes(o),c.applySetCandidate(i,r))),r[c.ns].evaled=a))},c.setupRun=function(){P&&!S&&k===i.devicePixelRatio||(S=!1,k=i.devicePixelRatio,C={},D={},c.DPR=k||1,R.width=Math.max(i.innerWidth||0,v.clientWidth),R.height=Math.max(i.innerHeight||0,v.clientHeight),R.vw=R.width/100,R.vh=R.height/100,d=[R.height,R.width,k].join("-"),R.em=c.getEmValue(),R.rem=R.em)},c.supPicture?(se=f,c.fillImg=f):(te=i.attachEvent?/d$|^c/:/d$|^c|^i/,ne=function(){var e=o.readyState||"";re=setTimeout(ne,"loading"===e?200:999),o.body&&(c.fillImgs(),(Q=Q||te.test(e))&&clearTimeout(re))},re=setTimeout(ne,o.body?9:99),ie=v.clientHeight,j(i,"resize",(J=function(){S=Math.max(i.innerWidth||0,v.clientWidth)!==R.width||v.clientHeight!==ie,ie=v.clientHeight,S&&c.fillImgs()},Z=99,ee=function(){var e=new Date-$;e<Z?X=setTimeout(ee,Z-e):(X=null,J())},function(){$=new Date,X||(X=setTimeout(ee,Z))})),j(o,"readystatechange",ne)),c.picturefill=se,c.fillImgs=se,c.teardownRun=f,se._=c,i.picturefillCFG={pf:c,push:function(e){var t=e.shift();"function"==typeof c[t]?c[t].apply(c,e):(y[t]=e[0],P&&c.fillImgs({reselect:!0}))}};for(;A&&A.length;)i.picturefillCFG.push(A.shift());i.picturefill=se,"object"==typeof e.exports?e.exports=se:void 0===(r=function(){return se}.call(t,n,t,e))||(e.exports=r),c.supPicture||(_["image/webp"]=function(e,t){var n=new i.Image;return n.onerror=function(){_[e]=!1,se()},n.onload=function(){_[e]=1===n.width,se()},n.src=t,"pending"}("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document)},166:function(e,t,n){(function(e){
/*!
 * typeahead.js 0.10.5
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT
 */
!function(t){var n=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(e){return void 0===e},toStr:function(e){return n.isUndefined(e)||null===e?"":e+""},bind:t.proxy,each:function(e,n){t.each(e,function(e,t){return n(t,e)})},map:t.map,filter:t.grep,every:function(e,n){var r=!0;return e?(t.each(e,function(t,i){if(!(r=n.call(null,i,t,e)))return!1}),!!r):r},some:function(e,n){var r=!1;return e?(t.each(e,function(t,i){if(r=n.call(null,i,t,e))return!1}),!!r):r},mixin:t.extend,getUniqueId:(e=0,function(){return e++}),templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r,i;return function(){var o,a,s=this,l=arguments;return o=function(){r=null,n||(i=e.apply(s,l))},a=n&&!r,clearTimeout(r),r=setTimeout(o,t),a&&(i=e.apply(s,l)),i}},throttle:function(e,t){var n,r,i,o,a,s;return a=0,s=function(){a=new Date,i=null,o=e.apply(n,r)},function(){var l=new Date,d=t-(l-a);return n=this,r=arguments,d<=0?(clearTimeout(i),i=null,a=l,o=e.apply(n,r)):i||(i=setTimeout(s,d)),o}},noop:function(){}};var e}(),r="0.10.5",i=function(){"use strict";return{nonword:t,whitespace:e,obj:{nonword:r(t),whitespace:r(e)}};function e(e){return(e=n.toStr(e))?e.split(/\s+/):[]}function t(e){return(e=n.toStr(e))?e.split(/\W+/):[]}function r(e){return function(){var t=[].slice.call(arguments,0);return function(r){var i=[];return n.each(t,function(t){i=i.concat(e(n.toStr(r[t])))}),i}}}}(),o=function(){"use strict";function e(e){this.maxSize=n.isNumber(e)?e:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function r(){this.head=this.tail=null}function i(e,t){this.key=e,this.val=t,this.prev=this.next=null}return n.mixin(e.prototype,{set:function(e,t){var n,r=this.list.tail;this.size>=this.maxSize&&(this.list.remove(r),delete this.hash[r.key]),(n=this.hash[e])?(n.val=t,this.list.moveToFront(n)):(n=new i(e,t),this.list.add(n),this.hash[e]=n,this.size++)},get:function(e){var t=this.hash[e];if(t)return this.list.moveToFront(t),t.val},reset:function(){this.size=0,this.hash={},this.list=new r}}),n.mixin(r.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),e}(),a=function(){"use strict";var e,t;try{(e=window.localStorage).setItem("~~~","!"),e.removeItem("~~~")}catch(t){e=null}function r(e){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+n.escapeRegExChars(this.prefix))}return t=e&&window.JSON?{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),a(e.getItem(this._prefix(t)))},set:function(t,r,a){return n.isNumber(a)?e.setItem(this._ttlKey(t),o(i()+a)):e.removeItem(this._ttlKey(t)),e.setItem(this._prefix(t),o(r))},remove:function(t){return e.removeItem(this._ttlKey(t)),e.removeItem(this._prefix(t)),this},clear:function(){var t,n,r=[],i=e.length;for(t=0;t<i;t++)(n=e.key(t)).match(this.keyMatcher)&&r.push(n.replace(this.keyMatcher,""));for(t=r.length;t--;)this.remove(r[t]);return this},isExpired:function(t){var r=a(e.getItem(this._ttlKey(t)));return!!(n.isNumber(r)&&i()>r)}}:{get:n.noop,set:n.noop,remove:n.noop,clear:n.noop,isExpired:n.noop},n.mixin(r.prototype,t),r;function i(){return(new Date).getTime()}function o(e){return JSON.stringify(n.isUndefined(e)?null:e)}function a(e){return JSON.parse(e)}}(),s=function(){"use strict";var e=0,r={},i=6,a=new o(10);function s(e){var r;e=e||{},this.cancelled=!1,this.lastUrl=null,this._send=e.transport?(r=e.transport,function(e,i){var o=t.Deferred();return r(e,i,function(e){n.defer(function(){o.resolve(e)})},function(e){n.defer(function(){o.reject(e)})}),o}):t.ajax,this._get=e.rateLimiter?e.rateLimiter(this._get):this._get,this._cache=!1===e.cache?new o(0):a}return s.setMaxPendingRequests=function(e){i=e},s.resetCache=function(){a.reset()},n.mixin(s.prototype,{_get:function(t,n,o){var a,s=this;function l(e){o&&o(null,e),s._cache.set(t,e)}function d(){o&&o(!0)}this.cancelled||t!==this.lastUrl||((a=r[t])?a.done(l).fail(d):e<i?(e++,r[t]=this._send(t,n).done(l).fail(d).always(function(){e--,delete r[t],s.onDeckRequestArgs&&(s._get.apply(s,s.onDeckRequestArgs),s.onDeckRequestArgs=null)})):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(e,t,r){var i;return n.isFunction(t)&&(r=t,t={}),this.cancelled=!1,this.lastUrl=e,(i=this._cache.get(e))?n.defer(function(){r&&r(null,i)}):this._get(e,t,r),!!i},cancel:function(){this.cancelled=!0}}),s}(),l=function(){"use strict";function e(e){(e=e||{}).datumTokenizer&&e.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=e.datumTokenizer,this.queryTokenizer=e.queryTokenizer,this.reset()}return n.mixin(e.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var t=this;e=n.isArray(e)?e:[e],n.each(e,function(e){var i,o;i=t.datums.push(e)-1,o=r(t.datumTokenizer(e)),n.each(o,function(e){var n,r,o;for(n=t.trie,r=e.split("");o=r.shift();)(n=n.children[o]||(n.children[o]={ids:[],children:{}})).ids.push(i)})})},get:function(e){var t,i,o=this;return t=r(this.queryTokenizer(e)),n.each(t,function(e){var t,n,r,a;if(i&&0===i.length)return!1;for(t=o.trie,n=e.split("");t&&(r=n.shift());)t=t.children[r];if(!t||0!==n.length)return i=[],!1;a=t.ids.slice(0),i=i?function(e,t){var n=0,r=0,i=[];e=e.sort(s),t=t.sort(s);var o=e.length,a=t.length;for(;n<o&&r<a;)e[n]<t[r]?n++:e[n]>t[r]?r++:(i.push(e[n]),n++,r++);return i;function s(e,t){return e-t}}(i,a):a}),i?n.map(function(e){for(var t={},n=[],r=0,i=e.length;r<i;r++)t[e[r]]||(t[e[r]]=!0,n.push(e[r]));return n}(i),function(e){return o.datums[e]}):[]},reset:function(){this.datums=[],this.trie={ids:[],children:{}}},serialize:function(){return{datums:this.datums,trie:this.trie}}}),e;function r(e){return e=n.filter(e,function(e){return!!e}),e=n.map(e,function(e){return e.toLowerCase()})}}(),d=function(){"use strict";return{local:function(e){return e.local||null},prefetch:function(e){var i,o;o={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(i=e.prefetch||null)&&(i=n.isString(i)?{url:i}:i,(i=n.mixin(o,i)).thumbprint=r+i.thumbprint,i.ajax.type=i.ajax.type||"GET",i.ajax.dataType=i.ajax.dataType||"json",!i.url&&t.error("prefetch requires url to be set"));return i},remote:function(e){var r,i;i={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(r=e.remote||null)&&(r=n.isString(r)?{url:r}:r,(r=n.mixin(i,r)).rateLimiter=/^throttle$/i.test(r.rateLimitBy)?(o=r.rateLimitWait,function(e){return n.throttle(e,o)}):function(e){return function(t){return n.debounce(t,e)}}(r.rateLimitWait),r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",delete r.rateLimitBy,delete r.rateLimitWait,!r.url&&t.error("remote requires url to be set"));var o;return r}}}();!function(e){"use strict";var r,o;function c(e){e&&(e.local||e.prefetch||e.remote)||t.error("one of local, prefetch, or remote is required"),this.limit=e.limit||5,this.sorter=function(e){return n.isFunction(e)?function(t){return t.sort(e)}:function(e){return e}}(e.sorter),this.dupDetector=e.dupDetector||u,this.local=d.local(e),this.prefetch=d.prefetch(e),this.remote=d.remote(e),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new l({datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),this.storage=this.cacheKey?new a(this.cacheKey):null}return r=e.Bloodhound,o={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.Bloodhound=c,c.noConflict=function(){return e.Bloodhound=r,c},c.tokenizers=i,n.mixin(c.prototype,{_loadPrefetch:function(e){var n,r,i=this;return(n=this._readFromStorage(e.thumbprint))?(this.index.bootstrap(n),r=t.Deferred().resolve()):r=t.ajax(e.url,e.ajax).done(function(t){i.clear(),i.add(e.filter?e.filter(t):t),i._saveToStorage(i.index.serialize(),e.thumbprint,e.ttl)}),r},_getFromRemote:function(e,t){var n,r,i=this;if(this.transport)return e=e||"",r=encodeURIComponent(e),n=this.remote.replace?this.remote.replace(this.remote.url,e):this.remote.url.replace(this.remote.wildcard,r),this.transport.get(n,this.remote.ajax,function(e,n){t(e?[]:i.remote.filter?i.remote.filter(n):n)})},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(e,t,n){this.storage&&(this.storage.set(o.data,e,n),this.storage.set(o.protocol,location.protocol,n),this.storage.set(o.thumbprint,t,n))},_readFromStorage:function(e){var t,n={};return this.storage&&(n.data=this.storage.get(o.data),n.protocol=this.storage.get(o.protocol),n.thumbprint=this.storage.get(o.thumbprint)),t=n.thumbprint!==e||n.protocol!==location.protocol,n.data&&!t?n.data:null},_initialize:function(){var e,r=this,i=this.local;return e=this.prefetch?this._loadPrefetch(this.prefetch):t.Deferred().resolve(),i&&e.done(function(){r.add(n.isFunction(i)?i():i)}),this.transport=this.remote?new s(this.remote):null,this.initPromise=e.promise()},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){this.index.add(e)},get:function(e,t){var r=this,i=[],o=!1;i=this.index.get(e),(i=this.sorter(i).slice(0,this.limit)).length<this.limit?o=this._getFromRemote(e,function(e){var o=i.slice(0);n.each(e,function(e){return!n.some(o,function(t){return r.dupDetector(e,t)})&&o.push(e),o.length<r.limit}),t&&t(r.sorter(o))}):this._cancelLastRemoteRequest(),o||(i.length>0||!this.transport)&&t&&t(i)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&s.resetCache()},ttAdapter:function(){return n.bind(this.get,this)}}),c;function u(){return!1}}(this);var c={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'},u=function(){"use strict";var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return n.isMsie()&&n.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),n.isMsie()&&n.isMsie()<=7&&n.mixin(e.input,{marginTop:"-1px"}),e}(),f=function(){"use strict";function e(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}return n.mixin(e.prototype,{trigger:function(e){var t=[].slice.call(arguments,1);this.$el.trigger("typeahead:"+e,t)}}),e}(),g=function(){"use strict";var t=/\s+/,n=function(){var t;t=window.setImmediate?function(t){e(function(){t()})}:function(e){setTimeout(function(){e()},0)};return t}();return{onSync:function(e,t,n){return r.call(this,"sync",e,t,n)},onAsync:function(e,t,n){return r.call(this,"async",e,t,n)},off:function(e){var n;if(!this._callbacks)return this;e=e.split(t);for(;n=e.shift();)delete this._callbacks[n];return this},trigger:function(e){var r,o,a,s,l;if(!this._callbacks)return this;e=e.split(t),a=[].slice.call(arguments,1);for(;(r=e.shift())&&(o=this._callbacks[r]);)s=i(o.sync,this,[r].concat(a)),l=i(o.async,this,[r].concat(a)),s()&&n(l);return this}};function r(e,n,r,i){var o;if(!r)return this;for(n=n.split(t),r=i?function(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}(r,i):r,this._callbacks=this._callbacks||{};o=n.shift();)this._callbacks[o]=this._callbacks[o]||{sync:[],async:[]},this._callbacks[o][e].push(r);return this}function i(e,t,n){return function(){for(var r,i=0,o=e.length;!r&&i<o;i+=1)r=!1===e[i].apply(t,n);return!r}}}(),p=function(e){"use strict";var t={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){var i;(r=n.mixin({},t,r)).node&&r.pattern&&(r.pattern=n.isArray(r.pattern)?r.pattern:[r.pattern],i=function(e,t,r){for(var i,o=[],a=0,s=e.length;a<s;a++)o.push(n.escapeRegExChars(e[a]));return i=r?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",t?new RegExp(i):new RegExp(i,"i")}(r.pattern,r.caseSensitive,r.wordsOnly),function e(t,n){var r;for(var i=0;i<t.childNodes.length;i++)3===(r=t.childNodes[i]).nodeType?i+=n(r)?1:0:e(r,n)}(r.node,function(t){var n,o,a;(n=i.exec(t.data))&&(a=e.createElement(r.tagName),r.className&&(a.className=r.className),(o=t.splitText(n.index)).splitText(n[0].length),a.appendChild(o.cloneNode(!0)),t.parentNode.replaceChild(a,o));return!!n}))}}(window.document),h=function(){"use strict";var e;function r(r){var i,o,a,s,l,d=this;(r=r||{}).input||t.error("input is missing"),i=n.bind(this._onBlur,this),o=n.bind(this._onFocus,this),a=n.bind(this._onKeydown,this),s=n.bind(this._onInput,this),this.$hint=t(r.hint),this.$input=t(r.input).on("blur.tt",i).on("focus.tt",o).on("keydown.tt",a),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=n.noop),n.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){e[t.which||t.keyCode]||n.defer(n.bind(d._onInput,d,t))}):this.$input.on("input.tt",s),this.query=this.$input.val(),this.$overflowHelper=(l=this.$input,t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:l.css("font-family"),fontSize:l.css("font-size"),fontStyle:l.css("font-style"),fontVariant:l.css("font-variant"),fontWeight:l.css("font-weight"),wordSpacing:l.css("word-spacing"),letterSpacing:l.css("letter-spacing"),textIndent:l.css("text-indent"),textRendering:l.css("text-rendering"),textTransform:l.css("text-transform")}).insertAfter(l))}return e={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},r.normalizeQuery=function(e){return(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},n.mixin(r.prototype,g,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var n=e[t.which||t.keyCode];this._managePreventDefault(n,t),n&&this._shouldTrigger(n,t)&&this.trigger(n+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(e,t){var n,r,o;switch(e){case"tab":r=this.getHint(),o=this.getInputValue(),n=r&&r!==o&&!i(t);break;case"up":case"down":n=!i(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function(e,t){var n;switch(e){case"tab":n=!i(t);break;default:n=!0}return n},_checkInputValue:function(){var e,t,n,i,o;e=this.getInputValue(),i=e,o=this.query,n=!!(t=r.normalizeQuery(i)===r.normalizeQuery(o))&&this.query.length!==e.length,this.query=e,t?n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(e){this.query=e},getInputValue:function(){return this.$input.val()},setInputValue:function(e,t){this.$input.val(e),t?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,n;n=(e=this.getInputValue())!==(t=this.getHint())&&0===t.indexOf(e),!(""!==e&&n&&!this.hasOverflow())&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,t,r;return e=this.$input.val().length,t=this.$input[0].selectionStart,n.isNumber(t)?t===e:!document.selection||((r=document.selection.createRange()).moveStart("character",-e),e===r.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),r;function i(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}}(),m=function(){"use strict";var e="ttDataset",r="ttValue",i="ttDatum";function o(e){var r;(e=e||{}).templates=e.templates||{},e.source||t.error("missing source"),e.name&&(r=e.name,!/^[_a-zA-Z0-9-]+$/.test(r))&&t.error("invalid dataset name: "+e.name),this.query=null,this.highlight=!!e.highlight,this.name=e.name||n.getUniqueId(),this.source=e.source,this.displayFn=function(e){return e=e||"value",n.isFunction(e)?e:function(t){return t[e]}}(e.display||e.displayKey),this.templates=function(e,t){return{empty:e.empty&&n.templatify(e.empty),header:e.header&&n.templatify(e.header),footer:e.footer&&n.templatify(e.footer),suggestion:e.suggestion||function(e){return"<p>"+t(e)+"</p>"}}}(e.templates,this.displayFn),this.$el=t(c.dataset.replace("%CLASS%",this.name))}return o.extractDatasetName=function(n){return t(n).data(e)},o.extractValue=function(e){return t(e).data(r)},o.extractDatum=function(e){return t(e).data(i)},n.mixin(o.prototype,g,{_render:function(o,a){if(this.$el){var s,l=this;this.$el.empty(),!(s=a&&a.length)&&this.templates.empty?this.$el.html(l.templates.empty({query:o,isEmpty:!0})).prepend(l.templates.header?d():null).append(l.templates.footer?f():null):s&&this.$el.html(function(){var s,d;return s=t(c.suggestions).css(u.suggestions),d=n.map(a,function(n){var o;return(o=t(c.suggestion).append(l.templates.suggestion(n)).data(e,l.name).data(r,l.displayFn(n)).data(i,n)).children().each(function(){t(this).css(u.suggestionChild)}),o}),s.append.apply(s,d),l.highlight&&p({className:"tt-highlight",node:s[0],pattern:o}),s}()).prepend(l.templates.header?d():null).append(l.templates.footer?f():null),this.trigger("rendered")}function d(){return l.templates.header({query:o,isEmpty:!s})}function f(){return l.templates.footer({query:o,isEmpty:!s})}},getRoot:function(){return this.$el},update:function(e){var t=this;this.query=e,this.canceled=!1,this.source(e,function(n){t.canceled||e!==t.query||t._render(e,n)})},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),o}(),v=function(){"use strict";function e(e){var i,o,a,s=this;(e=e||{}).menu||t.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=n.map(e.datasets,r),i=n.bind(this._onSuggestionClick,this),o=n.bind(this._onSuggestionMouseEnter,this),a=n.bind(this._onSuggestionMouseLeave,this),this.$menu=t(e.menu).on("click.tt",".tt-suggestion",i).on("mouseenter.tt",".tt-suggestion",o).on("mouseleave.tt",".tt-suggestion",a),n.each(this.datasets,function(e){s.$menu.append(e.getRoot()),e.onSync("rendered",s._onRendered,s)})}return n.mixin(e.prototype,g,{_onSuggestionClick:function(e){this.trigger("suggestionClicked",t(e.currentTarget))},_onSuggestionMouseEnter:function(e){this._removeCursor(),this._setCursor(t(e.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){this.isEmpty=n.every(this.datasets,function(e){return e.isEmpty()}),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(e,t){e.first().addClass("tt-cursor"),!t&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(e){var t,n,r,i;this.isOpen&&(n=this._getCursor(),t=this._getSuggestions(),this._removeCursor(),-1!==(r=((r=t.index(n)+e)+1)%(t.length+1)-1)?(r<-1&&(r=t.length-1),this._setCursor(i=t.eq(r)),this._ensureVisible(i)):this.trigger("cursorRemoved"))},_ensureVisible:function(e){var t,n,r,i;n=(t=e.position().top)+e.outerHeight(!0),r=this.$menu.scrollTop(),i=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),t<0?this.$menu.scrollTop(r+t):i<n&&this.$menu.scrollTop(r+(n-i))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(e){this.$menu.css("ltr"===e?u.ltr:u.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(e){var t=null;return e.length&&(t={raw:m.extractDatum(e),value:m.extractValue(e),datasetName:m.extractDatasetName(e)}),t},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(e){n.each(this.datasets,function(t){t.update(e)})},empty:function(){n.each(this.datasets,function(e){e.clear()}),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){this.$menu.off(".tt"),this.$menu=null,n.each(this.datasets,function(e){e.destroy()})}}),e;function r(e){return new m(e)}}(),_=function(){"use strict";var e="ttAttrs";function r(r){var i,o,a;(r=r||{}).input||t.error("missing input"),this.isActivated=!1,this.autoselect=!!r.autoselect,this.minLength=n.isNumber(r.minLength)?r.minLength:1,this.$node=function(n,r){var i,o,a,s;i=t(n),o=t(c.wrapper).css(u.wrapper),a=t(c.dropdown).css(u.dropdown),(s=i.clone().css(u.hint).css((l=i,{backgroundAttachment:l.css("background-attachment"),backgroundClip:l.css("background-clip"),backgroundColor:l.css("background-color"),backgroundImage:l.css("background-image"),backgroundOrigin:l.css("background-origin"),backgroundPosition:l.css("background-position"),backgroundRepeat:l.css("background-repeat"),backgroundSize:l.css("background-size")}))).val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),i.data(e,{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")}),i.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(r?u.input:u.inputWithNoHint);var l;try{!i.attr("dir")&&i.attr("dir","auto")}catch(e){}return i.wrap(o).parent().prepend(r?s:null).append(a)}(r.input,r.withHint),i=this.$node.find(".tt-dropdown-menu"),o=this.$node.find(".tt-input"),a=this.$node.find(".tt-hint"),o.on("blur.tt",function(e){var t,r,a;t=document.activeElement,r=i.is(t),a=i.has(t).length>0,n.isMsie()&&(r||a)&&(e.preventDefault(),e.stopImmediatePropagation(),n.defer(function(){o.focus()}))}),i.on("mousedown.tt",function(e){e.preventDefault()}),this.eventBus=r.eventBus||new f({el:o}),this.dropdown=new v({menu:i,datasets:r.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new h({input:o,hint:a}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}return n.mixin(r.prototype,{_onSuggestionClicked:function(e,t){var n;(n=this.dropdown.getDatumForSuggestion(t))&&this._select(n)},_onCursorMoved:function(){var e=this.dropdown.getDatumForCursor();this.input.setInputValue(e.value,!0),this.eventBus.trigger("cursorchanged",e.raw,e.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(e,t){var n,r;n=this.dropdown.getDatumForCursor(),r=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),t.preventDefault()):this.autoselect&&r&&(this._select(r),t.preventDefault())},_onTabKeyed:function(e,t){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),t.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(e,t){this.input.clearHintIfInvalid(),t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var e;this.dir!==(e=this.input.getLanguageDirection())&&(this.dir=e,this.$node.css("direction",e),this.dropdown.setLanguageDirection(e))},_updateHint:function(){var e,t,r,i,o;(e=this.dropdown.getDatumForTopSuggestion())&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(t=this.input.getInputValue(),r=h.normalizeQuery(t),i=n.escapeRegExChars(r),(o=new RegExp("^(?:"+i+")(.+$)","i").exec(e.value))?this.input.setHint(t+o[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(e){var t,n,r,i;t=this.input.getHint(),n=this.input.getQuery(),r=e||this.input.isCursorAtEnd(),t&&n!==t&&r&&((i=this.dropdown.getDatumForTopSuggestion())&&this.input.setInputValue(i.value),this.eventBus.trigger("autocompleted",i.raw,i.datasetName))},_select:function(e){this.input.setQuery(e.value),this.input.setInputValue(e.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",e.raw,e.datasetName),this.dropdown.close(),n.defer(n.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(e){e=n.toStr(e),this.isActivated?this.input.setInputValue(e):(this.input.setQuery(e),this.input.setInputValue(e,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){var t,r;this.input.destroy(),this.dropdown.destroy(),t=this.$node,r=t.find(".tt-input"),n.each(r.data(e),function(e,t){n.isUndefined(e)?r.removeAttr(t):r.attr(t,e)}),r.detach().removeData(e).removeClass("tt-input").insertAfter(t),t.remove(),this.$node=null}}),r}();!function(){"use strict";var e,r,i;e=t.fn.typeahead,r="ttTypeahead",i={initialize:function(e,i){return i=n.isArray(i)?i:[].slice.call(arguments,1),e=e||{},this.each(function(){var o,a=t(this);n.each(i,function(t){t.highlight=!!e.highlight}),o=new _({input:a,eventBus:new f({el:a}),withHint:!!n.isUndefined(e.hint)||!!e.hint,minLength:e.minLength,autoselect:e.autoselect,datasets:i}),a.data(r,o)})},open:function(){return this.each(function(){var e,n=t(this);(e=n.data(r))&&e.open()})},close:function(){return this.each(function(){var e,n=t(this);(e=n.data(r))&&e.close()})},val:function(e){return arguments.length?this.each(function(){var n,i=t(this);(n=i.data(r))&&n.setVal(e)}):function(e){var t,n;(t=e.data(r))&&(n=t.getVal());return n}(this.first())},destroy:function(){return this.each(function(){var e,n=t(this);(e=n.data(r))&&(e.destroy(),n.removeData(r))})}},t.fn.typeahead=function(e){var n;return i[e]&&"initialize"!==e?(n=this.filter(function(){return!!t(this).data(r)}),i[e].apply(n,[].slice.call(arguments,1))):i.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=e,this}}()}(window.jQuery)}).call(this,n(167).setImmediate)},167:function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(168),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(9))},168:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,l=1,d={},c=!1,u=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(i=u.documentElement,r=function(e){var t=u.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return d[l]=i,r(l),l++},f.clearImmediate=g}function g(e){delete d[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=d[e];if(t){c=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{g(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(9),n(12))},20:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}CNN.Features=CNN.Features||{},CNN.VideoConfig=CNN.VideoConfig||{},CNN.VideoConfig.liveStream=CNN.VideoConfig.liveStream||{},CNN.GeoCheck=function(e,t){"use strict";var r,i,o,a=null;return CNN._geoCheckReadyEvent=!1,e.fn.extend({onGeoCheckReady:function(r){"function"==typeof r&&(!0===CNN._geoCheckReadyEvent?r(e):e(t).on("geoCheckReady",{handler:r},function(t){"object"===n((t=t||{}).data)&&null!==t.data&&"function"==typeof t.data.handler&&t.data.handler(e)}))},triggerGeoCheckReady:function(){CNN._geoCheckReadyEvent=!0,e(t).trigger("geoCheckReady")}}),null!==(o=CNN.Utils.getCookie("geoData"))&&(r=o.split("|")).length>4&&((a={city:"?"===r[0]?"":r[0],region:"?"===r[1]?"":r[1].toUpperCase(),postCode:"?"===r[2]?"":r[2].toUpperCase(),country:"?"===r[3]?"":r[3].toUpperCase(),continent:"?"===r[4]?"":r[4].toUpperCase()}).inGDPR=-1!==a.country.search(/^(GB|DE|FR|IT|ES|PL|RO|NL|BE|GR|CZ|PT|SE|HU|AT|BG|DK|FI|SK|IE|HR|LT|SI|LV|EE|CY|LU|MT|NO|IS|LI)$/)),0!==(i=t.getElementsByTagName("html")).length&&i[0].classList.add(a&&!0===a.inGDPR?"gdpr":"no-gdpr"),e(t).triggerGeoCheckReady(),{getData:function(){return a},inTarget:function(e){var t,n,r,i,o,s=!0;if(null!==a&&!0===Array.isArray(e)&&e.length>0)for(i=(r=a.country+":"+a.region)+":"+a.city.toLowerCase(),t=0;t<e.length;t++)"-"===(o=e[t]).charAt(0)?(o=o.slice(1),n=!1):n=!0,"*"===o?s=n:"#"===o.charAt(0)?a.continent===o.slice(1)&&(s=n):(2===o.length&&a.country===o||5===o.length&&r===o||o.length>6&&i===o)&&(s=n);return s},isReady:function(){return CNN._geoCheckReadyEvent}}}(jQuery,document)},214:function(e,t,n){n(215)(n(216))},215:function(e,t){e.exports=function(e){function t(e){"undefined"!=typeof console&&(console.error||console.log)("[Script Loader]",e)}try{"undefined"!=typeof execScript&&"undefined"!=typeof attachEvent&&"undefined"==typeof addEventListener?execScript(e):"undefined"!=typeof eval?eval.call(null,e):t("EvalError: No eval function available")}catch(e){t(e)}}},216:function(e,t){e.exports='function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*\n * CNN AdFuel Modules (AIS)\n */CNN=window.CNN||{};CNN.AdsConfig=CNN.AdsConfig||{};/* Only load if runtime config not set */if(CNN.AdsConfig.aisOverride){(function(doc,cnn){\'use strict\';var elem=doc.createElement(\'script\'),sl=doc.getElementsByTagName(\'script\')[0];elem.type=\'text/javascript\';elem.src=(doc.location.protocol===\'https:\'?\'https:\':\'http:\')+cnn.AdsConfig.aisOverride;sl.parentNode.insertBefore(elem,sl);})(document,window.CNN);}else{CNN.AdsConfig.amazon=CNN.AdsConfig.amazon||{};CNN.Features=CNN.Features||{};CNN.SiteLocation=CNN.SiteLocation||{};CNN.SiteLocation.vertical=CNN.SiteLocation.vertical||\'\';(function createAdFuelUtilities(){var MODULE_NAME=\'AdFuel Utilities\';var MODULE_VERSION=\'v3.1.15\';var cdnRoot=document.location.hostname.indexOf(\'cnn.com\')>=0?\'cdn.cnn.com\':\'i.cdn.turner.com\';window.googletag=window.googletag||{};window.googletag.cmd=window.googletag.cmd||[];// Promise Polyfill\n// eslint-disable-next-line\n!function(e,n){(typeof exports==="undefined"?"undefined":_typeof(exports))===\'object\'&&typeof module!=\'undefined\'?n():typeof define==\'function\'&&define.amd?define(n):n();}(0,function(){\'use strict\';function e(){}function n(e){if(!(this instanceof n))throw new TypeError(\'Promises must be constructed via new\');if(typeof e!=\'function\')throw new TypeError(\'not a function\');this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],f(e,this);}function t(e,t){for(;e._state===3;){e=e._value;}e._state!==0?(e._handled=!0,n._immediateFn(function(){var n=e._state===1?t.onFulfilled:t.onRejected;if(n!==null){var i;try{i=n(e._value);}catch(f){return void r(t.promise,f);}o(t.promise,i);}else(e._state===1?o:r)(t.promise,e._value);})):e._deferreds.push(t);}function o(e,t){try{if(t===e)throw new TypeError(\'A promise cannot be resolved with itself.\');if(t&&(_typeof(t)===\'object\'||typeof t==\'function\')){var o=t.then;if(t instanceof n)return e._state=3,e._value=t,void i(e);if(typeof o==\'function\')return void f(function(e,n){return function(){e.apply(n,arguments);};}(o,t),e);}e._state=1,e._value=t,i(e);}catch(u){r(e,u);}}function r(e,n){e._state=2,e._value=n,i(e);}function i(e){e._state===2&&e._deferreds.length===0&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value);});for(var o=0,r=e._deferreds.length;r>o;o++){t(e,e._deferreds[o]);}e._deferreds=null;}function f(e,n){var t=!1;try{e(function(e){t||(t=!0,o(n,e));},function(e){t||(t=!0,r(n,e));});}catch(i){if(t)return;t=!0,r(n,i);}}var u=setTimeout;n.prototype["catch"]=function(e){return this.then(null,e);},n.prototype.then=function(n,o){var r=new this.constructor(e);return t(this,new function(e,n,t){this.onFulfilled=typeof e==\'function\'?e:null,this.onRejected=typeof n==\'function\'?n:null,this.promise=t;}(n,o,r)),r;},n.prototype["finally"]=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t;});},function(t){return n.resolve(e()).then(function(){return n.reject(t);});});},n.all=function(e){return new n(function(n,t){function o(e,f){try{if(f&&(_typeof(f)==\'object\'||typeof f===\'function\')){var u=f.then;if(typeof u==\'function\')return void u.call(f,function(n){o(e,n);},t);}r[e]=f,--i==0&&n(r);}catch(c){t(c);}}if(!e||typeof e.length==\'undefined\')throw new TypeError(\'Promise.all accepts an array\');var r=Array.prototype.slice.call(e);if(r.length===0)return n([]);for(var i=r.length,f=0;r.length>f;f++){o(f,r[f]);}});},n.resolve=function(e){return e&&_typeof(e)==\'object\'&&e.constructor===n?e:new n(function(n){n(e);});},n.reject=function(e){return new n(function(n,t){t(e);});},n.race=function(e){return new n(function(n,t){for(var o=0,r=e.length;r>o;o++){e[o].then(n,t);}});},n._immediateFn=typeof setImmediate===\'function\'&&function(e){setImmediate(e);}||function(e){u(e,0);},n._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn(\'Possible Unhandled Promise Rejection:\',e);};var c=function(){if(\'undefined\'!==typeof self)return self;if(\'undefined\'!==typeof window)return window;if(void 0!==c)return c;throw Error(\'unable to locate global object\');}();c.Promise||(c.Promise=n);});// Object.assign Polyfill\n// eslint-disable-next-line\ntypeof Object.assign!==\'function\'&&Object.defineProperty(Object,\'assign\',{value:function value(e,t){\'use strict\';if(e==null)throw new TypeError(\'Cannot convert undefined or null to object\');for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(o!=null)for(var c in o){Object.prototype.hasOwnProperty.call(o,c)&&(n[c]=o[c]);}}return n;},writable:!0,configurable:!0});// Console, Event Listener and Array Polyfills\n!function(t){\'use strict\';function n(){return a&&a.call(c)||new Date().getTime();}var o=[];var e={};var r={};var i=function i(){};var u=\'-----\';u+=u;u+=u;u+=u;u+=u;var f=\'\\n\\n\\n\\n\\n\\n\';var c=window.performance;var a=c&&(c.now||c.mozNow||c.msNow||c.oNow||c.webkitNow);t.log&&typeof t.log===\'function\'||(t.log=i);t.profile&&typeof t.profile===\'function\'||(t.profile=i);t.profileEnd&&typeof t.profileEnd===\'function\'||(t.profileEnd=i);t.timeStamp&&typeof t.timeStamp===\'function\'||(t.timeStamp=i);t.trace&&typeof t.trace===\'function\'||(t.trace=i);t.debug&&typeof t.debug===\'function\'||(t.debug=t.log);t.info&&typeof t.info===\'function\'||(t.info=t.log);t.warn&&typeof t.warn===\'function\'||(t.warn=t.log);t.error&&typeof t.error===\'function\'||(t.error=t.log);t.dir&&typeof t.dir===\'function\'||(t.dir=t.log);t.dirxml&&typeof t.dirxml===\'function\'||(t.dirxml=t.dir);var l=!1;(l||!t.group)&&(t.group=function(nA){o.push(nA);t.log(u+\'\\nBEGIN GROUP: \'+nA);});(l||!t.groupCollapsed)&&(t.groupCollapsed=t.group);(l||!t.groupEnd)&&(t.groupEnd=function(){t.log(\'END GROUP: \'+o.pop()+\'\\n\'+u);});(l||!t.time)&&(t.time=function(t2){e[t2]=n();});(l||!t.timeEnd)&&(t.timeEnd=function(o2){t.log(o2+\': \'+(n()-e[o2]).toFixed(3)+\'ms\');delete e[o2];});(l||!t.assert)&&(t.assert=function(n2,o3){n2||t.error(\'Assertion failed: \'+o3);});(l||!t.count)&&(t.count=function(n3){r[n3]||(r[n3]=0);r[n3]++;t.log(n3+\': \'+r[n3]);});(l||!t.clear)&&(t.clear=function(){t.log(f);});}(window.console=window.console||{});(function(){// eslint-disable-next-line\nfunction t(t,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent(\'CustomEvent\');return o.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),o;}// eslint-disable-next-line\nreturn typeof window.CustomEvent===\'function\'?!1:(t.prototype=window.Event.prototype,void(window.CustomEvent=t));})();!window.addEventListener&&function(t,n,o,e,r,i,u){// eslint-disable-next-line\nt[e]=n[e]=o[e]=function(t,n){// eslint-disable-next-line\nvar o=this;// eslint-disable-next-line\nu.unshift([o,t,n,function(t){t.currentTarget=o,t.preventDefault=function(){t.returnValue=!1;},t.stopPropagation=function(){t.cancelBubble=!0;},t.target=t.srcElement||o,n.call(o,t);}]),this.attachEvent(\'on\'+t,u[0][3]);};// eslint-disable-next-line\nt[r]=n[r]=o[r]=function(t,n){// eslint-disable-next-line\nfor(var o,e=0;o=u[e];++e){if(o[0]==this&&o[1]==t&&o[2]==n)return this.detachEvent(\'on\'+t,u.splice(e,1)[0][3]);}};// eslint-disable-next-line\nt[i]=n[i]=o[i]=function(t){return this.fireEvent(\'on\'+t.type,t);};}(window.prototype,document.prototype,Element.prototype,\'addEventListener\',\'removeEventListener\',\'dispatchEvent\',[]);// eslint-disable-next-line\nArray.prototype.indexOf||(Array.prototype.indexOf=function(t,n){var o;if(this===null)throw new TypeError(\'"this" is null or not defined\');var e=Object(this);var r=e.length>>>0;if(r===0)return-1;var i=+n||0;// eslint-disable-next-line\nif(Math.abs(i)===1/0&&(i=0),i>=r)return-1;for(o=Math.max(i>=0?i:r-Math.abs(i),0);r>o;){if(o in e&&e[o]===t)return o;o++;}return-1;});Array.isArray||(Array.isArray=function(t){return Object.prototype.toString.call(t)===\'[object Array]\';});// Fetch Polyfill\nvar support={searchParams:\'URLSearchParams\'in self,iterable:\'Symbol\'in self&&\'iterator\'in Symbol,blob:\'FileReader\'in self&&\'Blob\'in self&&function(){try{new Blob();return true;}catch(e){return false;}}(),formData:\'FormData\'in self,arrayBuffer:\'ArrayBuffer\'in self};function isDataView(obj){return obj&&DataView.prototype.isPrototypeOf(obj);}if(support.arrayBuffer){var viewClasses=[\'[object Int8Array]\',\'[object Uint8Array]\',\'[object Uint8ClampedArray]\',\'[object Int16Array]\',\'[object Uint16Array]\',\'[object Int32Array]\',\'[object Uint32Array]\',\'[object Float32Array]\',\'[object Float64Array]\'];var isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1;};}function normalizeName(name){if(typeof name!==\'string\'){name=String(name);}if(/[^a-z0-9\\-#$%&\'*+.^_`|~]/i.test(name)){throw new TypeError(\'Invalid character in header field name\');}return name.toLowerCase();}function normalizeValue(value){if(typeof value!==\'string\'){value=String(value);}return value;}// Build a destructive iterator for the value list\nfunction iteratorFor(items){var iterator={next:function next(){var value=items.shift();return{done:value===undefined,value:value};}};if(support.iterable){iterator[Symbol.iterator]=function(){return iterator;};}return iterator;}window.Headers=function(headers){this.map={};if(headers instanceof Headers){headers.forEach(function(value,name){this.append(name,value);},this);}else if(Array.isArray(headers)){headers.forEach(function(header){this.append(header[0],header[1]);},this);}else if(headers){Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name]);},this);}};Headers.prototype.append=function(name,value){name=normalizeName(name);value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+\', \'+value:value;};Headers.prototype[\'delete\']=function(name){delete this.map[normalizeName(name)];};Headers.prototype.get=function(name){name=normalizeName(name);return this.has(name)?this.map[name]:null;};Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name));};Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value);};Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map){if(this.map.hasOwnProperty(name)){callback.call(thisArg,this.map[name],name,this);}}};Headers.prototype.keys=function(){var items=[];this.forEach(function(value,name){items.push(name);});return iteratorFor(items);};Headers.prototype.values=function(){var items=[];this.forEach(function(value){items.push(value);});return iteratorFor(items);};Headers.prototype.entries=function(){var items=[];this.forEach(function(value,name){items.push([name,value]);});return iteratorFor(items);};if(support.iterable){Headers.prototype[Symbol.iterator]=Headers.prototype.entries;}function consumed(body){if(body.bodyUsed){return Promise.reject(new TypeError(\'Already read\'));}body.bodyUsed=true;}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result);};reader.onerror=function(){reject(reader.error);};});}function readBlobAsArrayBuffer(blob){var reader=new FileReader();var promise=fileReaderReady(reader);reader.readAsArrayBuffer(blob);return promise;}function readBlobAsText(blob){var reader=new FileReader();var promise=fileReaderReady(reader);reader.readAsText(blob);return promise;}function readArrayBufferAsText(buf){var view=new Uint8Array(buf);var chars=new Array(view.length);for(var i=0;i<view.length;i++){chars[i]=String.fromCharCode(view[i]);}return chars.join(\'\');}function bufferClone(buf){if(buf.slice){return buf.slice(0);}else{var view=new Uint8Array(buf.byteLength);view.set(new Uint8Array(buf));return view.buffer;}}function Body(){this.bodyUsed=false;this._initBody=function(body){this._bodyInit=body;if(!body){this._bodyText=\'\';}else if(typeof body===\'string\'){this._bodyText=body;}else if(support.blob&&Blob.prototype.isPrototypeOf(body)){this._bodyBlob=body;}else if(support.formData&&FormData.prototype.isPrototypeOf(body)){this._bodyFormData=body;}else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)){this._bodyText=body.toString();}else if(support.arrayBuffer&&support.blob&&isDataView(body)){this._bodyArrayBuffer=bufferClone(body.buffer);// IE 10-11 can\'t handle a DataView body.\nthis._bodyInit=new Blob([this._bodyArrayBuffer]);}else if(support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))){this._bodyArrayBuffer=bufferClone(body);}else{this._bodyText=body=Object.prototype.toString.call(body);}if(!this.headers.get(\'content-type\')){if(typeof body===\'string\'){this.headers.set(\'content-type\',\'text/plain;charset=UTF-8\');}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set(\'content-type\',this._bodyBlob.type);}else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)){this.headers.set(\'content-type\',\'application/x-www-form-urlencoded;charset=UTF-8\');}}};if(support.blob){this.blob=function(){var rejected=consumed(this);if(rejected){return rejected;}if(this._bodyBlob){return Promise.resolve(this._bodyBlob);}else if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]));}else if(this._bodyFormData){throw new Error(\'could not read FormData body as blob\');}else{return Promise.resolve(new Blob([this._bodyText]));}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){return consumed(this)||Promise.resolve(this._bodyArrayBuffer);}else{return this.blob().then(readBlobAsArrayBuffer);}};}this.text=function(){var rejected=consumed(this);if(rejected){return rejected;}if(this._bodyBlob){return readBlobAsText(this._bodyBlob);}else if(this._bodyArrayBuffer){return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));}else if(this._bodyFormData){throw new Error(\'could not read FormData body as text\');}else{return Promise.resolve(this._bodyText);}};if(support.formData){this.formData=function(){return this.text().then(decode);};}this.json=function(){return this.text().then(JSON.parse);};return this;}// HTTP methods whose capitalization should be normalized\nvar methods=[\'DELETE\',\'GET\',\'HEAD\',\'OPTIONS\',\'POST\',\'PUT\'];function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method;}window.Request=function(input,options){options=options||{};var body=options.body;if(input instanceof Request){if(input.bodyUsed){throw new TypeError(\'Already read\');}this.url=input.url;this.credentials=input.credentials;if(!options.headers){this.headers=new Headers(input.headers);}this.method=input.method;this.mode=input.mode;this.signal=input.signal;if(!body&&input._bodyInit!=null){body=input._bodyInit;input.bodyUsed=true;}}else{this.url=String(input);}this.credentials=options.credentials||this.credentials||\'same-origin\';if(options.headers||!this.headers){this.headers=new Headers(options.headers);}this.method=normalizeMethod(options.method||this.method||\'GET\');this.mode=options.mode||this.mode||null;this.signal=options.signal||this.signal;this.referrer=null;if((this.method===\'GET\'||this.method===\'HEAD\')&&body){throw new TypeError(\'Body not allowed for GET or HEAD requests\');}this._initBody(body);};Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit});};function decode(body){var form=new FormData();body.trim().split(\'&\').forEach(function(bytes){if(bytes){var split=bytes.split(\'=\');var name=split.shift().replace(/\\+/g,\' \');var value=split.join(\'=\').replace(/\\+/g,\' \');form.append(decodeURIComponent(name),decodeURIComponent(value));}});return form;}function parseHeaders(rawHeaders){var headers=new Headers();// Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n// https://tools.ietf.org/html/rfc7230#section-3.2\nvar preProcessedHeaders=rawHeaders.replace(/\\r?\\n[\\t ]+/g,\' \');preProcessedHeaders.split(/\\r?\\n/).forEach(function(line){var parts=line.split(\':\');var key=parts.shift().trim();if(key){var value=parts.join(\':\').trim();headers.append(key,value);}});return headers;}Body.call(Request.prototype);window.Response=function(bodyInit,options){if(!options){options={};}this.type=\'default\';this.status=options.status===undefined?200:options.status;this.ok=this.status>=200&&this.status<300;this.statusText=\'statusText\'in options?options.statusText:\'OK\';this.headers=new Headers(options.headers);this.url=options.url||\'\';this._initBody(bodyInit);};Body.call(Response.prototype);Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url});};Response.error=function(){var response=new Response(null,{status:0,statusText:\'\'});response.type=\'error\';return response;};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(redirectStatuses.indexOf(status)===-1){throw new RangeError(\'Invalid status code\');}return new Response(null,{status:status,headers:{location:url}});};var DOMException=window.DOMException;try{new DOMException();}catch(err){DOMException=function DOMException(message,name){this.message=message;this.name=name;var error=Error(message);this.stack=error.stack;};DOMException.prototype=Object.create(Error.prototype);DOMException.prototype.constructor=DOMException;}window.fetch=function fetch(input,init){return new Promise(function(resolve,reject){var request=new Request(input,init);if(request.signal&&request.signal.aborted){return reject(new DOMException(\'Aborted\',\'AbortError\'));}var xhr=new XMLHttpRequest();function abortXhr(){xhr.abort();}xhr.onload=function(){var options={status:xhr.status,statusText:xhr.statusText,headers:parseHeaders(xhr.getAllResponseHeaders()||\'\')};options.url=\'responseURL\'in xhr?xhr.responseURL:options.headers.get(\'X-Request-URL\');var body=\'response\'in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options));};xhr.onerror=function(){reject(new TypeError(\'Network request failed\'));};xhr.ontimeout=function(){reject(new TypeError(\'Network request failed\'));};xhr.onabort=function(){reject(new DOMException(\'Aborted\',\'AbortError\'));};xhr.open(request.method,request.url,true);if(request.credentials===\'include\'){xhr.withCredentials=true;}else if(request.credentials===\'omit\'){xhr.withCredentials=false;}if(\'responseType\'in xhr&&support.blob){xhr.responseType=\'blob\';}request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value);});if(request.signal){request.signal.addEventListener(\'abort\',abortXhr);xhr.onreadystatechange=function(){// DONE (success or failure)\nif(xhr.readyState===4){request.signal.removeEventListener(\'abort\',abortXhr);}};}xhr.send(typeof request._bodyInit===\'undefined\'?null:request._bodyInit);});};fetch.polyfill=true;var isFunction=function _isFunction(object){return toString.call(object)===\'[object Function]\';};var isObject=function _isObject(object){var type=_typeof(object);return type===\'function\'||type===\'object\'&&!!object;};var getURLParam=function _getURLParam(name){var nameParam=name.replace(/[\\[]/,\'\\\\\\[\').replace(/[\\]]/,\'\\\\\\]\');var regexS=\'[\\\\?&]\'+nameParam+\'=([^&#]*)\';var regex=new RegExp(regexS);if(document.location.search){var results=regex.exec(document.location.search);if(results){return results[1];}return\'\';}return\'\';};var hasCookie=function _hasCookie(name){logger.log(\'looking for cookie with name of: \',name);if(typeof window===\'undefined\')return false;if(document.cookie){logger.log(\'found?\',document.cookie.indexOf(\'; \'+name+\'=\')>=0||document.cookie.indexOf(name+\'=\')===0);return document.cookie.indexOf(\'; \'+name+\'=\')>=0||document.cookie.indexOf(name+\'=\')===0;}return false;};var getViewport=function _getViewport(){var viewportWidth;var viewportHeight;if(typeof window.innerWidth!==\'undefined\'){viewportWidth=window.innerWidth;viewportHeight=window.innerHeight;}else if(typeof document.documentElement!==\'undefined\'&&typeof document.documentElement.clientWidth!==\'undefined\'&&document.documentElement.clientWidth!==0){viewportWidth=document.documentElement.clientWidth;viewportHeight=document.documentElement.clientHeight;}else{viewportWidth=document.getElementsByTagName(\'body\')[0].clientWidth;viewportHeight=document.getElementsByTagName(\'body\')[0].clientHeight;}return[viewportWidth,viewportHeight];};var getBrowser=function _getBrowser(){logger.time(\'Getting Browser Information\');var ua=navigator.userAgent;var tem;var M=ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i)||[];if(/trident/i.test(M[1])){tem=/\\brv[ :]+(\\d+)/g.exec(ua)||[];return\'IE \'+(tem[1]||\'\');}if(M[1]===\'Chrome\'){tem=ua.match(/\\b(OPR|Edge)\\/(\\d+)/);if(tem!==null)return tem.slice(1).join(\' \').replace(\'OPR\',\'Opera\');}M=M[2]?[M[1],M[2]]:[navigator.appName,navigator.appVersion,\'-?\'];// eslint-disable-next-line\nif((tem=ua.match(/version\\/(\\d+)/i))!==null)M.splice(1,1,tem[1]);logger.timeEnd(\'Getting Browser Information\');return M.join(\' \');};var readCookie=function _readCookie(name){var readTheCookie=function readTheCookie(key){if(!document.cookie){// there is no cookie, so go no further\nreturn null;}// there is a cookie\nvar ca=document.cookie.split(\';\');var nameEQ=key+\'=\';for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)===\' \'){// delete spaces\nc=c.substring(1,c.length);}if(c.indexOf(nameEQ)===0){return c.substring(nameEQ.length,c.length);}}return null;};var lsSupport=false;var data=null;// Check for native support\nif(localStorage){lsSupport=true;}// No value supplied, return value\nif(typeof value===\'undefined\'){// Get value\nif(lsSupport){// Native support\ndata=localStorage.getItem(name);}if(!lsSupport||data===null){// Use cookie\ndata=readTheCookie(name);}// Try to parse JSON...\ntry{data=JSON.parse(data);}catch(e){// Do Nothing\n}}return data;};var emptyTarget=function emptyTarget(value){return Array.isArray(value)?[]:{};};function deepmerge(target,source,optionsArgument){var array=Array.isArray(source);var options=optionsArgument||{arrayMerge:combineMerge};var arrayMerge=options.arrayMerge||combineMerge;if(array){return Array.isArray(target)?arrayMerge(target,source,optionsArgument):cloneIfNecessary(source,optionsArgument);}else{return mergeObject(target,source,optionsArgument);}}function combineMerge(target,source,options){var destination=target.slice();source.forEach(function(e,i){if(typeof destination[i]===\'undefined\'){var cloneRequested=clone!==false;var shouldClone=cloneRequested&&isMergeableObject(e);destination[i]=shouldClone?deepmerge(emptyTarget(e),e,options):e;}else if(isMergeableObject(e)){destination[i]=merge(target[i],e,options);}else if(target.indexOf(e)===-1){destination.push(e);}});return destination;}function isMergeableObject(val){var nonNullObject=val&&_typeof(val)===\'object\';return nonNullObject&&Object.prototype.toString.call(val)!==\'[object RegExp]\'&&Object.prototype.toString.call(val)!==\'[object Date]\';}function cloneIfNecessary(value,optionsArgument){var clone=optionsArgument&&optionsArgument.clone===true;return clone&&isMergeableObject(value)?deepmerge(emptyTarget(value),value,optionsArgument):value;}function defaultArrayMerge(target,source,optionsArgument){var destination=target.slice();source.forEach(function(e,i){if(typeof destination[i]===\'undefined\'){destination[i]=cloneIfNecessary(e,optionsArgument);}else if(isMergeableObject(e)){destination[i]=deepmerge(target[i],e,optionsArgument);}else if(target.indexOf(e)===-1){destination.push(cloneIfNecessary(e,optionsArgument));}});return destination;}function mergeObject(target,source,optionsArgument){var destination={};if(isMergeableObject(target)){Object.keys(target).forEach(function(key){destination[key]=cloneIfNecessary(target[key],optionsArgument);});}Object.keys(source).forEach(function(key){if(!isMergeableObject(source[key])||!target[key]){destination[key]=cloneIfNecessary(source[key],optionsArgument);}else{destination[key]=deepmerge(target[key],source[key],optionsArgument);}});return destination;}deepmerge.all=function deepmergeAll(array,optionsArgument){if(!Array.isArray(array)||array.length<2){throw new Error(\'first argument should be an array with at least two elements\');}// we are sure there are at least 2 values, so it is safe to have no initial value\nreturn array.reduce(function(prev,next){return deepmerge(prev,next,optionsArgument);});};var mergeDeep=function mergeDeep(target,source){return deepmerge(target,source);};var countryCode=readCookie(\'countryCode\')||(readCookie(\'CG\')?readCookie(\'CG\').substr(0,2):\'\');var appId=\'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c\';var locationServiceURL=\'https://geo.ngtv.io/locate?appId=\'+appId;function getLocation(){return fetch(locationServiceURL).then(function(resp){return resp.json();})["catch"](function(err){logger.error(\'Could not get user location: \',err);});}var selectedEdition=readCookie(\'SelectedEdition\')?readCookie(\'SelectedEdition\'):\'www\';var monetizedSizes=[\'160x600\',\'300x250\',\'300x600\',\'320x50\',\'728x90\',\'970x90\',\'970x250\'];var invalidMappings=[\'_ns_\',\'_nfs_\'];var invalidAdUnitSegments=[\'super-ad-zone\',\'super_ad_zone\'];var invalidAdUnits=[\'CNN/health\',\'CNN/health/healthgrades\',\'CNN/health/leaf\',\'CNN/health/list\',\'CNN/health/photos\',\'CNN/health/specials\',\'CNN/health/video\',\'CNN/student-news\'];var getLogger=function _getLogger(moduleName,moduleVersion,logKey,style){var log=noop;var info=noop;var warn=noop;var time=noop;var timeEnd=noop;var group=noop;var groupEnd=noop;var error=noop;var inGroup=false;var args;var styleFinal=style||\'\';var logKeyFinal=logKey||moduleName.toLowerCase();var debug=getURLParam(\'debug\').split(\',\');var debugTest=isObject(window.console)&&isFunction(window.console.log)&&(debug[0]==="true"||debug.indexOf(logKeyFinal.toLowerCase())>=0);if(debugTest){log=function _logFunc()/* arguments */{if(!inGroup){args=[\'%c[\'+moduleName+\' \'+moduleVersion+\'] \',styleFinal];args.push.apply(args,arguments);window.console.log.apply(window.console,args);}else{args=[\'%c[\'+moduleName+\' \'+moduleVersion+\'] \',styleFinal];args.push.apply(args,arguments);window.console.log.apply(window.console,args);}};info=function _infoFunc()/* arguments */{if(!inGroup){args=[\'%c[\'+moduleName+\' \'+moduleVersion+\'] \',styleFinal];args.push.apply(args,arguments);window.console.info.apply(window.console,args);}else{args=[\'%c[\'+moduleName+\' \'+moduleVersion+\'] \',styleFinal];args.push.apply(args,arguments);window.console.info.apply(window.console,args);}};warn=function _warnFunc()/* arguments */{if(!inGroup){args=[\'%c[\'+moduleName+\' \'+moduleVersion+\'] \',styleFinal];args.push.apply(args,arguments);window.console.warn.apply(window.console,args);}else{args=[\'%c[\'+moduleName+\' \'+moduleVersion+\'] \',styleFinal];args.push.apply(args,arguments);window.console.warn.apply(window.console,args);}};error=function _errorFunc()/* arguments */{if(!inGroup){args=[\'%c[\'+moduleName+\' \'+moduleVersion+\'] \',styleFinal];args.push.apply(args,arguments);window.console.error.apply(window.console,args);}else{args=[\'%c[\'+moduleName+\' \'+moduleVersion+\'] \',styleFinal];args.push.apply(args,arguments);window.console.error.apply(window.console,args);}};group=function _groupFunc(groupName){if(!inGroup){var args=[\'%c[\'+moduleName+\' \'+moduleVersion+\']\',styleFinal,groupName];inGroup=true;window.console.groupCollapsed.apply(window.console,args);}};groupEnd=function _groupEndFunc(groupName){var args=[\'%c[\'+moduleName+\' \'+moduleVersion+\']\',styleFinal,groupName];inGroup=false;try{window.console.groupEnd.apply(window.console,args);}catch(err){// Do Nothing\n}};time=function _timeFunc(timeTag){var timeKey=\'[\'+moduleName+\' \'+moduleVersion+\'] - \'+timeTag;group(timeTag);addMark(timeKey+\'-Start\');window.console.time(timeKey);};timeEnd=function _timeEndFunc(timeTag){var timeKey=\'[\'+moduleName+\' \'+moduleVersion+\'] - \'+timeTag;addMark(timeKey+\'-End\');addMeasure(timeKey,timeKey+\'-Start\',timeKey+\'-End\');groupEnd(timeTag);window.console.timeEnd(timeKey);};}var logger={log:log,info:info,warn:warn,error:error,time:time,timeEnd:timeEnd,group:group,groupEnd:groupEnd};return logger;};var objectProto=Object.prototype;var toString=objectProto.toString;var noop=function noop(){};var isIntl=false;var parser=document.createElement(\'a\');parser.href=document.location.href;var hostname=parser.hostname;var pathname=parser.pathname;var logger=getLogger(MODULE_NAME,MODULE_VERSION,\'utils\',\'color: coral; padding: 2px\');var addEvent=function _addEvent(element,event,fn){if(element.addEventListener){element.addEventListener(event,fn,true);}else if(element.attachEvent){element.attachEvent(\'on\'+event,fn);}};var bind=function _bind(fn,context/* , function arguments */){if(!isFunction(fn)){throw new TypeError(\'Bind must be called on a function\');}var args=Array.prototype.slice.call(arguments,2);return function bound(){return fn.apply(context,args.concat(Array.prototype.slice.call(arguments)));};};var re=/(([^<>()\\[\\]\\.,;:\\s@\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\"]+)*)|(\\".+\\"))@(([^<>()\\[\\]\\.,;:\\s@\\"]+\\.)+[^<>()\\[\\]\\.,;:\\s@\\"]{2,})/i;var piiIsPresentInQueryString=function _piiIsPresentInQueryString(){if(document.location.search){var dirtyResults=document.location.search.search(re)+1;var cleanResults;try{cleanResults=decodeURIComponent(document.location.search).search(re)+1;}catch(err){cleanResults=dirtyResults;}return dirtyResults===1||cleanResults===1;}return false;};var piiIsPresentInHash=function _piiIsPresentInHash(){if(document.location.hash){var dirtyResults=document.location.hash.search(re)+1;var cleanResults;try{cleanResults=decodeURIComponent(document.location.hash).search(re)+1;}catch(err){cleanResults=dirtyResults;}return dirtyResults||cleanResults;}return false;};var piiIsPresentInReferrer=function _piiIsPresentInReferrer(){if(document.referrer){var dirtyResults=document.referrer.search(re)+1;var cleanResults;try{cleanResults=decodeURIComponent(document.location.referrer).search(re)+1;}catch(err){cleanResults=dirtyResults;}return dirtyResults||cleanResults;}return false;};var filterDFPRequest=function _filterDFPRequest(){if(piiIsPresentInQueryString()||piiIsPresentInHash()||piiIsPresentInReferrer()){if(window.AdFuel){logger.log(\'Filtering DFP Request due to PII in query string.\');var AdFuelMethods=Object.getOwnPropertyNames(window.AdFuel);for(var x=0;x<AdFuelMethods.length;x++){window.AdFuel[AdFuelMethods[x]]=function filteredAdFuelMethod(){};}window.googletag=null;}return true;}return false;};var piiFilter={qs:piiIsPresentInQueryString,hash:piiIsPresentInHash,ref:piiIsPresentInReferrer,filter:filterDFPRequest};var base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function encode(e){var t="";var n,r,i,s,o,u,a;var f=0;e=base64._utf8_encode(e);while(f<e.length){n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=e.charCodeAt(f++);s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64;}else if(isNaN(i)){a=64;}t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a);}return t;},decode:function decode(e){var t="";var n,r,i;var s,o,u,a;var f=0;e=e.replace(/[^A-Za-z0-9+/=]/g,"");while(f<e.length){s=this._keyStr.indexOf(e.charAt(f++));o=this._keyStr.indexOf(e.charAt(f++));u=this._keyStr.indexOf(e.charAt(f++));a=this._keyStr.indexOf(e.charAt(f++));n=s<<2|o>>4;r=(o&15)<<4|u>>2;i=(u&3)<<6|a;t=t+String.fromCharCode(n);if(u!=64){t=t+String.fromCharCode(r);}if(a!=64){t=t+String.fromCharCode(i);}}t=base64._utf8_decode(t);return t;},_utf8_encode:function _utf8_encode(e){e=e.replace(/rn/g,"n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);}else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128);}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128);}}return t;},_utf8_decode:function _utf8_decode(e){var t="";var n=0;var r=c1=c2=0;while(n<e.length){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++;}else if(r>191&&r<224){c2=e.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|c2&63);n+=2;}else{c2=e.charCodeAt(n+1);c3=e.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|(c2&63)<<6|c3&63);n+=3;}}return t;}};var versionNumBits=6;var vendorVersionMap={/**\n     * Version 1\n     */1:{version:1,metadataFields:[\'version\',\'created\',\'lastUpdated\',\'cmpId\',\'cmpVersion\',\'consentScreen\',\'vendorListVersion\'],fields:[{name:\'version\',type:\'int\',numBits:6},{name:\'created\',type:\'date\',numBits:36},{name:\'lastUpdated\',type:\'date\',numBits:36},{name:\'cmpId\',type:\'int\',numBits:12},{name:\'cmpVersion\',type:\'int\',numBits:12},{name:\'consentScreen\',type:\'int\',numBits:6},{name:\'consentLanguage\',type:\'language\',numBits:12},{name:\'vendorListVersion\',type:\'int\',numBits:12},{name:\'purposeIdBitString\',type:\'bits\',numBits:24},{name:\'maxVendorId\',type:\'int\',numBits:16},{name:\'isRange\',type:\'bool\',numBits:1},{name:\'vendorIdBitString\',type:\'bits\',numBits:function numBits(decodedObject){return decodedObject.maxVendorId;},validator:function validator(decodedObject){return!decodedObject.isRange;}},{name:\'defaultConsent\',type:\'bool\',numBits:1,validator:function validator(decodedObject){return decodedObject.isRange;}},{name:\'numEntries\',numBits:12,type:\'int\',validator:function validator(decodedObject){return decodedObject.isRange;}},{name:\'vendorRangeList\',type:\'list\',listCount:function listCount(decodedObject){return decodedObject.numEntries;},validator:function validator(decodedObject){return decodedObject.isRange;},fields:[{name:\'isRange\',type:\'bool\',numBits:1},{name:\'startVendorId\',type:\'int\',numBits:16},{name:\'endVendorId\',type:\'int\',numBits:16,validator:function validator(decodedObject){return decodedObject.isRange;}}]}]}};function repeat(count,string){string=string||\'0\';var padString=\'\';for(var i=0;i<count;i+=1){padString+=string;}return padString;}function padLeft(string,padding){return repeat(Math.max(0,padding))+string;}function decodeBitsToInt(bitString,start,length){return parseInt(bitString.substr(start,length),2);}function decodeBitsToDate(bitString,start,length){return new Date(decodeBitsToInt(bitString,start,length)*100);}function decodeBitsToBool(bitString,start){return parseInt(bitString.substr(start,1),2)===1;}function decodeBitsToLetter(bitString){var letterCode=decodeBitsToInt(bitString);return String.fromCharCode(letterCode+65).toLowerCase();}function decodeBitsToLanguage(bitString,start,length){var languageBitString=bitString.substr(start,length);return decodeBitsToLetter(languageBitString.slice(0,length/2))+decodeBitsToLetter(languageBitString.slice(length/2));}function decodeField(data){var input=data.input;var output=data.output;var startPosition=data.startPosition;var field=data.field;var type=field.type;var numBits=field.numBits;var decoder=field.decoder;var validator=field.validator;var listCount=field.listCount;if(typeof validator===\'function\'){if(!validator(output)){// Not decoding this field so make sure we start parsing the next field at\n// the same point\nreturn{newPosition:startPosition};}}if(typeof decoder===\'function\'){return decoder(input,output,startPosition);}var bitCount=typeof numBits===\'function\'?numBits(output):numBits;switch(type){case\'int\':return{fieldValue:decodeBitsToInt(input,startPosition,bitCount)};case\'bool\':return{fieldValue:decodeBitsToBool(input,startPosition)};case\'date\':return{fieldValue:decodeBitsToDate(input,startPosition,bitCount)};case\'bits\':return{fieldValue:input.substr(startPosition,bitCount)};case\'list\':return decodeList(input,output,startPosition,field,listCount);case\'language\':return{fieldValue:decodeBitsToLanguage(input,startPosition,bitCount)};default:throw new Error(\'ConsentString - Unknown field type \'+type+\' for decoding\');}}function decodeList(input,output,startPosition,field,listCount){var listEntryCount=0;if(typeof listCount===\'function\'){listEntryCount=listCount(output);}else if(typeof listCount===\'number\'){listEntryCount=listCount;}var newPosition=startPosition;var fieldValue=[];for(var i=0;i<listEntryCount;i+=1){var decodedFields=decodeFields({input:input,fields:field.fields,startPosition:newPosition});newPosition=decodedFields.newPosition;fieldValue.push(decodedFields.decodedObject);}return{fieldValue:fieldValue,newPosition:newPosition};}function decodeFields(data){var input=data.input;var fields=data.fields;var startPosition=data.startPosition||0;var position=startPosition;var decodedObject=fields.reduce(function(acc,field){var name=field.name;var numBits=field.numBits;var decodedField=decodeField({input:input,output:acc,startPosition:position,field:field});var fieldValue=decodedField.fieldValue;var newPosition=decodedField.newPosition;if(fieldValue!==undefined){acc[name]=fieldValue;}if(newPosition!==undefined){position=newPosition;}else if(typeof numBits===\'number\'){position+=numBits;}return acc;},{});return{decodedObject:decodedObject,newPosition:position};}function decodeConsentStringBitValue(bitString,definitionMap){definitionMap=definitionMap||vendorVersionMap;var version=decodeBitsToInt(bitString,0,versionNumBits);if(typeof version!==\'number\'){throw new Error(\'ConsentString - Unknown version number in the string to decode\');}else if(!vendorVersionMap[version]){throw new Error(\'ConsentString - Unsupported version \'+version+\' in the string to decode\');}var fields=definitionMap[version].fields;var decodedFields=decodeFields({input:bitString,fields:fields});var decodedObject=decodedFields.decodedObject;return decodedObject;}function decodeFromBase64(consentString,definitionMap){// Add padding\nvar unsafe=consentString;while(unsafe.length%4!==0){unsafe+=\'=\';}// Replace safe characters\nunsafe=unsafe.replace(/-/g,\'+\').replace(/_/g,\'/\');var bytes=base64.decode(unsafe);var inputBits=\'\';for(var i=0;i<bytes.length;i+=1){var bitString=bytes.charCodeAt(i).toString(2);inputBits+=padLeft(bitString,8-bitString.length);}return decodeConsentStringBitValue(inputBits,definitionMap);}var location=null;var consentStatus=false;var consentChecked=false;var gdprApplies=false;var EU_EEA_COUNTRY_CODES=[// EU\n\'AT\',// Austria\n\'BE\',// Belgium\n\'BG\',// Bulgaria\n\'HR\',// Croatia\n\'CY\',// Republic of Cypress\n\'CZ\',// Czech Republic\n\'DK\',// Denmark\n\'EE\',// Estonia\n\'FI\',// Finland\n\'FR\',// France\n\'DE\',// Germany\n\'GR\',// Greece\n\'HU\',// Hungary\n\'IE\',// Ireland\n\'IT\',// Italy\n\'LV\',// Latvia\n\'LT\',// Lithuania\n\'LU\',// Luxembourg\n\'MT\',// Malta\n\'NL\',// Netherlands\n\'PL\',// Poland\n\'PT\',// Portugal\n\'RO\',// Romania\n\'SK\',// Slovakia\n\'SI\',// Slovenia\n\'ES\',// Spain\n\'SE\',// Sweden\n\'GB\',// United Kingdom\n\'UK\',// United Kingdom Alias\n//EEA\n\'IS\',// Iceland\n\'LI\',// Liechtenstein\n\'NO\'// Norway\n];// var getConsentObject = function _getConsentObject() {\n//   if (hasCookie(\'eupubconsent\') ){\n//     logger.log(\'Getting Consent Object...\');\n//     var consentString = readCookie(\'eupubconsent\');\n//     var consentObject = decodeFromBase64(consentString)\n//     return consentObject\n//   }else{\n//     logger.error(\'No Consent String Cookie.\');\n//     consentStatus = false;\n//     return {purposeIdBitString: \'000000000000000000000000\'}\n//   }\n// }\nvar getConsentString=function _getConsentString(){if(hasCookie(\'eupubconsent\')){logger.log(\'Getting Consent Object...\');return readCookie(\'eupubconsent\');}else{var consentString=\'\';if(window.__cmp&&typeof window.__cmp===\'function\'){window.__cmp(\'getVendorConsents\',null,function(result){consentString=result.metadata;});}return consentString;}};// var getConsentPurposes = function _getConsentPurposes() {\n//   logger.log(\'Getting Consent Purposes...\');\n//   var consentObject = getConsentObject();\n//   var consentPurposeBits = Array.apply(null, {length: 24}).map(Function.call, function(){ return "0" });\n//   if (consentObject && consentObject.purposeIdBitString){\n//     consentPurposeBits = consentObject.purposeIdBitString.split(\'\');\n//   }\n//   var consentPurposes = consentPurposeBits.map(function(bit){\n//     if (parseInt(bit, 10) > 0) return true;\n//     return false;\n//   });\n//   return consentPurposes;\n// };\nvar getConsent=function _getConsent(){if(consentChecked)return consentStatus;if(window.CNN&&window.CNN.UserConsent){logger.log(\'Getting Consent from UserConsent object...\');consentStatus=window.CNN.UserConsent.isEnabled()?window.CNN.UserConsent.getUserConsentAdvertisingState():true;logger.log("Consent Granted: ",consentStatus);consentChecked=true;return consentStatus;}else{if(window.OptanonActiveGroups){logger.log(\'Inspecting Optanon Active Groups...\');var activeGroupArray=window.OptanonActiveGroups.split(\',\');consentStatus=activeGroupArray.indexOf(\'4\')>=0;logger.log(\'Consent Granted: \',consentStatus);consentChecked=true;}else{if(window.__cmp&&typeof window.__cmp===\'function\'){logger.log(\'Getting Consent from CMP API...\');window.__cmp(\'getVendorConsents\',null,function(consentData){Object.keys(consentData.purposeConsents).forEach(function(index){if(!consentStatus)consentStatus=consentData.purposeConsents[index];});return consentStatus;});logger.log("Consent Granted: ",consentStatus);consentChecked=true;return consentStatus;}else{logger.warn("No CMP API... GDPR consent is implied to be false.");logger.log("Consent Granted: ",false);consentChecked=true;return false;}}}};var getGDPRApplies=function _getGDPRApplies(appId){return new Promise(function(resolve){var countryCode;if(hasCookie(\'countryCode\')){countryCode=readCookie(\'countryCode\');logger.log("GDPR Applies: ",EU_EEA_COUNTRY_CODES.indexOf(countryCode)>=0);gdprApplies=EU_EEA_COUNTRY_CODES.indexOf(countryCode)>=0;resolve(EU_EEA_COUNTRY_CODES.indexOf(countryCode)>=0);}else{if(location===null){var locationServiceURL=\'https://geo.ngtv.io/locate\';if(appId){locationServiceURL+=\'?appId=\'+appId;}fetch(locationServiceURL).then(function(resp){return resp.json();}).then(function(loc){location=loc;logger.log("GDPR Applies: ",EU_EEA_COUNTRY_CODES.indexOf(loc.country)>=0);gdprApplies=loc.country&&EU_EEA_COUNTRY_CODES.indexOf(loc.country)>=0;countryCode=loc.country;resolve(loc.country&&EU_EEA_COUNTRY_CODES.indexOf(loc.country)>=0);})["catch"](function(err){logger.err("Could Not Get User Location: ",err);gdprApplies=false;resolve(false);});}else{logger.log("GDPR Applies: ",EU_EEA_COUNTRY_CODES.indexOf(location.country)>=0);gdprApplies=location.country&&EU_EEA_COUNTRY_CODES.indexOf(location.country)>=0;resolve(location.country&&EU_EEA_COUNTRY_CODES.indexOf(location.country)>=0);}}});};var monetizedSlots={};var isMonetized=function _isMonetized(slot){var rktrSlotId=slot.rktr_slot_id;logger.group(\'Checking Monetization for: \'+rktrSlotId);var rktrAdId=slot.rktr_ad_id;var responsive=slot.responsive;var sizes=slot.sizes;if(typeof monetizedSlots[rktrSlotId]!==\'undefined\'){logger.log(\'Slot already monetized.\',monetizedSlots[rktrSlotId]);logger.groupEnd(\'Checking Monetization for: \'+rktrSlotId);return monetizedSlots[rktrSlotId];}var slotId=rktrSlotId;if(slotId===\'page\'){logger.log(\'Skipping Page-Level Object.\');logger.groupEnd(\'Checking Monetization for: \'+rktrSlotId);monetizedSlots[slotId]={isMonetized:false,filteredSizes:[]};return{isMonetized:false,filteredSizes:[]};}var monetized=true;var viewportChecked=false;var browser=getViewport();var responsiveSizes=[];var filteredSizes=[];invalidMappings.forEach(function forEachMap(invalidMapping){if(slotId.indexOf(invalidMapping)>0){logger.log(\'Slot includes invalid mapping: \',invalidMapping);monetizedSlots[slotId]=false;monetized=false;}});invalidAdUnitSegments.forEach(function forEachSegment(invalidAdUnitSegment){if(rktrAdId&&rktrAdId.indexOf(invalidAdUnitSegment)>=0){logger.log(\'Slot contains an invalid Ad Unit segment: \',invalidAdUnitSegment);monetized=false;}});invalidAdUnits.forEach(function forEachAdUnit(invalidAdUnit){if(rktrAdId===invalidAdUnit){logger.log(\'Slot uses an invalid Ad Unit: \',invalidAdUnit);monetized=false;}});if(responsive&&responsive.length>0){responsive.map(function(viewport){if(!viewportChecked&&parseInt(viewport[0][0],10)<browser[0]&&parseInt(viewport[0][1],10)<browser[1]){viewportChecked=true;logger.log(\'Checking Responsive Sizes: \',viewport,browser);responsiveSizes=viewport[1];if(viewport[1][0]===\'suppress\'||responsiveSizes===\'suppress\'){logger.log(\'Slot is suppressed: \',viewport[1][0],responsiveSizes);monetized=false;}}return viewport;});}filteredSizes=monetized&&responsiveSizes.length>0?responsiveSizes:sizes;if(monetized){filteredSizes=filteredSizes.filter(function sizeFilter(size){var retSize=size;if(retSize!==\'suppress\'){retSize=retSize.join(\'x\');}return monetizedSizes.indexOf(retSize)!==-1;});}if(filteredSizes.length===0){logger.log(\'Slot contains no monetized sizes.\',filteredSizes);monetizedSlots[slotId]=false;monetized=false;}logger.log(\'Slot is Monetized: \',monetized);logger.groupEnd(\'Checking Monetization for: \'+rktrSlotId);monetizedSlots[slotId]={isMonetized:monetized,filteredSizes:filteredSizes};return{isMonetized:monetized,filteredSizes:filteredSizes};};var hasOwn=function _hasOwn(object,key){return object!==null&&Object.prototype.hasOwnProperty.call(object,key);};var once=function _once(fn){return function(){if(fn){fn.apply(this,arguments);// eslint-disable-next-line\nfn=null;}};};var keyMap=function _keyMap(){var map={};var has=function has(id){return id in map;};var addKey=function addKey(id,key){if(!has(id)){map[id]=[];}map[id].push(key);};var getKeys=function getKeys(id){return has(id)?Array.prototype.slice.call(map[id]):[];};var clearKeys=function clearKeys(id){if(has(id)){map[id].length=0;return true;}return false;};return{has:has,clearKeys:clearKeys,getKeys:getKeys,addKey:addKey};}();var roundFloat=function _roundFloat(value,toNearest,fixed){return(Math.ceil(value/toNearest)*toNearest).toFixed(fixed);};var generateCacheBuster=function _generateCacheBuster(){// return_<9-digit-random-hex>\nvar cb=\'\';for(var i=0;i<10;i++){cb+=Math.floor(Math.random()*9).toString();}return cb;};var debounce=function _debounce(func,wait,immediate){var timeout;return function(){var context=this;var args=arguments;var later=function later(){timeout=null;if(!immediate)func.apply(context,args);};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args);};};var clone=function _clone(obj){// Handle the 3 simple types, and null or undefined\nif(obj===null||_typeof(obj)!==\'object\')return obj;// Handle Date\nif(obj instanceof Date){var copyDate=new Date();copyDate.setTime(obj.getTime());return copyDate;}// Handle Array\nif(obj instanceof Array){var copyArray=[];for(var i=0,len=obj.length;i<len;i++){copyArray[i]=clone(obj[i]);}return copyArray;}// Handle Object\nif(obj instanceof Object){var copyObject={};for(var attr in obj){if(obj.hasOwnProperty(attr)){copyObject[attr]=clone(obj[attr]);}}return copyObject;}throw new Error(\'Unable to copy obj! Its type isn\\\'t supported.\');};logger.log(\'Hostname: \',hostname);logger.log(\'CountryCode: \',countryCode);if(getURLParam(\'isIntl\')===\'true\'){logger.log(\'Faking international site. Using International PubIds.\');isIntl=true;}else if(hostname.search(/^.*(edition|edition\\-m|arabic)\\./)>=0){logger.log(\'Full international site. Using International PubIds.\');isIntl=true;}else if(countryCode===\'\'||countryCode===null){if(hostname.search(/^.*(cnnespanol|cnne\\-test)\\./)>=0){logger.log(\'No country code. Using International PubIds.\');isIntl=true;}else{logger.log(\'No country code. Domestic Site.\');}}else if(countryCode!==\'US\'&&countryCode!==\'CA\'){if(hostname.search(/^.*(money|cnnespanol|cnne\\-test|\\.cnn)\\./)>=0){logger.log(\'International country code. Using International PubIds.\');isIntl=true;}else{logger.log(\'International country code but domestic site.\');}}else{logger.log(\'Domestic site or country code.\');}var merge=function merge(source,mods){var dest={};var attrname;for(attrname in source){if(source.hasOwnProperty(attrname)){dest[attrname]=source[attrname];}}for(attrname in mods){if(mods.hasOwnProperty(attrname)){dest[attrname]=mods[attrname];}}return dest;};var getTrackPerformance=function getTrackPerformance(){return new Promise(function(resolve,reject){if(!window.CNN||!window.jQuery){reject(new Error(\'trackPerformance not needed\'));}else if(window.CNN.Analytics&&window.CNN.Analytics.segment&&typeof window.CNN.Analytics.segment.trackPerformance===\'function\'){resolve();}else if(typeof window.jQuery.fn.onSegmentReady===\'function\'){jQuery(document).onSegmentReady(function _handleSegmentReady(){resolve();});}else{reject(new Error(\'trackPerformance not available\'));}});};var adfuelEntries=[];var queueEntry=function queueEntry(eventName){var entries=window.performance.getEntriesByName(\'[ADFUEL] \'+eventName);for(var i=0;i<entries.length;i++){adfuelEntries.push(entries[i]);}};var addMark=function _addMark(name){window.performance.mark(\'[ADFUEL] \'+name);};var addMeasure=function _addMeasure(name,start,end){window.performance.measure(\'[ADFUEL] \'+name,\'[ADFUEL] \'+start,\'[ADFUEL] \'+end);};var getMarks=function _getMarks(){return window.performance.getEntriesByType(\'mark\').filter(function(mark){return mark.name.indexOf(\'[ADFUEL]\');});};var getMeasures=function _getMeasures(){return window.performance.getEntriesByType(\'measure\').filter(function(mark){return mark.name.indexOf(\'[ADFUEL]\');});};var metrics={};var getMetricTypes=function _getMetricTypes(){return Object.getOwnPropertyNames(metrics);};var getMetricsByType=function getMetricsByType(type){return metrics[type]||{};};var getMetricById=function getMetricById(type,id){if(type===\'counts\'&&!metrics[type][id]){return 0;}else if(type===\'timeline\'&&id===\'request_to_dfp\'){if(!metrics[type][id]){return[];}}return metrics[type][id]||{};};var addMetric=function addMetric(metricObject){/*\n            Sample Metric Object\n            {\n            type: timeline|counts|configuration|requests|page|registries|modules|slots\n            id: <STRING>\n            data: <ANY> For type=counts this should be \'+\' or \'-\' to increment or decrement current count.\n                For timeline metrics, data should be an object with an index property to use for updates.\n                ie: { index: 1, options: { <some options> }, slots: [ \'ad_bnr_atf_01\' ], start: <timestamp> }\n                On update, the indexes should match:\n                ie: { index: 1, end: <timestamp> }\n            }\n            */ // logger.log(\'Adding Metric: \', JSON.parse(JSON.stringify(metricObject)));\nvar metric;var newMetric=false;var data;if(!metrics[metricObject.type]){// Metric type doesn\'t exist... create it.\nmetrics[metricObject.type]={};}if(!metrics[metricObject.type][metricObject.id]){metrics[metricObject.type][metricObject.id]=[];newMetric=true;}if(!newMetric){metric=getMetricById(metricObject.type,metricObject.id);}else{metric=[];}var currentCount=parseInt(metric,10);var metricIndex=metricObject.data.id||1;switch(metricObject.type){case\'counts\':if(metric.length===0){metric=0;}if(metricObject.data===\'+\'){currentCount=currentCount+1;}else if(metricObject.data===\'-\'){currentCount=currentCount-1;}else{logger.log(\'Metric data contains no operator for counting metrics.\',metricObject);return false;}metrics[metricObject.type][metricObject.id]=currentCount;// logger.log(\'Metrics updated with: \', metricObject, metrics);\nbreak;case\'modules\':if(metricObject.data.callback){var module=window.AdFuel.registeredModules.filter(function filterFunc(mod){return mod.name===metricObject.id;});if(Array.isArray(module)){module=module[0];}if(metric.length===0){metric={};}var callbackNames=Object.getOwnPropertyNames(module.callbacks);var callbackNameFromData=metricObject.data.callback+\'Callback\';if(callbackNames.indexOf(callbackNameFromData)!==-1){for(var name=0;name<callbackNames.length;name++){if(!metric[callbackNames[name]]){metric[callbackNames[name]]={};}delete metricObject.data.callback;metric[callbackNames[name]]=merge(metric[callbackNames[name]],metricObject.data);}}metrics[metricObject.type][metricObject.id]=metric;}else{data=merge(metric,metricObject.data);metrics[metricObject.type][metricObject.id]=data;// logger.log(\'Metrics updated with: \', metricObject, metrics);\n}break;case\'requests\':case\'timeline\':data={};if(metric.length>0){data=metric[metricIndex-1];}data=merge(data,metricObject.data);metrics[metricObject.type][metricObject.id][metricIndex-1]=data;// logger.log(\'Metrics updated with: \', metricObject, metrics);\nbreak;case\'slots\':default:data=merge(metric,metricObject.data);metrics[metricObject.type][metricObject.id]=data;// logger.log(\'Metrics updated with: \', metricObject, metrics);\nbreak;}return true;};// return this API object to modules when they register.\nvar metricApi={metrics:metrics,getMetricTypes:getMetricTypes,getMetricsByType:getMetricsByType,getMetricById:getMetricById,addMetric:addMetric};/**\n     * isMobile.js v0.4.1\n     *\n     * A simple library to detect Apple phones and tablets,\n     * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),\n     * and any kind of seven inch device, via user agent sniffing.\n     *\n     * @author: Kai Mallea (kmallea@gmail.com)\n     *\n     * @license: http://creativecommons.org/publicdomain/zero/1.0/\n     */var applePhone=/iPhone/i;// Case-insensitive matching\nvar appleIpod=/iPod/i;var appleTablet=/iPad/i;// Match \'Android\' AND \'Mobile\'\nvar androidPhone=/(?=.*\\bAndroid\\b)(?=.*\\bMobile\\b)/i;var androidTablet=/Android/i;var amazonPhone=/(?=.*\\bAndroid\\b)(?=.*\\bSD4930UR\\b)/i;var amazonTablet=/(?=.*\\bAndroid\\b)(?=.*\\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\\b)/i;var windowsPhone=/Windows Phone/i;// Match \'Windows\' AND \'ARM\'\nvar windowsTablet=/(?=.*\\bWindows\\b)(?=.*\\bARM\\b)/i;var otherBlackberry=/BlackBerry/i;var otherBlackberry10=/BB10/i;var otherOpera=/Opera Mini/i;var otherChrome=/(CriOS|Chrome)(?=.*\\bMobile\\b)/i;// Match \'Firefox\' AND \'Mobile\'\nvar otherFirefox=/(?=.*\\bFirefox\\b)(?=.*\\bMobile\\b)/i;var sevenInch=new RegExp(\'(?:\'+// Non-capturing group\n\'Nexus 7\'+// Nexus 7\n\'|\'+// OR\n\'BNTV250\'+// B&N Nook Tablet 7 inch\n\'|\'+// OR\n\'Kindle Fire\'+// Kindle Fire\n\'|\'+// OR\n\'Silk\'+// Kindle Fire, Silk Accelerated\n\'|\'+// OR\n\'GT-P1000\'+// Galaxy Tab 7 inch\n\')\',// End non-capturing group\n\'i\');var match=function match(regex,userAgent){return regex.test(userAgent);};var IsMobileClass=function IsMobileClass(userAgent){var ua=userAgent||navigator.userAgent;// Facebook mobile app\'s integrated browser adds a bunch of strings that\n// match everything. Strip it out if it exists.\nvar tmp=ua.split(\'[FBAN\');if(typeof tmp[1]!==\'undefined\'){ua=tmp[0];}// Twitter mobile app\'s integrated browser on iPad adds a "Twitter for\n// iPhone" string. Same probable happens on other tablet platforms.\n// This will confuse detection so strip it out if it exists.\ntmp=ua.split(\'Twitter\');if(typeof tmp[1]!==\'undefined\'){ua=tmp[0];}this.apple={phone:match(applePhone,ua),ipod:match(appleIpod,ua),tablet:!match(applePhone,ua)&&match(appleTablet,ua),device:match(applePhone,ua)||match(appleIpod,ua)||match(appleTablet,ua)};this.amazon={phone:match(amazonPhone,ua),tablet:!match(amazonPhone,ua)&&match(amazonTablet,ua),device:match(amazonPhone,ua)||match(amazonTablet,ua)};this.android={phone:match(amazonPhone,ua)||match(androidPhone,ua),tablet:!match(amazonPhone,ua)&&!match(androidPhone,ua)&&(match(amazonTablet,ua)||match(androidTablet,ua)),device:match(amazonPhone,ua)||match(amazonTablet,ua)||match(androidPhone,ua)||match(androidTablet,ua)};this.windows={phone:match(windowsPhone,ua),tablet:match(windowsTablet,ua),device:match(windowsPhone,ua)||match(windowsTablet,ua)};this.other={blackberry:match(otherBlackberry,ua),blackberry10:match(otherBlackberry10,ua),opera:match(otherOpera,ua),firefox:match(otherFirefox,ua),chrome:match(otherChrome,ua),device:match(otherBlackberry,ua)||match(otherBlackberry10,ua)||match(otherOpera,ua)||match(otherFirefox,ua)||match(otherChrome,ua)};this.seven_inch=match(sevenInch,ua);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;// excludes \'other\' devices and ipods, targeting touchscreen phones\nthis.phone=this.apple.phone||this.android.phone||this.windows.phone;// excludes 7 inch devices, classifying as phone or tablet is left to the user\nthis.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if(typeof window===\'undefined\'){return this;}};var instantiate=function instantiate(){var IM=new IsMobileClass();IM.Class=IsMobileClass;return IM;};var isMobile=instantiate();addEvent(document,\'AdFuelCreated\',filterDFPRequest);var AdFuelUtils={addEvent:addEvent,bind:bind,cdnRoot:cdnRoot,clone:clone,countryCode:countryCode,debounce:debounce,decodeFromBase64:decodeFromBase64,gdprApplies:gdprApplies,getConsent:getConsent,getConsentString:getConsentString,getGDPRApplies:getGDPRApplies,getLocation:getLocation,generateCacheBuster:generateCacheBuster,getBrowser:getBrowser,getLogger:getLogger,getURLParam:getURLParam,getViewport:getViewport,hasCookie:hasCookie,hasOwn:hasOwn,isFunction:isFunction,isIntl:isIntl,isMobile:isMobile,isMonetized:isMonetized,isObject:isObject,keyMap:keyMap,merge:merge,mergeDeep:mergeDeep,metricApi:metricApi,noop:noop,once:once,performance:{adfuelEntries:adfuelEntries,getTrackPerformance:getTrackPerformance,mark:addMark,measure:addMeasure,marks:getMarks,measures:getMeasures,queueEntry:queueEntry},piiFilter:piiFilter,readCookie:readCookie,roundFloat:roundFloat,selectedEdition:selectedEdition,__VERSION__:MODULE_VERSION};window.AdFuelUtils=AdFuelUtils;})();//TODO Add arguments to this for Rocketeer support.\n//TODO Use Rocketeer to build this file based on modules included and scrap site-specific files.\nwindow.AdFuelOptions={OPTIONS_VERSION:1.2,ADFUEL:{AUTO_DISPATCH:true,//{{ADFUEL_AUTO_DISPATCH}}\nDEFAULT_TIMEOUT:800,//{{ADFUEL_DEFAULT_TIMEOUT}}\nDEFAULT_DESKTOP_TIMEOUT:800,//{{ADFUEL_DEFAULT_DESKTOP_TIMEOUT}}\nDEFAULT_MOBILE_TIMEOUT:800,//{{ADFUEL_DEFAULT_MOBILE_TIMEOUT}}\nIFRAME_TITLE:\'advertisement\',//{{ADFUEL_IFRAME_TITLE}}\nNETWORK_ID:\'8663477\',//{{ADFUEL_NETWORK_ID}}\nREFRESH_ON_FOCUS_ONLY:false,//{{ADFUEL_REFRESH_ON_FOCUS_ONLY}}\nLAZY_LOAD_FETCH_PERCENT:500,//{{ADFUEL_LAZY_LOAD_FETCH_PERCENT}}  Fetch Slots within 5 Viewports\nLAZY_LOAD_RENDER_PERCENT:200,//{{ADFUEL_LAZY_LOAD_RENDER_PERCENT}} Render Slots within 2 Viewports\nLAZY_LOAD_MOBILE_SCALING:2.0//{{ADFUEL_LAZY_LOAD_MOBILE_SCALING}} Scale the above values for mobile by 2\n},A9:{DOM_PUB_ID:\'3159\',//{{A9_DOM_PUB_ID}}\nINTL_PUB_ID:\'3288\',//{{A9_INTL_PUB_ID}}\nDISPLAY_TIMEOUT:750,//{{A9_DISPLAY_TIMEOUT}}\nDISPLAY_REFRESH_TIMEOUT:750,//{{A9_DISPLAY_REFRESH_TIMEOUT}}\nVIDEO_TIMEOUT:500,//{{A9_VIDEO_TIMEOUT}}\nVIDEO_REFRESH_TIMEOUT:750,//{{A9_VIDEO_REFRESH_TIMEOUT}}\nDESKTOP_DISPLAY_TIMEOUT:750,//{{A9_DESKTOP_DISPLAY_TIMEOUT}}\nDESKTOP_DISPLAY_REFRESH_TIMEOUT:750,//{{A9_DESKTOP_DISPLAY_REFRESH_TIMEOUT}}\nDESKTOP_VIDEO_TIMEOUT:500,//{{A9_DESKTOP_VIDEO_TIMEOUT}}\nDESKTOP_VIDEO_REFRESH_TIMEOUT:750,//{{A9_DESKTOP_VIDEO_REFRESH_TIMEOUT}}\nMOBILE_DISPLAY_TIMEOUT:750,//{{A9_MOBILE_DISPLAY_TIMEOUT}}\nMOBILE_DISPLAY_REFRESH_TIMEOUT:750,//{{A9_MOBILE_DISPLAY_REFRESH_TIMEOUT}}\nMOBILE_VIDEO_TIMEOUT:500,//{{A9_MOBILE_VIDEO_TIMEOUT}}\nMOBILE_VIDEO_REFRESH_TIMEOUT:750//{{A9_MOBILE_VIDEO_REFRESH_TIMEOUT}}\n},BEEMRAY:{CUSTOMER_ID:\'\',//{{BEEMRAY_CUSTOMER_ID}}\nAPI_KEY:\'\'//{{BEEMRAY_API_KEY}}\n},CEP:{},CONSOLE_TOOL:{HOTKEY:[\'Control\',\'Shift\',\'Z\']//{{CONSOLE_TOOL_HOTKEY}}\n},CREATIVE_REVIEW:{HOTKEY:\'^ d o h $\'//{{CREATIVE_REVIEW_HOTKEY}}\n},CRITEO:{MULTISIZE_FIRST:\'F\',MULTISIZE_LARGEST:\'L\',MULTISIZE_ALL:\'A\',MULTISIZE_METHOD:\'L\',//{{CRITEO_MULTISIZE_METHOD}}\nDESKTOP_ZONES:{},//{{CRITEO_DESKTOP_ZONES}}\nMOBILE_ZONES:{},//{{CRITEO_MOBILE_ZONES}}\nTIMEOUT:750,//{{CRITEO_TIMEOUT}}\nDESKTOP_TIMEOUT:750,//{{CRITEO_DESKTOP_TIMEOUT}}\nMOBILE_TIMEOUT:750//{{CRITEO_MOBILE_TIMEOUT}}\n},FASTLANE:{DOM_ACCOUNT_ID:11078,//{{FASTLANE_DOM_ACCOUNT_ID}}\nINTL_ACCOUNT_ID:11016,//{{FASTLANE_INTL_ACCOUNT_ID}}\nTIMEOUT:750,//{{FASTLANE_TIMEOUT}}\nDESKTOP_TIMEOUT:750,//{{FASTLANE_DESKTOP_TIMEOUT}}\nMOBILE_TIMEOUT:750//{{FASTLANE_MOBILE_TIMEOUT}}\n},GDPR:{ENABLED:false},GUID:{},IAS:{DOM_PUB_ID:925660,//{{IAS_DOM_PUB_ID}}\nINTL_PUB_ID:925660//{{IAS_INTL_PUB_ID}}\n},IX:{SCRIPT_KEY:null,//{{IX_SCRIPT_KEY}}\nSCRIPT_MAP:{}},IVR:{DEFAULT_DISPLAY_MILLISECONDS:35*1000,//{{IVR_DISPLAY_MILLISECONDS}}\nDEFAULT_DISPLAY_PERCENT:50//{{IVR_DISPLAY_PERCENT}}}\n},KRUX:{DOM_CONTROLTAG:\'\',//{{KRUX_DOM_CONTROLTAG}}\nINTL_CONTROLTAG:\'\'//{{KRUX_INTL_CONTROLTAG}}\n},PREBID:{DOM_BIDDERS:[\'rubicon\',\'appnexus\'],//{{PREBID_DOM_BIDDERS}}\nINTL_BIDDERS:[\'appnexus\',\'pangaea\',\'rubicon\'],//{{PREBID_INTL_BIDDERS}}\nNATIVE_BIDDERS:[],//{{PREBID_NATIVE_BIDDERS}}\nDOM_ACCOUNT_IDS:{rubicon:\'11078\',//{{PREBID_RUBICON_DOM_ACCOUNT_ID}}\nappnexus:\'7745\'//{{PREBID_APPNEXUS_DOM_ACCOUNT_ID}}\n},INTL_ACCOUNT_IDS:{rubicon:\'11016\',//{{PREBID_RUBICON_INTL_ACCOUNT_ID}}\nappnexus:\'8353\',//{{PREBID_APPNEXUS_INTL_ACCOUNT_ID}}\npangaea:\'8613\'//{{PREBID_PANGAEA_INTL_ACCOUNT_ID}}\n},RUBICON_DOM_DESKTOP_SITE_ID:0,//{{PREBID_RUBICON_DESKTOP_SITE_ID}}\nRUBICON_INTL_DESKTOP_SITE_ID:0,//{{PREBID_RUBICON_DESKTOP_SITE_ID}}\nRUBICON_DOM_MOBILE_SITE_ID:0,//{{PREBID_RUBICON_MOBILE_SITE_ID}}\nRUBICON_INTL_MOBILE_SITE_ID:0,//{{PREBID_RUBICON_MOBILE_SITE_ID}}\nRUBICON_DOM_DESKTOP_HP_ZONE_MAPPING:{//{{PREBID_RUBICON_DOM_DESKTOP_HP_ZONE_MAP}}\n},RUBICON_DOM_DESKTOP_ROS_ZONE_MAPPING:{//{{PREBID_RUBICON_DOM_DESKTOP_ROS_ZONE_MAP}}\n},RUBICON_DOM_MOBILE_ZONE_MAPPING:{//{{PREBID_RUBICON_DOM_MOBILE_ZONE_MAP}}\n},RUBICON_INTL_DESKTOP_HP_ZONE_MAPPING:{//{{PREBID_RUBICON_INTL_DESKTOP_HP_ZONE_MAP}}\n},RUBICON_INTL_DESKTOP_ROS_ZONE_MAPPING:{//{{PREBID_RUBICON_INTL_DESKTOP_ROS_ZONE_MAP}}\n},RUBICON_INTL_MOBILE_ZONE_MAPPING:{//{{PREBID_RUBICON_INTL_MOBILE_ZONE_MAP}}\n},TIMEOUT:750,//{{PREBID_TIMEOUT}}\nDESKTOP_TIMEOUT:750,//{{PREBID_DESKTOP_TIMEOUT}}\nMOBILE_TIMEOUT:750//{{PREBID_MOBILE_TIMEOUT}}\n},PROXIMIC:{},SOURCEPOINT:{},TRANSACTION_ID:{}};/* Setup vertical-specific ads options */switch(CNN.SiteLocation.vertical){case\'business\':if(CNN.SiteLocation.site===\'edition\'){window.CNN_OPTIONS={OPTIONS_VERSION:1.2,ADFUEL:{DEFAULT_DESKTOP_TIMEOUT:1200,//{{ADFUEL_DEFAULT_DESKTOP_TIMEOUT}}\nDEFAULT_MOBILE_TIMEOUT:800,//{{ADFUEL_DEFAULT_MOBILE_TIMEOUT}}\nSITE_OBJECT:\'CNN\'//{{ADFUEL_SITE_OBJECT}}\n},A9:{DISPLAY_TIMEOUT:1150,//{{A9_DISPLAY_TIMEOUT}}\nDISPLAY_REFRESH_TIMEOUT:1150,//{{A9_DISPLAY_REFRESH_TIMEOUT}}\nVIDEO_TIMEOUT:500,//{{A9_VIDEO_TIMEOUT}}\nVIDEO_REFRESH_TIMEOUT:750,//{{A9_VIDEO_REFRESH_TIMEOUT}}\nDESKTOP_DISPLAY_TIMEOUT:1150,//{{A9_DESKTOP_DISPLAY_TIMEOUT}}\nDESKTOP_DISPLAY_REFRESH_TIMEOUT:1150,//{{A9_DESKTOP_DISPLAY_REFRESH_TIMEOUT}}\nDESKTOP_VIDEO_TIMEOUT:500,//{{A9_DESKTOP_VIDEO_TIMEOUT}}\nDESKTOP_VIDEO_REFRESH_TIMEOUT:1150,//{{A9_DESKTOP_VIDEO_REFRESH_TIMEOUT}}\nMOBILE_DISPLAY_TIMEOUT:750,//{{A9_MOBILE_DISPLAY_TIMEOUT}}\nMOBILE_DISPLAY_REFRESH_TIMEOUT:750,//{{A9_MOBILE_DISPLAY_REFRESH_TIMEOUT}}\nMOBILE_VIDEO_TIMEOUT:500,//{{A9_MOBILE_VIDEO_TIMEOUT}}\nMOBILE_VIDEO_REFRESH_TIMEOUT:750//{{A9_MOBILE_VIDEO_REFRESH_TIMEOUT}}\n},BEEMRAY:{CUSTOMER_ID:\'cnn\',API_KEY:\'39a34d8d-dd1d-4fbf-aa96-fdc5f0329451\'},CRITEO:{DESKTOP_ZONES:{\'728x90\':1302537,\'970x90\':1302538,\'970x250\':1302534,\'300x250\':1302539,\'300x600\':1302535},MOBILE_ZONES:{\'300x250\':1302536},CRITEO_MULTISIZE_METHOD:\'L\',TIMEOUT:750,DESKTOP_TIMEOUT:1150,MOBILE_TIMEOUT:750},GDPR:{APP_ID:\'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uYnVzaW5lc3MiLCJhcHBJZCI6ImNubmJ1c2luZXNzLWFkZnVlbC13ZWItMmhmMHd2In0.6Z_j8q6VUqiMaMTBPdU-sbzjRYIOr-9RBLGQ2GlE1a0\',APPLIES:window.AdFuelUtils.getGDPRApplies(\'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uYnVzaW5lc3MiLCJhcHBJZCI6ImNubmJ1c2luZXNzLWFkZnVlbC13ZWItMmhmMHd2In0.6Z_j8q6VUqiMaMTBPdU-sbzjRYIOr-9RBLGQ2GlE1a0\'),ENABLED:true},IAS:{DOM_PUB_ID:925660,//{{IAS_DOM_PUB_ID}}\nINTL_PUB_ID:925660//{{IAS_INTL_PUB_ID}}\n},IX:{SCRIPT_MAP:{\'^(ads\\\\.|stage\\\\.)?(www|us|next)(-m)?\\\\.cnn\\\\.com\':{intl:\'186370-111488446026291\',dom:\'186948-131280192444057\'},\'^(stage\\\\.)?edition(-m)?(\\\\.(ads|stage)\\\\.next)?\\\\.cnn\\\\.com\':{intl:\'186370-111488446026291\',dom:\'186948-131280192444057\'}}},KRUX:{DOM_CONTROLTAG:\'tefghq6ia\',INTL_CONTROLTAG:\'tefghq6ia\'},PREBID:{DOM_BIDDERS:[\'rubicon\',\'appnexus\'],INTL_BIDDERS:[\'appnexus\',\'pangaea\',\'rubicon\'],NATIVE_BIDDERS:[\'appnexus\',\'pangaea\'],RUBICON_DOM_DESKTOP_SITE_ID:212778,RUBICON_INTL_DESKTOP_SITE_ID:215622,RUBICON_DOM_MOBILE_SITE_ID:212784,RUBICON_INTL_MOBILE_SITE_ID:215622,RUBICON_DOM_DESKTOP_HP_ZONE_MAPPING:{\'atf\':1045514,\'btf\':1045522},RUBICON_DOM_DESKTOP_ROS_ZONE_MAPPING:{\'atf\':1045524,\'btf\':1045526},RUBICON_DOM_MOBILE_ZONE_MAPPING:{\'atf\':1045538,\'btf\':1045538},RUBICON_INTL_DESKTOP_HP_ZONE_MAPPING:{\'atf\':1060930,\'btf\':1060934},RUBICON_INTL_DESKTOP_ROS_ZONE_MAPPING:{\'atf\':1060940,\'btf\':1060942},RUBICON_INTL_MOBILE_ZONE_MAPPING:{\'atf\':1060936,\'btf\':1060938},TIMEOUT:750,DESKTOP_TIMEOUT:1150,//{{PREBID_DESKTOP_TIMEOUT}}\nMOBILE_TIMEOUT:750//{{PREBID_MOBILE_TIMEOUT}}\n}};window.AdFuelOptions=window.AdFuelUtils.mergeDeep(window.AdFuelOptions,window.CNN_OPTIONS);}else{window.CNN_OPTIONS={OPTIONS_VERSION:1.2,ADFUEL:{DEFAULT_DESKTOP_TIMEOUT:1200,//{{ADFUEL_DEFAULT_DESKTOP_TIMEOUT}}\nDEFAULT_MOBILE_TIMEOUT:800,//{{ADFUEL_DEFAULT_MOBILE_TIMEOUT}}\nSITE_OBJECT:\'CNN\'//{{ADFUEL_SITE_OBJECT}}\n},A9:{DISPLAY_TIMEOUT:1150,//{{A9_DISPLAY_TIMEOUT}}\nDISPLAY_REFRESH_TIMEOUT:1150,//{{A9_DISPLAY_REFRESH_TIMEOUT}}\nVIDEO_TIMEOUT:500,//{{A9_VIDEO_TIMEOUT}}\nVIDEO_REFRESH_TIMEOUT:750,//{{A9_VIDEO_REFRESH_TIMEOUT}}\nDESKTOP_DISPLAY_TIMEOUT:1150,//{{A9_DESKTOP_DISPLAY_TIMEOUT}}\nDESKTOP_DISPLAY_REFRESH_TIMEOUT:1150,//{{A9_DESKTOP_DISPLAY_REFRESH_TIMEOUT}}\nDESKTOP_VIDEO_TIMEOUT:500,//{{A9_DESKTOP_VIDEO_TIMEOUT}}\nDESKTOP_VIDEO_REFRESH_TIMEOUT:1150,//{{A9_DESKTOP_VIDEO_REFRESH_TIMEOUT}}\nMOBILE_DISPLAY_TIMEOUT:750,//{{A9_MOBILE_DISPLAY_TIMEOUT}}\nMOBILE_DISPLAY_REFRESH_TIMEOUT:750,//{{A9_MOBILE_DISPLAY_REFRESH_TIMEOUT}}\nMOBILE_VIDEO_TIMEOUT:500,//{{A9_MOBILE_VIDEO_TIMEOUT}}\nMOBILE_VIDEO_REFRESH_TIMEOUT:750//{{A9_MOBILE_VIDEO_REFRESH_TIMEOUT}}\n},BEEMRAY:{CUSTOMER_ID:\'cnn\',API_KEY:\'39a34d8d-dd1d-4fbf-aa96-fdc5f0329451\'},CRITEO:{DESKTOP_ZONES:{\'728x90\':1302537,\'970x90\':1302538,\'970x250\':1302534,\'300x250\':1302539,\'300x600\':1302535},MOBILE_ZONES:{\'300x250\':1302536},CRITEO_MULTISIZE_METHOD:\'L\',TIMEOUT:750,DESKTOP_TIMEOUT:1150,MOBILE_TIMEOUT:750},GDPR:{APP_ID:\'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uYnVzaW5lc3MiLCJhcHBJZCI6ImNubmJ1c2luZXNzLWFkZnVlbC13ZWItMmhmMHd2In0.6Z_j8q6VUqiMaMTBPdU-sbzjRYIOr-9RBLGQ2GlE1a0\',APPLIES:window.AdFuelUtils.getGDPRApplies(\'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uYnVzaW5lc3MiLCJhcHBJZCI6ImNubmJ1c2luZXNzLWFkZnVlbC13ZWItMmhmMHd2In0.6Z_j8q6VUqiMaMTBPdU-sbzjRYIOr-9RBLGQ2GlE1a0\'),ENABLED:true},IAS:{DOM_PUB_ID:925660,//{{IAS_DOM_PUB_ID}}\nINTL_PUB_ID:925660//{{IAS_INTL_PUB_ID}}\n},IX:{SCRIPT_MAP:{\'^(ads\\\\.|stage\\\\.)?(www|us|next)(-m)?\\\\.cnn\\\\.com\':{intl:\'186370-111488446026291\',dom:\'186948-131280192444057\'},\'^(stage\\\\.)?edition(-m)?(\\\\.(ads|stage)\\\\.next)?\\\\.cnn\\\\.com\':{intl:\'186370-111488446026291\',dom:\'186948-131280192444057\'}}},KRUX:{DOM_CONTROLTAG:\'IWzCuclz\',INTL_CONTROLTAG:\'teff9xc7i\'},PREBID:{DOM_BIDDERS:[\'rubicon\',\'appnexus\'],INTL_BIDDERS:[\'appnexus\',\'pangaea\',\'rubicon\'],NATIVE_BIDDERS:[\'appnexus\',\'pangaea\'],RUBICON_DOM_DESKTOP_SITE_ID:212778,RUBICON_INTL_DESKTOP_SITE_ID:215622,RUBICON_DOM_MOBILE_SITE_ID:212784,RUBICON_INTL_MOBILE_SITE_ID:215622,RUBICON_DOM_DESKTOP_HP_ZONE_MAPPING:{\'atf\':1045514,\'btf\':1045522},RUBICON_DOM_DESKTOP_ROS_ZONE_MAPPING:{\'atf\':1045524,\'btf\':1045526},RUBICON_DOM_MOBILE_ZONE_MAPPING:{\'atf\':1045538,\'btf\':1045538},RUBICON_INTL_DESKTOP_HP_ZONE_MAPPING:{\'atf\':1060930,\'btf\':1060934},RUBICON_INTL_DESKTOP_ROS_ZONE_MAPPING:{\'atf\':1060940,\'btf\':1060942},RUBICON_INTL_MOBILE_ZONE_MAPPING:{\'atf\':1060936,\'btf\':1060938},TIMEOUT:750,DESKTOP_TIMEOUT:1150,//{{PREBID_DESKTOP_TIMEOUT}}\nMOBILE_TIMEOUT:750//{{PREBID_MOBILE_TIMEOUT}}\n}};window.AdFuelOptions=window.AdFuelUtils.mergeDeep(window.AdFuelOptions,window.CNN_OPTIONS);}break;case\'politics\':window.CNN_OPTIONS={OPTIONS_VERSION:1.2,ADFUEL:{DEFAULT_DESKTOP_TIMEOUT:1200,//{{ADFUEL_DEFAULT_DESKTOP_TIMEOUT}}\nDEFAULT_MOBILE_TIMEOUT:800,//{{ADFUEL_DEFAULT_MOBILE_TIMEOUT}}\nSITE_OBJECT:\'CNN\'//{{ADFUEL_SITE_OBJECT}}\n},A9:{DISPLAY_TIMEOUT:1150,//{{A9_DISPLAY_TIMEOUT}}\nDISPLAY_REFRESH_TIMEOUT:1150,//{{A9_DISPLAY_REFRESH_TIMEOUT}}\nVIDEO_TIMEOUT:500,//{{A9_VIDEO_TIMEOUT}}\nVIDEO_REFRESH_TIMEOUT:750,//{{A9_VIDEO_REFRESH_TIMEOUT}}\nDESKTOP_DISPLAY_TIMEOUT:1150,//{{A9_DESKTOP_DISPLAY_TIMEOUT}}\nDESKTOP_DISPLAY_REFRESH_TIMEOUT:1150,//{{A9_DESKTOP_DISPLAY_REFRESH_TIMEOUT}}\nDESKTOP_VIDEO_TIMEOUT:500,//{{A9_DESKTOP_VIDEO_TIMEOUT}}\nDESKTOP_VIDEO_REFRESH_TIMEOUT:1150,//{{A9_DESKTOP_VIDEO_REFRESH_TIMEOUT}}\nMOBILE_DISPLAY_TIMEOUT:750,//{{A9_MOBILE_DISPLAY_TIMEOUT}}\nMOBILE_DISPLAY_REFRESH_TIMEOUT:750,//{{A9_MOBILE_DISPLAY_REFRESH_TIMEOUT}}\nMOBILE_VIDEO_TIMEOUT:500,//{{A9_MOBILE_VIDEO_TIMEOUT}}\nMOBILE_VIDEO_REFRESH_TIMEOUT:750//{{A9_MOBILE_VIDEO_REFRESH_TIMEOUT}}\n},BEEMRAY:{CUSTOMER_ID:\'cnn\',API_KEY:\'39a34d8d-dd1d-4fbf-aa96-fdc5f0329451\'},CRITEO:{DESKTOP_ZONES:{\'160x600\':1047134,\'300x250\':1047135,\'300x600\':1047136,\'728x90\':1047137,\'HP_970x90\':1128528,\'HP_970x250\':1128527,\'ROS_970x90\':1047140,\'ROS_970x250\':1047139,\'320x50\':1047138},MOBILE_ZONES:{\'300x250\':1090825,\'320x50\':1090883},MULTISIZE_METHOD:\'L\',TIMEOUT:750,DESKTOP_TIMEOUT:1150,MOBILE_TIMEOUT:750},GDPR:{APP_ID:\'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c\',APPLIES:window.AdFuelUtils.getGDPRApplies(\'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c\'),ENABLED:true},IAS:{DOM_PUB_ID:925660,//{{IAS_DOM_PUB_ID}}\nINTL_PUB_ID:925660//{{IAS_INTL_PUB_ID}}\n},IX:{CNNB:{intl:\'186370-111488446026291\',dom:\'186948-131280192444057\'},SCRIPT_MAP:{\'^(ads\\\\.|stage\\\\.)?(www|us|next)(-m)?\\\\.cnn\\\\.com\':{intl:\'186370-96070407099023\',dom:\'186948-60896576130421\'},\'^(stage\\\\.)?edition(-m)?(\\\\.(ads|stage)\\\\.next)?\\\\.cnn\\\\.com\':\'186370-129055748395673\'}},KRUX:{DOM_CONTROLTAG:\'ITb_4eqO\',INTL_CONTROLTAG:\'ITb_9Zup\'},PREBID:{DOM_BIDDERS:[\'rubicon\',\'appnexus\'],INTL_BIDDERS:[\'appnexus\',\'pangaea\',\'rubicon\'],NATIVE_BIDDERS:[\'appnexus\',\'pangaea\'],DOM_ACCOUNT_IDS:{rubicon:\'11078\',appnexus:\'7745\'},INTL_ACCOUNT_IDS:{rubicon:\'11016\',appnexus:\'8353\',pangaea:\'8613\'},RUBICON_DOM_DESKTOP_SITE_ID:26792,RUBICON_INTL_DESKTOP_SITE_ID:78582,RUBICON_DOM_MOBILE_SITE_ID:42244,RUBICON_INTL_MOBILE_SITE_ID:78584,RUBICON_DOM_DESKTOP_HP_ZONE_MAPPING:{\'atf\':761276,\'btf\':761276},RUBICON_DOM_DESKTOP_ROS_ZONE_MAPPING:{\'atf\':761276,\'btf\':761276},RUBICON_DOM_MOBILE_ZONE_MAPPING:{\'atf\':761278,\'btf\':761278},RUBICON_INTL_DESKTOP_HP_ZONE_MAPPING:{\'atf\':369850,\'btf\':369850},RUBICON_INTL_DESKTOP_ROS_ZONE_MAPPING:{\'atf\':369850,\'btf\':369850},RUBICON_INTL_MOBILE_ZONE_MAPPING:{\'atf\':369856,\'btf\':369856},TIMEOUT:750,//{{PREBID_TIMEOUT}}\nDESKTOP_TIMEOUT:1150,//{{PREBID_DESKTOP_TIMEOUT}}\nMOBILE_TIMEOUT:750//{{PREBID_MOBILE_TIMEOUT}}\n}};window.AdFuelOptions=window.AdFuelUtils.mergeDeep(window.AdFuelOptions,window.CNN_OPTIONS);break;case\'style\':window.CNN_OPTIONS={OPTIONS_VERSION:1.2,ADFUEL:{DEFAULT_DESKTOP_TIMEOUT:1200,//{{ADFUEL_DEFAULT_DESKTOP_TIMEOUT}}\nDEFAULT_MOBILE_TIMEOUT:800,//{{ADFUEL_DEFAULT_MOBILE_TIMEOUT}}\nSITE_OBJECT:\'CNN\'//{{ADFUEL_SITE_OBJECT}}\n},A9:{DISPLAY_TIMEOUT:1150,//{{A9_DISPLAY_TIMEOUT}}\nDISPLAY_REFRESH_TIMEOUT:1150,//{{A9_DISPLAY_REFRESH_TIMEOUT}}\nVIDEO_TIMEOUT:500,//{{A9_VIDEO_TIMEOUT}}\nVIDEO_REFRESH_TIMEOUT:750,//{{A9_VIDEO_REFRESH_TIMEOUT}}\nDESKTOP_DISPLAY_TIMEOUT:1150,//{{A9_DESKTOP_DISPLAY_TIMEOUT}}\nDESKTOP_DISPLAY_REFRESH_TIMEOUT:1150,//{{A9_DESKTOP_DISPLAY_REFRESH_TIMEOUT}}\nDESKTOP_VIDEO_TIMEOUT:500,//{{A9_DESKTOP_VIDEO_TIMEOUT}}\nDESKTOP_VIDEO_REFRESH_TIMEOUT:1150,//{{A9_DESKTOP_VIDEO_REFRESH_TIMEOUT}}\nMOBILE_DISPLAY_TIMEOUT:750,//{{A9_MOBILE_DISPLAY_TIMEOUT}}\nMOBILE_DISPLAY_REFRESH_TIMEOUT:750,//{{A9_MOBILE_DISPLAY_REFRESH_TIMEOUT}}\nMOBILE_VIDEO_TIMEOUT:500,//{{A9_MOBILE_VIDEO_TIMEOUT}}\nMOBILE_VIDEO_REFRESH_TIMEOUT:750//{{A9_MOBILE_VIDEO_REFRESH_TIMEOUT}}\n},BEEMRAY:{CUSTOMER_ID:\'cnn\',API_KEY:\'39a34d8d-dd1d-4fbf-aa96-fdc5f0329451\'},CRITEO:{DESKTOP_ZONES:{\'160x600\':1047134,\'300x250\':1047135,\'300x600\':1047136,\'728x90\':1047137,\'HP_970x90\':1128528,\'HP_970x250\':1128527,\'ROS_970x90\':1047140,\'ROS_970x250\':1047139,\'320x50\':1047138},MOBILE_ZONES:{\'300x250\':1090825,\'320x50\':1090883},MULTISIZE_METHOD:\'L\',TIMEOUT:750,DESKTOP_TIMEOUT:1150,MOBILE_TIMEOUT:750},GDPR:{APP_ID:\'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c\',APPLIES:window.AdFuelUtils.getGDPRApplies(\'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c\'),ENABLED:true},IAS:{DOM_PUB_ID:925660,//{{IAS_DOM_PUB_ID}}\nINTL_PUB_ID:925660//{{IAS_INTL_PUB_ID}}\n},IX:{SCRIPT_MAP:{\'^(ads\\\\.|stage\\\\.)?(www|us|next)(-m)?\\\\.cnn\\\\.com\':{intl:\'186370-96070407099023\',dom:\'186948-60896576130421\'},\'^(stage\\\\.)?edition(-m)?(\\\\.(ads|stage)\\\\.next)?\\\\.cnn\\\\.com\':\'186370-129055748395673\'}},KRUX:{DOM_CONTROLTAG:\'ITb_4eqO\',INTL_CONTROLTAG:\'ITb_9Zup\'},PREBID:{DOM_BIDDERS:[\'rubicon\',\'appnexus\'],INTL_BIDDERS:[\'appnexus\',\'pangaea\',\'rubicon\'],NATIVE_BIDDERS:[\'appnexus\',\'pangaea\'],DOM_ACCOUNT_IDS:{rubicon:\'11078\',appnexus:\'7745\'},INTL_ACCOUNT_IDS:{rubicon:\'11016\',appnexus:\'8353\',pangaea:\'8613\'},RUBICON_DOM_DESKTOP_SITE_ID:26792,RUBICON_INTL_DESKTOP_SITE_ID:78582,RUBICON_DOM_MOBILE_SITE_ID:42244,RUBICON_INTL_MOBILE_SITE_ID:78584,RUBICON_DOM_DESKTOP_HP_ZONE_MAPPING:{\'atf\':106536,\'btf\':154308},RUBICON_DOM_DESKTOP_ROS_ZONE_MAPPING:{\'atf\':106830,\'btf\':107752},RUBICON_DOM_MOBILE_ZONE_MAPPING:{\'atf\':185914,\'btf\':185914},RUBICON_INTL_DESKTOP_HP_ZONE_MAPPING:{\'atf\':650180,\'btf\':650180},RUBICON_INTL_DESKTOP_ROS_ZONE_MAPPING:{\'atf\':650180,\'btf\':650180},RUBICON_INTL_MOBILE_ZONE_MAPPING:{\'atf\':369856,\'btf\':369856},TIMEOUT:750,//{{PREBID_TIMEOUT}}\nDESKTOP_TIMEOUT:1150,//{{PREBID_DESKTOP_TIMEOUT}}\nMOBILE_TIMEOUT:750//{{PREBID_MOBILE_TIMEOUT}}\n}};window.AdFuelOptions=window.AdFuelUtils.mergeDeep(window.AdFuelOptions,window.CNN_OPTIONS);break;default:if(CNN.SiteLocation.site===\'edition\'){window.CNN_OPTIONS={OPTIONS_VERSION:1.2,ADFUEL:{DEFAULT_DESKTOP_TIMEOUT:1200,//{{ADFUEL_DEFAULT_DESKTOP_TIMEOUT}}\nDEFAULT_MOBILE_TIMEOUT:800,//{{ADFUEL_DEFAULT_MOBILE_TIMEOUT}}\nSITE_OBJECT:\'CNN\'//{{ADFUEL_SITE_OBJECT}}\n},A9:{DISPLAY_TIMEOUT:1150,//{{A9_DISPLAY_TIMEOUT}}\nDISPLAY_REFRESH_TIMEOUT:1150,//{{A9_DISPLAY_REFRESH_TIMEOUT}}\nVIDEO_TIMEOUT:500,//{{A9_VIDEO_TIMEOUT}}\nVIDEO_REFRESH_TIMEOUT:750,//{{A9_VIDEO_REFRESH_TIMEOUT}}\nDESKTOP_DISPLAY_TIMEOUT:1150,//{{A9_DESKTOP_DISPLAY_TIMEOUT}}\nDESKTOP_DISPLAY_REFRESH_TIMEOUT:1150,//{{A9_DESKTOP_DISPLAY_REFRESH_TIMEOUT}}\nDESKTOP_VIDEO_TIMEOUT:500,//{{A9_DESKTOP_VIDEO_TIMEOUT}}\nDESKTOP_VIDEO_REFRESH_TIMEOUT:1150,//{{A9_DESKTOP_VIDEO_REFRESH_TIMEOUT}}\nMOBILE_DISPLAY_TIMEOUT:750,//{{A9_MOBILE_DISPLAY_TIMEOUT}}\nMOBILE_DISPLAY_REFRESH_TIMEOUT:750,//{{A9_MOBILE_DISPLAY_REFRESH_TIMEOUT}}\nMOBILE_VIDEO_TIMEOUT:500,//{{A9_MOBILE_VIDEO_TIMEOUT}}\nMOBILE_VIDEO_REFRESH_TIMEOUT:750//{{A9_MOBILE_VIDEO_REFRESH_TIMEOUT}}\n},BEEMRAY:{CUSTOMER_ID:\'cnn\',API_KEY:\'39a34d8d-dd1d-4fbf-aa96-fdc5f0329451\'},CRITEO:{DESKTOP_ZONES:{\'160x600\':1047134,\'300x250\':1047135,\'300x600\':1047136,\'728x90\':1047137,\'HP_970x90\':1128528,\'HP_970x250\':1128527,\'ROS_970x90\':1047140,\'ROS_970x250\':1047139,\'320x50\':1047138},MOBILE_ZONES:{\'300x250\':1302583,\'320x50\':1090883},MULTISIZE_METHOD:\'L\',TIMEOUT:750,DESKTOP_TIMEOUT:1150,MOBILE_TIMEOUT:750},GDPR:{APP_ID:\'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c\',APPLIES:window.AdFuelUtils.getGDPRApplies(\'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c\'),ENABLED:true},IAS:{DOM_PUB_ID:925660,//{{IAS_DOM_PUB_ID}}\nINTL_PUB_ID:925660//{{IAS_INTL_PUB_ID}}\n},IX:{SCRIPT_MAP:{\'^(ads\\\\.|stage\\\\.)?(www|us|next)(-m)?\\\\.cnn\\\\.com\':{intl:\'186370-96070407099023\',dom:\'186948-60896576130421\'},\'^(stage\\\\.)?edition(-m)?(\\\\.(ads|stage)\\\\.next)?\\\\.cnn\\\\.com\':\'186370-129055748395673\'}},KRUX:{DOM_CONTROLTAG:\'teff18ls8\',INTL_CONTROLTAG:\'teff18ls8\'},PREBID:{DOM_BIDDERS:[\'rubicon\',\'appnexus\'],INTL_BIDDERS:[\'appnexus\',\'pangaea\',\'rubicon\'],NATIVE_BIDDERS:[\'appnexus\',\'pangaea\'],DOM_ACCOUNT_IDS:{rubicon:\'11078\',appnexus:\'7745\'},INTL_ACCOUNT_IDS:{rubicon:\'11016\',appnexus:\'8353\',pangaea:\'8613\'},RUBICON_DOM_DESKTOP_SITE_ID:26792,RUBICON_INTL_DESKTOP_SITE_ID:78582,RUBICON_DOM_MOBILE_SITE_ID:42244,RUBICON_INTL_MOBILE_SITE_ID:78584,RUBICON_DOM_DESKTOP_HP_ZONE_MAPPING:{\'atf\':106536,\'btf\':154308,\'politics\':761276,\'style\':0},RUBICON_DOM_DESKTOP_ROS_ZONE_MAPPING:{\'atf\':106830,\'btf\':107752,\'politics\':761276,\'style\':0},RUBICON_DOM_MOBILE_ZONE_MAPPING:{\'atf\':185914,\'btf\':185914,\'politics\':761278,\'style\':0},RUBICON_INTL_DESKTOP_HP_ZONE_MAPPING:{\'atf\':650178,\'btf\':650178,\'politics\':761276,\'style\':650180},RUBICON_INTL_DESKTOP_ROS_ZONE_MAPPING:{\'atf\':369850,\'btf\':369850,\'politics\':761276,\'style\':650180},RUBICON_INTL_MOBILE_ZONE_MAPPING:{\'atf\':369856,\'btf\':369856,\'politics\':369856,\'style\':369856},TIMEOUT:750,//{{PREBID_TIMEOUT}}\nDESKTOP_TIMEOUT:1150,//{{PREBID_DESKTOP_TIMEOUT}}\nMOBILE_TIMEOUT:750//{{PREBID_MOBILE_TIMEOUT}}\n}};window.AdFuelOptions=window.AdFuelUtils.mergeDeep(window.AdFuelOptions,window.CNN_OPTIONS);}else{window.CNN_OPTIONS={OPTIONS_VERSION:1.2,ADFUEL:{DEFAULT_DESKTOP_TIMEOUT:1200,//{{ADFUEL_DEFAULT_DESKTOP_TIMEOUT}}\nDEFAULT_MOBILE_TIMEOUT:800,//{{ADFUEL_DEFAULT_MOBILE_TIMEOUT}}\nSITE_OBJECT:\'CNN\'//{{ADFUEL_SITE_OBJECT}}\n},A9:{DISPLAY_TIMEOUT:1150,//{{A9_DISPLAY_TIMEOUT}}\nDISPLAY_REFRESH_TIMEOUT:1150,//{{A9_DISPLAY_REFRESH_TIMEOUT}}\nVIDEO_TIMEOUT:500,//{{A9_VIDEO_TIMEOUT}}\nVIDEO_REFRESH_TIMEOUT:750,//{{A9_VIDEO_REFRESH_TIMEOUT}}\nDESKTOP_DISPLAY_TIMEOUT:1150,//{{A9_DESKTOP_DISPLAY_TIMEOUT}}\nDESKTOP_DISPLAY_REFRESH_TIMEOUT:1150,//{{A9_DESKTOP_DISPLAY_REFRESH_TIMEOUT}}\nDESKTOP_VIDEO_TIMEOUT:500,//{{A9_DESKTOP_VIDEO_TIMEOUT}}\nDESKTOP_VIDEO_REFRESH_TIMEOUT:1150,//{{A9_DESKTOP_VIDEO_REFRESH_TIMEOUT}}\nMOBILE_DISPLAY_TIMEOUT:750,//{{A9_MOBILE_DISPLAY_TIMEOUT}}\nMOBILE_DISPLAY_REFRESH_TIMEOUT:750,//{{A9_MOBILE_DISPLAY_REFRESH_TIMEOUT}}\nMOBILE_VIDEO_TIMEOUT:500,//{{A9_MOBILE_VIDEO_TIMEOUT}}\nMOBILE_VIDEO_REFRESH_TIMEOUT:750//{{A9_MOBILE_VIDEO_REFRESH_TIMEOUT}}\n},BEEMRAY:{CUSTOMER_ID:\'cnn\',API_KEY:\'39a34d8d-dd1d-4fbf-aa96-fdc5f0329451\'},CRITEO:{DESKTOP_ZONES:{\'160x600\':1047134,\'300x250\':1047135,\'300x600\':1047136,\'728x90\':1047137,\'HP_970x90\':1128528,\'HP_970x250\':1128527,\'ROS_970x90\':1047140,\'ROS_970x250\':1047139,\'320x50\':1047138},MOBILE_ZONES:{\'300x250\':1090825,\'320x50\':1090883},MULTISIZE_METHOD:\'L\',TIMEOUT:750,DESKTOP_TIMEOUT:1150,MOBILE_TIMEOUT:750},GDPR:{APP_ID:\'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c\',APPLIES:window.AdFuelUtils.getGDPRApplies(\'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c\'),ENABLED:true},IAS:{DOM_PUB_ID:925660,//{{IAS_DOM_PUB_ID}}\nINTL_PUB_ID:925660//{{IAS_INTL_PUB_ID}}\n},IX:{SCRIPT_MAP:{\'^(ads\\\\.|stage\\\\.)?(www|us|next)(-m)?\\\\.cnn\\\\.com\':{intl:\'186370-96070407099023\',dom:\'186948-60896576130421\'},\'^(stage\\\\.)?edition(-m)?(\\\\.(ads|stage)\\\\.next)?\\\\.cnn\\\\.com\':\'186370-129055748395673\'}},KRUX:{DOM_CONTROLTAG:\'ITb_4eqO\',INTL_CONTROLTAG:\'teff71jyu\'},PREBID:{DOM_BIDDERS:[\'rubicon\',\'appnexus\'],INTL_BIDDERS:[\'appnexus\',\'pangaea\',\'rubicon\'],NATIVE_BIDDERS:[\'appnexus\',\'pangaea\'],DOM_ACCOUNT_IDS:{rubicon:\'11078\',appnexus:\'7745\'},INTL_ACCOUNT_IDS:{rubicon:\'11016\',appnexus:\'8353\',pangaea:\'8613\'},RUBICON_DOM_DESKTOP_SITE_ID:26792,RUBICON_INTL_DESKTOP_SITE_ID:78582,RUBICON_DOM_MOBILE_SITE_ID:42244,RUBICON_INTL_MOBILE_SITE_ID:78584,RUBICON_DOM_DESKTOP_HP_ZONE_MAPPING:{\'atf\':106536,\'btf\':154308,\'politics\':761276,\'style\':0},RUBICON_DOM_DESKTOP_ROS_ZONE_MAPPING:{\'atf\':106830,\'btf\':107752,\'politics\':761276,\'style\':0},RUBICON_DOM_MOBILE_ZONE_MAPPING:{\'atf\':185914,\'btf\':185914,\'politics\':761278,\'style\':0},RUBICON_INTL_DESKTOP_HP_ZONE_MAPPING:{\'atf\':650178,\'btf\':650178,\'politics\':761276,\'style\':650180},RUBICON_INTL_DESKTOP_ROS_ZONE_MAPPING:{\'atf\':369850,\'btf\':369850,\'politics\':761276,\'style\':650180},RUBICON_INTL_MOBILE_ZONE_MAPPING:{\'atf\':369856,\'btf\':369856,\'politics\':369856,\'style\':369856},TIMEOUT:750,//{{PREBID_TIMEOUT}}\nDESKTOP_TIMEOUT:1150,//{{PREBID_DESKTOP_TIMEOUT}}\nMOBILE_TIMEOUT:750//{{PREBID_MOBILE_TIMEOUT}}\n}};window.AdFuelOptions=window.AdFuelUtils.mergeDeep(window.AdFuelOptions,window.CNN_OPTIONS);}}if(CNN.Features.enableIndexExchange===true){(function createIndexExchangeWrapperModule(){var MODULE_NAME=\'IndexExchange Wrapper Module\';var MODULE_VERSION=\'v3.1.1\';// Stub out AdFuelUtils in case it\'s not on the page.\nwindow.AdFuelUtils=window.AdFuelUtils||{addEvent:function addEvent(){},getLogger:function getLogger(){}};// Stub out AdFuelOptions in case it\'s not on the page.\nwindow.AdFuelOptions=window.AdFuelOptions||{};window.AdFuelOptions.IX=window.AdFuelOptions.IX||{};var logger=window.AdFuelUtils.getLogger(MODULE_NAME,MODULE_VERSION,\'ix\',\'color: #58f53f; padding: 2px\');var scriptLoaded=false;function includeWrapper(scriptUrl){logger.log(\'Script Loaded: \',scriptLoaded,scriptUrl);if(!scriptLoaded&&scriptUrl!==\'\'&&scriptUrl!==null&&typeof scriptUrl!==\'undefined\'){logger.log(\'Adding Script... \',scriptUrl);scriptLoaded=true;var a=document;var b=a.createElement(\'script\');var c=a.getElementsByTagName(\'head\')[0];var d=/^(complete|loaded)$/;var e=false;b.type=\'text/javascript\';b.src=scriptUrl;b.onload=b.onreadystatechange=function(){if(!e&&!(\'readyState\'in b&&d.test(b.readyState))){b.onload=b.onreadystatechange=null;logger.timeEnd(\'Loading IndexExchangeWrapper...\');e=true;logger.log(\'Script Loaded...\');}};logger.time(\'Loading IndexExchangeWrapper...\');c.appendChild(b);}}function setGeoTargeting(forceIntl){function setGeoTarget(){if(window.AdFuelUtils.isIntl){logger.log(\'Setting IX Geo Target: EU\');window.AdFuel.addPageLevelTarget(\'iom_geo\',\'EU\');}else if(forceIntl){logger.log(\'Setting IX Geo Target: EU\');window.AdFuel.addPageLevelTarget(\'iom_geo\',\'EU\');}else{logger.log(\'Setting IX Geo Target: US\');window.AdFuel.addPageLevelTarget(\'iom_geo\',\'US\');}}window.googletag.cmd.push(setGeoTarget);}function registerModuleWithAdFuel(){logger.log(\'Registering Module...\');window.AdFuel.registerModule(MODULE_NAME,{},MODULE_VERSION,window.AdFuelOptions.IX);}function init(){var scriptKey=window.AdFuelOptions.IX.SCRIPT_KEY||\'\';if(scriptKey===\'\'){var scriptMap=window.AdFuelOptions.IX.SCRIPT_MAP||{};Object.keys(scriptMap).forEach(function(regex){var test=new RegExp(regex);if(window.location.hostname.search(test)===0){if(typeof scriptMap[regex]===\'string\'){scriptKey=scriptMap[regex];}else{if(window.AdFuelUtils.isIntl){scriptKey=scriptMap[regex].intl;}else{scriptKey=scriptMap[regex].dom;}}}});}window.AdFuelOptions.GDPR?window.AdFuelOptions.GDPR.APPLIES.then(function(applies){if(applies&&!window.AdFuelUtils.getConsent()){logger.log(\'Disabling IndexExchange due to GDPR restrictions.\');}else{logger.log(\'Script Key: \',scriptKey);var forceIntl=false;if(scriptKey!==\'\'&&scriptKey!==null&&typeof scriptKey!==\'undefined\'){var scriptUrl=\'//js-sec.indexww.com/ht/p/\'+scriptKey+\'.js\';includeWrapper(scriptUrl);setGeoTargeting(forceIntl);if(window.AdFuel&&window.AdFuel.cmd){window.AdFuel.cmd.push(registerModuleWithAdFuel);}else if(window.AdFuel){registerModuleWithAdFuel();}else{window.AdFuelUtils.addEvent(document,\'AdFuelCreated\',registerModuleWithAdFuel);}}else{logger.log(\'No Script Key.  Skipping initialization.\');}}}):\'\';}init();})();}if(CNN.Features.enableCriteoAds===true){(function createCriteoModule(){var MODULE_NAME=\'Criteo Module\';var MODULE_VERSION=\'v3.2.2\';var logger=window.AdFuelUtils.getLogger(MODULE_NAME,MODULE_VERSION,\'criteo\',\'color: #58f53f; padding: 2px\');window.Criteo=window.Criteo||{};window.Criteo.events=window.Criteo.events||[];var scriptLoaded=false;var adapterLoaded=false;var MaxPlacements=8;var MultisizeMethod=window.AdFuelOptions.CRITEO.MULTISIZE_METHOD;var zones_in_slot={};var slot_max_area={};var RequestedCriteoAdUnits={placements:[]};var DesktopZones=window.AdFuelOptions.CRITEO.DESKTOP_ZONES;var MobileZones=window.AdFuelOptions.CRITEO.MOBILE_ZONES;function includeCriteoLibrary(){if(!scriptLoaded){window.AdFuelOptions.GDPR?window.AdFuelOptions.GDPR.APPLIES.then(function(applies){if(applies&&!window.AdFuelUtils.getConsent()){logger.log(\'Disabling Criteo due to GDPR restrictions.\');}else{logger.log(\'Including Criteo Library...\');scriptLoaded=true;var a=document;var b=a.createElement(\'script\');var c=a.getElementsByTagName(\'script\')[0];b.type=\'text/javascript\';b.async=true;b.src=\'//static.criteo.net/js/ld/publishertag.js\';c.parentNode.insertBefore(b,c);}}):\'\';}}function preQueueCallback(asset,callback){logger.time(\'Building Criteo Placements\');var CriteoAdUnits={\'placements\':[]},slotid,x;for(x=0;x<asset.length;x++){var slot=asset[x];if(slot.rktr_slot_id!==\'page\'&&(slot.monetization?slot.monetization.isMonetized:false)){var slot_sizes=slot.monetization.filteredSizes;var adUnit=slot.rktr_ad_id;slotid=slot.rktr_slot_id;zones_in_slot[slotid]=[];slot_max_area[slotid]=0;var siteAdUnit=adUnit.split(\'/\')[0];for(var y=0;y<slot_sizes.length;y++){var sizeArray=slot_sizes[y];var width=sizeArray[0]||null;var height=sizeArray[1]||null;var area=width!==null?width*height:0;var size_name=width!==null?width+\'x\'+height:sizeArray.join(\'x\');var zoneid=DesktopZones[size_name]?DesktopZones[size_name]:DesktopZones[\'ROS_\'+size_name]?DesktopZones[\'ROS_\'+size_name]:null;if(siteAdUnit===\'CNN\'&&adUnit.indexOf(\'homepage\')>0)zoneid=DesktopZones[\'HP_\'+size_name]||zoneid;if([\'300x250\',\'320x50\'].indexOf(size_name)!==-1&&window.AdFuelUtils.isMobile.any){logger.log(\'Using Mobile zoneId for size: \',size_name);zoneid=MobileZones[size_name]||null;}if(zoneid!==null){slot_max_area[slotid]=area>slot_max_area[slotid]?area:slot_max_area[slotid];var data={\'slotid\':slotid,\'zoneid\':zoneid,\'width\':width,\'height\':height,\'area\':area};if(zones_in_slot[slotid].indexOf(data)===-1){logger.log(\'Pushing data...\',data);zones_in_slot[slotid].push(data);}else{logger.log(\'Skipping... Already exists...\',data);}}}}}var count=0;for(slotid in zones_in_slot){if(zones_in_slot.hasOwnProperty(slotid)){var zones=zones_in_slot[slotid];for(x=0;x<zones.length;x++){var zone=zones[x];if(count>=MaxPlacements)break;if(MultisizeMethod===window.AdFuelOptions.CRITEO.MULTISIZE_LARGEST&&zone.area!==slot_max_area[zone.slotid])continue;var placement={\'slotid\':slotid,\'zoneid\':zone.zoneid};var exists=false;CriteoAdUnits.placements.forEach(function forEachPlacementFunc(cPlacement){if(cPlacement.slotid===placement.slotid&&cPlacement.zoneid===placement.zoneid)exists=true;});RequestedCriteoAdUnits.placements.forEach(function forEachRequestedPlacementFunc(rPlacement){if(rPlacement.slotid===placement.slotid&&rPlacement.zoneid===placement.zoneid)exists=true;});if(!exists){if(adapterLoaded&&placement.zoneid===1302583){logger.log(\'Adding Yieldmo.criteoCallback as nativeCallback...\');placement[\'nativeCallback\']=function(json){window.Yieldmo.criteoCallback(json,slotid);};}else if(adapterLoaded){logger.log(\'Adding noop nativeCallback...\');placement[\'nativeCallback\']=function(){};}else{logger.log(\'Not adding nativeCallback...\');}logger.log(\'Placement does not yet exist.  Adding to collection.\',placement);CriteoAdUnits.placements.push(placement);}count++;if(MultisizeMethod===window.AdFuelOptions.CRITEO.MULTISIZE_FIRST)break;}}}function eventFunction(){logger.log(\'Setting LineItem Ranges...\');window.Criteo.SetLineItemRanges(\'0..5:0.01;5..30:0.05;30..100:1.00\');logger.log(\'Previously Requested: \',RequestedCriteoAdUnits);window.AdFuelUtils.metricApi.addMetric({type:\'vendor\',id:\'Criteo\',data:zones_in_slot});CriteoAdUnits.placements.forEach(function(placement,index){var matched=false;RequestedCriteoAdUnits.placements.forEach(function(requested){if(requested.slotid===placement.slotid){matched=true;}});if(matched){CriteoAdUnits.placements.splice(index,1);}});logger.log(\'Requesting Bids...\',CriteoAdUnits);RequestedCriteoAdUnits.placements=RequestedCriteoAdUnits.placements.concat(CriteoAdUnits.placements);window.Criteo.RequestBids(CriteoAdUnits,function(bids){callback(null,bids);},window.AdFuelUtils.isMobile.any?window.AdFuelOptions.CRITEO.MOBILE_TIMEOUT||window.AdFuelOptions.CRITEO.TIMEOUT:window.AdFuelOptions.CRITEO.DESKTOP_TIMEOUT||window.AdFuelOptions.CRITEO.TIMEOUT);}if(CriteoAdUnits.placements.length>0){window.Criteo.events.push(eventFunction);}else callback();logger.timeEnd(\'Building Criteo Placements\');}function preDispatchCallback(asset,callback){try{window.googletag.cmd.push(function(){logger.log(\'Setting DFP KeyValue Targeting...\');if(window.Criteo&&window.Criteo.SetDFPKeyValueTargeting){window.Criteo.SetDFPKeyValueTargeting();}});}catch(e){logger.error(e);}callback();}function preRefreshCallback(asset,callback){var internalCallback=preDispatchCallback.bind(null,asset,callback);var assetIds=asset.map(function(assetPayload){return assetPayload.rktr_slot_id;});var bidsToRequest={placements:[]};bidsToRequest.placements=RequestedCriteoAdUnits.placements.filter(function(placement){return assetIds.indexOf(placement.slotid)>=0;});function eventFunc(){if(bidsToRequest.placements.length>0){logger.log(\'Setting LineItem Ranges...\');window.Criteo.SetLineItemRanges(\'0..3:0.01;3..8:0.05;8..20:0.50;20..30:1.00\');logger.log(\'Refreshing Bids...\',bidsToRequest);window.AdFuelUtils.metricApi.addMetric({type:\'vendor\',id:\'Criteo\',data:zones_in_slot});window.Criteo.RequestBids(bidsToRequest,internalCallback,window.AdFuelUtils.isMobile.any?window.AdFuelOptions.CRITEO.MOBILE_TIMEOUT||window.AdFuelOptions.CRITEO.TIMEOUT:window.AdFuelOptions.CRITEO.DESKTOP_TIMEOUT||window.AdFuelOptions.CRITEO.TIMEOUT);}}window.Criteo.events.push(eventFunc);}function registerModuleWithAdFuel(){logger.log(\'Registering Module...\');window.AdFuel.registerModule(MODULE_NAME,{//when dispatching or refreshing slots, set criteo targeting\npreQueueCallback:preQueueCallback,preDispatchCallback:preDispatchCallback,preRefreshCallback:preRefreshCallback},MODULE_VERSION,window.AdFuelOptions.CRITEO);}function init(){logger.log(\'Initializing Module...\');includeCriteoLibrary();if(window.AdFuelUtils.isMobile.any&&window.AdFuelOptions.ADFUEL.SITE_OBJECT===\'CNN\'){// if CNN and on a mobile device...\n// includeYieldmoAdapter();\n}if(window.AdFuel&&window.AdFuel.cmd){window.AdFuel.cmd.push(registerModuleWithAdFuel);}else if(window.AdFuel){//AdFuel loaded first\nregisterModuleWithAdFuel();}else{//wait for AdFuel to load\nwindow.AdFuelUtils.addEvent(document,\'AdFuelCreated\',registerModuleWithAdFuel);}}init();})();}if(CNN.Features.enableAmazonDisplayAds===true){/*\n    Amazon A9 Module - Version 3.2.5\n    - GDPR Updates (CSD-1883) (v3.2.0)\n    - GDPR Fix (v3.2.1)\n    - Shoppers Insight (CSD-1767) (v3.2.2)\n    - Refresh Fix (CSD-1859) (v3.2.3)\n    - Amazon Deals Integration (CSD-1892) (v3.2.4)\n    - GDPR disabled when domestic (v3.2.5)\n    - Fix: Video Targeting (v3.2.5)\n*/(function createA9AdFuelModule(){\'use strict\';var MODULE_NAME=\'Amazon A9 Module\';var MODULE_VERSION=\'v3.2.5\';var logger=window.AdFuelUtils.getLogger(MODULE_NAME,MODULE_VERSION,\'a9\',\'color: #58f53f; padding: 2px\');var blocked=false;var a9bids;// display a9 bid cache\nvar bidSlots=[];// slots sent to a9 for auction\nvar refreshSlots=[];// slots sent to a9 on refresh\nvar defaultTimeout=window.AdFuelUtils.isMobile.any?window.AdFuelOptions.A9.MOBILE_VIDEO_TIMEOUT||window.AdFuelOptions.A9.VIDEO_TIMEOUT:window.AdFuelOptions.A9.DESKTOP_VIDEO_TIMEOUT||window.AdFuelOptions.A9.VIDEO_TIMEOUT;var defaultRefreshTimeout=window.AdFuelUtils.isMobile.any?window.AdFuelOptions.A9.MOBILE_VIDEO_REFRESH_TIMEOUT||window.AdFuelOptions.A9.VIDEO_REFRESH_TIMEOUT:window.AdFuelOptions.A9.DESKTOP_VIDEO_REFRESH_TIMEOUT||window.AdFuelOptions.A9.VIDEO_REFRESH_TIMEOUT;function getTargetingData(timeout){if(blocked){return new Promise(function(resolve){resolve({\'amznbid\':\'\',\'amzniid\':\'\'});});}else{timeout=timeout||defaultTimeout;var timeoutOverride=window.AdFuelUtils.getURLParam(\'mdt\');if(timeoutOverride){timeout=timeoutOverride;logger.log(\'Overriding Max Duration Time: \',timeout);}var timeoutFunction=function timeoutFunction(resolve,reject){window.targetingTimeoutId=setTimeout(function(){logger.log(\'getTargetingData timed out after \'+timeout+\'ms.\');clearTimeout(window.targetingTimeoutId);reject(\'getTargetingData timed out after \'+timeout+\'ms.\');},timeout);};var wrappedFunction=function wrappedFunction(resolve){logger.log(\'Getting Video targeting...\');var innerFunction=function innerFunction(bids){clearTimeout(window.targetingTimeoutId);var targetBid={};logger.log(\'Pre-Roll Bids: \',bids);bids.forEach(function(bid){if(bid.slotID.indexOf(\'aps-preroll\')>=0){targetBid=bid;}});var result=targetBid.targeting||{\'amznbid\':\'\',\'amzniid\':\'\'};logger.log(\'Returning Targeting: \',result);return result;};window.A9VideoAPI._targetingPromise.then(function(bids){resolve(innerFunction(bids));});};var wrappedCallback=new Promise(wrappedFunction);var timeoutCallback=new Promise(timeoutFunction);// Returns a race between the timeout and the passed in promise\nreturn Promise.race([timeoutCallback,wrappedCallback]);}}function getRefreshedTargetingData(slotName,timeout){if(blocked){return new Promise(function(resolve){resolve({\'amznbid\':\'\',\'amzniid\':\'\'});});}else{timeout=timeout||defaultRefreshTimeout;slotName=slotName?slotName+(window.AdFuelUtils.isMobile.phone?\'-mobile\':\'\'):window.AdFuelUtils.isMobile.phone?\'aps-midroll-mobile\':\'aps-midroll\';var timeoutOverride=window.AdFuelUtils.getURLParam(\'mdt\');var slotNameOverride=window.AdFuelUtils.getURLParam(\'slotname\');if(timeoutOverride){timeout=timeoutOverride;logger.log(\'Overriding Max Duration Time: \',timeout);}if(slotNameOverride){logger.log(\'Overriding Slot Name: \',slotName);slotName=slotNameOverride;}var timeoutFunction=function timeoutFunction(resolve,reject){window.targetingTimeoutId=setTimeout(function(){logger.log(\'getRefreshedTargetingData timed out after \'+timeout+\'ms.\');clearTimeout(window.targetingTimeoutId);reject(\'getRefreshedTargetingData timed out after \'+timeout+\'ms.\');},timeout);};var wrappedFunction=function wrappedFunction(resolve){window.A9VideoAPI._refreshedTargetingPromise=new Promise(function(resolve){window.apstag.fetchBids({params:{si_section:\'video\'},slots:[{slotID:slotName,mediaType:\'video\'}],timeout:timeout},resolve);});var innerFunction=function innerFunction(bids){clearTimeout(window.targetingTimeoutId);var targetBid={};bids.forEach(function(bid){if(bid.slotID===slotName){targetBid=bid;}});var result=targetBid.targeting||{\'amznbid\':\'\',\'amzniid\':\'\'};logger.log(\'Returning Refreshed Targeting: \',result);resolve(result);};logger.log(\'Refreshing Video targeting...\');window.A9VideoAPI._refreshedTargetingPromise.then(innerFunction);};var wrappedCallback=new Promise(wrappedFunction);var timeoutCallback=new Promise(timeoutFunction);// Returns a race between the timeout and the passed in promise\nreturn Promise.race([timeoutCallback,wrappedCallback]);}}function getPreRollTargetingData(timeout){if(blocked){return new Promise(function(resolve){resolve({\'amznbid\':\'\',\'amzniid\':\'\'});});}else{timeout=timeout||defaultTimeout;var timeoutOverride=window.AdFuelUtils.getURLParam(\'mdt\');var slotNameOverride=window.AdFuelUtils.getURLParam(\'slotname\');var slotName=\'aps-preroll\'+(window.AdFuelUtils.isMobile.phone?\'-mobile\':\'\');if(timeoutOverride){timeout=timeoutOverride;logger.log(\'Overriding Max Duration Time: \',timeout);}if(slotNameOverride){logger.log(\'Overriding Slot Name: \',slotName);slotName=slotNameOverride;}var timeoutFunction=function timeoutFunction(resolve,reject){window.targetingTimeoutId=setTimeout(function(){logger.log(\'getTargetingData timed out after \'+timeout+\'ms.\');clearTimeout(window.targetingTimeoutId);reject(\'getTargetingData timed out after \'+timeout+\'ms.\');},timeout);};var wrappedFunction=function wrappedFunction(resolve){logger.log(\'Getting A9 Video targeting...\');var innerFunction=function innerFunction(bids){clearTimeout(window.targetingTimeoutId);var targetBid={};logger.log(\'Bids: \',bids);bids.forEach(function forEachBid(bid){if(bid.slotID===(slotNameOverride?slotNameOverride:window.AdFuelUtils.isMobile.phone?\'aps-preroll-mobile\':\'aps-preroll\')){targetBid=bid;}});var result=targetBid.targeting||{\'amznbid\':\'\',\'amzniid\':\'\'};logger.log(\'Returning Targeting: \',result);return result;};window.A9VideoAPI._preRollTargetingPromise.then(function(bids){resolve(innerFunction(bids));});};var wrappedCallback=new Promise(wrappedFunction);var timeoutCallback=new Promise(timeoutFunction);// Returns a race between the timeout and the passed in promise\nreturn Promise.race([timeoutCallback,wrappedCallback]);}}function getRefreshedPreRollTargetingData(timeout){if(blocked){return new Promise(function(resolve){resolve({\'amznbid\':\'\',\'amzniid\':\'\'});});}else{timeout=timeout||defaultRefreshTimeout;var timeoutOverride=window.AdFuelUtils.getURLParam(\'mdt\');var slotNameOverride=window.AdFuelUtils.getURLParam(\'slotname\');var slotName=\'aps-preroll\'+(window.AdFuelUtils.isMobile.phone?\'-mobile\':\'\');if(timeoutOverride){timeout=timeoutOverride;logger.log(\'Overriding Max Duration Time: \',timeout);}if(slotNameOverride){logger.log(\'Overriding Slot Name: \',slotNameOverride);slotName=slotNameOverride;}var timeoutFunction=function timeoutFunction(resolve,reject){window.targetingTimeoutId=setTimeout(function(){logger.log(\'getRefreshedTargetingData timed out after \'+timeout+\'ms.\');clearTimeout(window.targetingTimeoutId);reject(\'getRefreshedTargetingData timed out after \'+timeout+\'ms.\');},timeout);};var wrappedFunction=function wrappedFunction(resolve){window.A9VideoAPI._refreshedPreRollTargetingPromise=new Promise(function(resolve){window.apstag.fetchBids({params:{si_section:\'video\'},slots:[{slotID:slotName,mediaType:\'video\'}],timeout:defaultRefreshTimeout},resolve);});var innerFunction=function innerFunction(bids){clearTimeout(window.targetingTimeoutId);var targetBid={};bids.forEach(function forEachBid(bid){if(bid.slotID===(slotNameOverride?slotNameOverride:window.AdFuelUtils.isMobile.phone?\'aps-midroll-mobile\':\'aps-midroll\')){targetBid=bid;}});var result=targetBid.targeting||{\'amznbid\':\'\',\'amzniid\':\'\'};logger.log(\'Returning Targeting: \',result);resolve(result);};logger.log(\'Refreshing Video targeting...\');window.A9VideoAPI._refreshedPreRollTargetingPromise.then(innerFunction);};var wrappedCallback=new Promise(wrappedFunction);var timeoutCallback=new Promise(timeoutFunction);// Returns a race between the timeout and the passed in promise\nreturn Promise.race([timeoutCallback,wrappedCallback]);}}function getMidRollTargetingData(timeout){if(blocked){return new Promise(function(resolve){resolve({\'amznbid\':\'\',\'amzniid\':\'\'});});}else{timeout=timeout||defaultRefreshTimeout;var timeoutOverride=window.AdFuelUtils.getURLParam(\'mdt\');var slotNameOverride=window.AdFuelUtils.getURLParam(\'slotname\');var slotName=\'aps-midroll\'+(window.AdFuelUtils.isMobile.phone?\'-mobile\':\'\');if(timeoutOverride){timeout=timeoutOverride;logger.log(\'Overriding Max Duration Time: \',timeout);}if(slotNameOverride){logger.log(\'Overriding Slot Name: \',slotNameOverride);slotName=slotNameOverride;}var timeoutFunction=function timeoutFunction(resolve,reject){window.targetingTimeoutId=setTimeout(function(){logger.log(\'getRefreshedTargetingData timed out after \'+timeout+\'ms.\');clearTimeout(window.targetingTimeoutId);reject(\'getRefreshedTargetingData timed out after \'+timeout+\'ms.\');},timeout);};var wrappedFunction=function wrappedFunction(resolve){window.A9VideoAPI._midRollTargetingPromise=new Promise(function(resolve){window.apstag.fetchBids({params:{si_section:\'video\'},slots:[{slotID:slotName,mediaType:\'video\'}],timeout:defaultRefreshTimeout},resolve);});var innerFunction=function innerFunction(bids){clearTimeout(window.targetingTimeoutId);var targetBid={};bids.forEach(function forEachBid(bid){if(bid.slotID===(slotNameOverride?slotNameOverride:window.AdFuelUtils.isMobile.phone?\'aps-midroll-mobile\':\'aps-midroll\')){targetBid=bid;}});var result=targetBid.targeting||{\'amznbid\':\'\',\'amzniid\':\'\'};logger.log(\'Returning Targeting: \',result);resolve(result);};logger.log(\'Refreshing Video targeting...\');window.A9VideoAPI._midRollTargetingPromise.then(innerFunction);};var wrappedCallback=new Promise(wrappedFunction);var timeoutCallback=new Promise(timeoutFunction);// Returns a race between the timeout and the passed in promise\nreturn Promise.race([timeoutCallback,wrappedCallback]);}}function getRefreshedMidRollTargetingData(timeout){if(blocked){return new Promise(function(resolve){resolve({\'amznbid\':\'\',\'amzniid\':\'\'});});}else{timeout=timeout||defaultRefreshTimeout;var timeoutOverride=window.AdFuelUtils.getURLParam(\'mdt\');var slotNameOverride=window.AdFuelUtils.getURLParam(\'slotname\');var slotName=\'aps-midroll\'+(window.AdFuelUtils.isMobile.phone?\'-mobile\':\'\');if(timeoutOverride){timeout=timeoutOverride;logger.log(\'Overriding Max Duration Time: \',timeout);}if(slotNameOverride){logger.log(\'Overriding Slot Name: \',slotNameOverride);slotName=slotNameOverride;}var timeoutFunction=function timeoutFunction(resolve,reject){window.targetingTimeoutId=setTimeout(function(){logger.log(\'getRefreshedTargetingData timed out after \'+timeout+\'ms.\');clearTimeout(window.targetingTimeoutId);reject(\'getRefreshedTargetingData timed out after \'+timeout+\'ms.\');},timeout);};var wrappedFunction=function wrappedFunction(resolve){window.A9VideoAPI._refreshedMidRollTargetingPromise=new Promise(function(resolve){window.apstag.fetchBids({params:{si_section:\'video\'},slots:[{slotID:slotName,mediaType:\'video\'}],timeout:defaultRefreshTimeout},resolve);});var innerFunction=function innerFunction(bids){clearTimeout(window.targetingTimeoutId);var targetBid={};bids.forEach(function forEachBid(bid){if(bid.slotID===(slotNameOverride?slotNameOverride:window.AdFuelUtils.isMobile.phone?\'aps-midroll-mobile\':\'aps-midroll\')){targetBid=bid;}});var result=targetBid.targeting||{\'amznbid\':\'\',\'amzniid\':\'\'};resolve(result);};logger.log(\'Refreshing Video targeting...\');window.A9VideoAPI._refreshedMidRollTargetingPromise.then(innerFunction);};var wrappedCallback=new Promise(wrappedFunction);var timeoutCallback=new Promise(timeoutFunction);// Returns a race between the timeout and the passed in promise\nreturn Promise.race([timeoutCallback,wrappedCallback]);}}function keyGPTSlots(slots){return slots.reduce(function(o,slot){var slotId=slot.getSlotElementId();o[slotId]=slot;return o;},{});}function handleA9Bids(bids,gptSlots,done){logger.time(\'Handling Bids\');window.googletag.cmd.push(function(){logger.log(\'Setting Display Bids:\',bids);window.apstag.setDisplayBids();});logger.timeEnd(\'Handling Bids\');done();}function preQueueCallback(asset,done){if(asset&&asset.length>0){var processBids=function processBids(bids){a9bids=bids;done();};logger.time(\'Slot Building\');var si_section=\'\';for(var x=0;x<asset.length;x++){var slot=asset[x];if(slot.monetization.isMonetized){if(si_section===\'\'){var adUnitArray=slot.rktr_ad_id.split(\'/\');if(adUnitArray.length>1&&adUnitArray[1]!==\'homepage\'){si_section=adUnitArray[0]+(adUnitArray[1]?\'/\'+adUnitArray[1]:\'\');}}var obj={slotID:slot.rktr_slot_id,sizes:slot.monetization.filteredSizes};logger.log(\'A9 Slot Object: \',obj);bidSlots.push(obj);}}logger.timeEnd(\'Slot Building\');if(bidSlots.length>0){var a9Slots=window.AdFuelUtils.clone(bidSlots);var fetchBidsConfig={slots:a9Slots,timeout:window.AdFuelUtils.isMobile.any?window.AdFuelOptions.A9.MOBILE_DISPLAY_TIMEOUT||window.AdFuelOptions.A9.DISPLAY_TIMEOUT:window.AdFuelOptions.A9.DESKTOP_DISPLAY_TIMEOUT||window.AdFuelOptions.A9.DISPLAY_TIMEOUT};if(si_section!==\'\'){fetchBidsConfig.params={si_section:si_section};}logger.log(\'Fetching Bids: \',fetchBidsConfig);window.apstag.fetchBids(fetchBidsConfig,processBids);refreshSlots=window.AdFuelUtils.clone(a9Slots);bidSlots.length=0;}else{logger.log(\'No valid slots.\');}}else{done();}}function preDispatchCallback(asset,done){window.googletag.cmd.push(function(){var gptSlots=window.googletag.pubads().getSlots();if(a9bids)handleA9Bids(a9bids,gptSlots,done);if(!a9bids){logger.log(\'No Bids.\');done();}});}function preRefreshCallback(asset,done){a9bids=null;logger.time(\'Refreshing Bids\');var si_section=\'\';asset.forEach(function(slot){if(si_section===\'\'){var adUnitArray=slot.rktr_ad_id.split(\'/\');si_section=adUnitArray[0]+(adUnitArray[1]?\'/\'+adUnitArray[1]:\'\');}});var assetIds=asset.map(function(assetPayload){return assetPayload.rktr_slot_id;});logger.log(\'Refresh Slots: \',refreshSlots);var slotsToRefresh=refreshSlots.filter(function(slot){return assetIds.indexOf(slot.slotID)>=0;});var fetchBidsConfig={slots:slotsToRefresh,timeout:window.AdFuelUtils.isMobile.any?window.AdFuelOptions.A9.MOBILE_DISPLAY_REFRESH_TIMEOUT||window.AdFuelOptions.A9.DISPLAY_REFRESH_TIMEOUT:window.AdFuelOptions.A9.DESKTOP_DISPLAY_REFRESH_TIMEOUT||window.AdFuelOptions.A9.DISPLAY_REFRESH_TIMEOUT};if(si_section!==\'\'){fetchBidsConfig.params={si_section:si_section};}if(refreshSlots.length>0){logger.log(\'Fetching Bids... \',fetchBidsConfig);window.apstag.fetchBids(fetchBidsConfig,function(bids){a9bids=bids;logger.timeEnd(\'Refreshing Bids\');var gptSlots=window.googletag.pubads().getSlots();handleA9Bids(a9bids,gptSlots,done);});}else{logger.log(\'No slots to refresh: \',asset,refreshSlots);logger.timeEnd(\'Refreshing Bids\');}}function registerModuleWithAdFuel(){if(!blocked){logger.log(\'Registering module with AdFuel\');window.AdFuel.registerModule(MODULE_NAME,{preQueueCallback:preQueueCallback,preDispatchCallback:preDispatchCallback,preRefreshCallback:preRefreshCallback},MODULE_VERSION,window.AdFuelOptions.A9);}else{logger.log(\'A9 Module Registration is Blocked!\',blocked);}}function configureA9Library(){window.AdFuelOptions.GDPR.APPLIES.then(function(gdprApplies){var consentGranted=window.AdFuelUtils.getConsent();logger.log(\'Exposing AdFuelVideoAPI.A9 and A9VideoAPI\');window.AdFuelVideoAPI=window.AdFuelVideoAPI||{};window.AdFuelVideoAPI.A9=window.A9VideoAPI={getTargetingData:getTargetingData,getRefreshedTargetingData:getRefreshedTargetingData,getPreRollTargetingData:getPreRollTargetingData,getMidRollTargetingData:getMidRollTargetingData,getRefreshedPreRollTargetingData:getRefreshedPreRollTargetingData,getRefreshedMidRollTargetingData:getRefreshedMidRollTargetingData,__VERSION__:MODULE_VERSION};var pubId=window.AdFuelOptions.A9.DOM_PUB_ID;if(window.AdFuelUtils.isIntl){pubId=window.AdFuelOptions.A9.INTL_PUB_ID;}logger.log(\'Final Pub ID: \',pubId);var bidTimeout=window.AdFuelUtils.isMobile.any?window.AdFuelOptions.A9.MOBILE_VIDEO_TIMEOUT||window.AdFuelOptions.A9.VIDEO_TIMEOUT:window.AdFuelOptions.A9.DESKTOP_VIDEO_TIMEOUT||window.AdFuelOptions.A9.VIDEO_TIMEOUT;var timeoutOverride=window.AdFuelUtils.getURLParam(\'mdt\');if(timeoutOverride){bidTimeout=timeoutOverride;logger.log(\'Overriding Max Duration Time: \',bidTimeout);}var slotName=window.AdFuelUtils.isMobile.phone?\'aps-preroll-mobile\':\'aps-preroll\';var slotNameOverride=window.AdFuelUtils.getURLParam(\'slotname\');if(slotNameOverride){slotName=slotNameOverride;logger.log(\'Overriding Slot Name: \',slotName);}var a9Config={pubID:pubId,adServer:\'googletag\',videoAdServer:\'freeWheel\',deals:true};if(consentGranted||!gdprApplies){if(gdprApplies){logger.log(\'Enabling GDPR...\');var consent=window.AdFuelUtils.getConsentString();a9Config.gdpr={enabled:true,consent:consent};}!function(a9,a,p,s,t,A,g){if(a[a9])return;function q(c,r){a[a9]._Q.push([c,r]);}a[a9]={init:function init(){q(\'i\',arguments);},fetchBids:function fetchBids(){q(\'f\',arguments);},_Q:[]};A=p.createElement(s);A.async=!0;A.src=t;g=p.getElementsByTagName(s)[0];g.parentNode.insertBefore(A,g);}(\'apstag\',window,document,\'script\',\'//c.amazon-adsystem.com/aax2/apstag.js\');window.apstag.init(a9Config);window.A9VideoAPI._preRollTargetingPromise=window.A9VideoAPI._targetingPromise=new Promise(function(resolve){window.apstag.fetchBids({params:{si_section:\'video\'},slots:[{slotID:slotName,mediaType:\'video\'}],timeout:bidTimeout},resolve);});if(window.AdFuel&&window.AdFuel.cmd){//AdFuel loaded first\nwindow.AdFuel.cmd.push(registerModuleWithAdFuel);}else if(window.AdFuel){registerModuleWithAdFuel();}else{//wait for AdFuel to load\nwindow.AdFuelUtils.addEvent(document,\'AdFuelCreated\',registerModuleWithAdFuel);}}else{logger.log(\'A9 is blocked due to GDPR restrictions.\');blocked=true;}});}function init(){logger.log(\'Initializing Module...\');configureA9Library();}init();})();}if(CNN.Features.enablePrebid===true){if(CNN.Features.enableLocalPrebid!==false){var _pblib=document.createElement(\'script\');_pblib.id=\'PrebidScript\';document.getElementsByTagName(\'head\')[0].appendChild(_pblib);/* prebid.js v2.10.0\nUpdated : 2019-04-11 */!function(u){var s=window.pbjsChunk;window.pbjsChunk=function(e,t,n){for(var r,i,o,a=0,c=[];a<e.length;a++){i=e[a],d[i]&&c.push(d[i][0]),d[i]=0;}for(r in t){Object.prototype.hasOwnProperty.call(t,r)&&(u[r]=t[r]);}for(s&&s(e,t,n);c.length;){c.shift()();}if(n)for(a=0;a<n.length;a++){o=f(f.s=n[a]);}return o;};var n={},d={225:0};function f(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return u[e].call(t.exports,t,t.exports,f),t.l=!0,t.exports;}f.m=u,f.c=n,f.d=function(e,t,n){f.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n});},f.n=function(e){var t=e&&e.__esModule?function(){return e["default"];}:function(){return e;};return f.d(t,"a",t),t;},f.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t);},f.p="",f.oe=function(e){throw console.error(e),e;},f(f.s=582);}({0:function _(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"internal",function(){return C;}),n.d(t,"bind",function(){return B;}),t.replaceTokenInString=function(i,e,o){return ne(e,function(e,t){e=void 0===e?"":e;var n=o+t.toUpperCase()+o,r=new RegExp(n,"g");i=i.replace(r,e);}),i;},t.getUniqueIdentifierStr=D,t.generateUUID=function e(t){return t?(t^N()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e);},t.getBidIdParameter=function(e,t){if(t&&t[e])return t[e];return"";},t.tryAppendQueryString=function(e,t,n){if(n)return e+=t+"="+encodeURIComponent(n)+"&";return e;},t.parseQueryStringParameters=function(e){var t="";for(var n in e){e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");}return t;},t.transformAdServerTargetingObj=function(t){return t&&0<Object.getOwnPropertyNames(t).length?le(t).map(function(e){return"".concat(e,"=").concat(encodeURIComponent(ge(t,e)));}).join("&"):"";},t.getAdUnitSizes=function(e){if(!e)return;var t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){var n=e.mediaTypes.banner.sizes;Array.isArray(n[0])?t=n:t.push(n);}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t;},t.parseSizesInput=function(e){var t=[];if("string"==typeof e){var n=e.split(","),r=/^(\\d)+x(\\d)+$/i;if(n)for(var i in n){ie(n,i)&&n[i].match(r)&&t.push(n[i]);}}else if("object"===g(e)){var o=e.length;if(0<o)if(2===o&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(k(e));else for(var a=0;a<o;a++){t.push(k(e[a]));}}return t;},t.parseGPTSingleSizeArray=k,t.getTopWindowLocation=x,t.getTopFrameReferrer=P,t.getAncestorOrigins=M,t.getWindowTop=q,t.getWindowSelf=G,t.getWindowLocation=W,t.getTopWindowUrl=function(){var t;try{t=C.getTopWindowLocation().href;}catch(e){t="";}return t;},t.getTopWindowReferrer=function(){try{return window.top.document.referrer;}catch(e){return document.referrer;}},t.logMessage=L,t.logInfo=z,t.logWarn=F,t.logError=H,t.hasConsoleLogger=function(){return O;},t.debugTurnedOn=K,t.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=D(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e;},t.getParameterByName=J,t.hasValidBidRequest=function(e,n,t){var r=!1;function i(e,t){t===n[o]&&(r=!0);}for(var o=0;o<n.length;o++){if(r=!1,ne(e,i),!r)return H("Params are missing for bid request. One of these required paramaters are missing: "+n,t),!1;}return!0;},t.addEventHandler=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent&&e.attachEvent("on"+t,n);},t.isA=Y,t.isFn=Q,t.isStr=X,t.isArray=$,t.isNumber=Z,t.isPlainObject=ee,t.isBoolean=function(e){return Y(e,A);},t.isEmpty=te,t.isEmptyStr=function(e){return X(e)&&(!e||0===e.length);},t._each=ne,t.contains=function(e,t){if(te(e))return!1;if(Q(e.indexOf))return-1!==e.indexOf(t);var n=e.length;for(;n--;){if(e[n]===t)return!0;}return!1;},n.d(t,"indexOf",function(){return re;}),t._map=function(n,r){if(te(n))return[];if(Q(n.map))return n.map(r);var i=[];return ne(n,function(e,t){i.push(r(e,t,n));}),i;},t.insertElement=oe,t.triggerPixel=ae,t.callBurl=function(e){var t=e.source,n=e.burl;t===p.S2S.SRC&&n&&C.triggerPixel(n);},t.insertHtmlIntoIframe=function(e){if(!e)return;var t=document.createElement("iframe");t.id=D(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",C.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close();},t.insertUserSyncIframe=ce,t.createTrackPixelHtml=function(e){if(!e)return"";var t=encodeURI(e),n=\'<div style="position:absolute;left:0px;top:0px;visibility:hidden;">\';return n+=\'<img src="\'+t+\'"></div>\';},t.createTrackPixelIframeHtml=ue,t.getIframeDocument=function(e){if(!e)return;var t;try{t=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument;}catch(e){C.logError("Cannot get iframe document",e);}return t;},t.getValueString=se,t.uniques=de,t.flatten=fe,t.getBidRequest=function(n,e){return n?(e.some(function(e){var t=c()(e.bids,function(t){return["bidId","adId","bid_id"].some(function(e){return t[e]===n;});});return t&&(r=t),t;}),r):void 0;var r;},t.getKeys=le,t.getValue=ge,t.getKeyByValue=function(e,t){for(var n in e){if(e.hasOwnProperty(n)&&e[n]===t)return n;}},t.getBidderCodes=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits).map(function(e){return e.bids.map(function(e){return e.bidder;}).reduce(fe,[]);}).reduce(fe).filter(de);},t.isGptPubadsDefined=function(){if(window.googletag&&Q(window.googletag.pubads)&&Q(window.googletag.pubads().getSlots))return!0;},n.d(t,"getHighestCpm",function(){return pe;}),n.d(t,"getOldestHighestCpmBid",function(){return be;}),n.d(t,"getLatestHighestCpmBid",function(){return ve;}),t.shuffle=function(e){var t=e.length;for(;0<t;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r;}return e;},t.adUnitsFilter=function(e,t){return s()(e,t&&t.adUnitCode);},t.isSrcdocSupported=function(e){return e.defaultView&&e.defaultView.frameElement&&"srcdoc"in e.defaultView.frameElement&&!/firefox/i.test(navigator.userAgent);},t.deepClone=he,t.inIframe=me,t.isSafariBrowser=function(){return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);},t.replaceAuctionPrice=function(e,t){if(!e)return;return e.replace(/\\$\\{AUCTION_PRICE\\}/g,t);},t.timestamp=function(){return new Date().getTime();},t.checkCookieSupport=Se,t.cookiesAreEnabled=function(){if(C.checkCookieSupport())return!0;return window.document.cookie="prebid.cookieTest",-1!=window.document.cookie.indexOf("prebid.cookieTest");},t.getCookie=function(e){var t=window.document.cookie.match("(^|;)\\\\s*"+e+"\\\\s*=\\\\s*([^;]*)\\\\s*(;|$)");return t?decodeURIComponent(t[2]):null;},t.setCookie=function(e,t,n){document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(""!==n?"; expires=".concat(n):"","; path=/");},t.localStorageIsEnabled=function(){try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest");}catch(e){return!1;}},t.delayExecution=function(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var n=0;return function(){++n===t&&e.apply(null,arguments);};},t.groupBy=function(e,n){return e.reduce(function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e;},{});},t.deepAccess=function(e,t){if(!e)return;t=String(t).split(".");for(var n=0;n<t.length;n++){if(void 0===(e=e[t[n]]))return;}return e;},t.createContentToExecuteExtScriptInFriendlyFrame=function(e){return e?\'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><base target="_top" /><script>inDapIF=true;<\\/script></head><body>\\x3c!--PRE_SCRIPT_TAG_MACRO--\\x3e<script src="\'.concat(e,\'"><\\/script>\\x3c!--POST_SCRIPT_TAG_MACRO--\\x3e</body></html>\'):"";},t.getDefinedParams=function(n,e){return e.filter(function(e){return n[e];}).reduce(function(e,t){return l(e,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e;}({},t,n[t]));},{});},t.isValidMediaTypes=function(e){var t=["banner","native","video"];if(!Object.keys(e).every(function(e){return s()(t,e);}))return!1;if(e.video&&e.video.context)return s()(["instream","outstream","adpod"],e.video.context);return!0;},t.getBidderRequest=function(e,t,n){return c()(e,function(e){return 0<e.bids.filter(function(e){return e.bidder===t&&e.adUnitCode===n;}).length;})||{start:null,auctionId:null};},t.getUserConfiguredParams=function(e,t,n){return e.filter(function(e){return e.code===t;}).map(function(e){return e.bids;}).reduce(fe,[]).filter(function(e){return e.bidder===n;}).map(function(e){return e.params||{};});},t.getOrigin=function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");},t.getDNT=function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack;},t.isAdUnitCodeMatchingSlot=function(t){return function(e){return Ae(t,e);};},t.isSlotMatchingAdUnitCode=function(t){return function(e){return Ae(e,t);};},t.unsupportedBidderMessage=function(e,t){var n=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\\n    ".concat(e.code," is a ").concat(n," ad unit\\n    containing bidders that don\'t support ").concat(n,": ").concat(t,".\\n    This bidder won\'t fetch demand.\\n  ");},t.deletePropertyFromObject=function(e,t){var n=l({},e);return delete n[t],n;},t.isInteger=Ee,t.convertCamelToUnderscore=function(e){return e.replace(/(?:^|\\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase();}).replace(/^_/,"");},t.transformBidderParamKeywords=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"keywords",i=[];return ne(e,function(e,t){if($(e)){var n=[];ne(e,function(e){((e=se(r+"."+t,e))||""===e)&&n.push(e);}),e=n;}else{if(!X(e=se(r+"."+t,e)))return;e=[e];}i.push({key:t,value:e});}),i;},t.convertTypes=function(t,n){return Object.keys(t).forEach(function(e){n[e]&&(Q(t[e])?n[e]=t[e](n[e]):n[e]=function(e,t){return"string"===e?t&&t.toString():"number"===e?Number(t):t;}(t[e],n[e]),isNaN(n[e])&&delete n.key);}),n;},t.setDataInLocalStorage=function(e,t){Te()&&window.localStorage.setItem(e,t);},t.getDataFromLocalStorage=function(e){if(Te())return window.localStorage.getItem(e);},t.hasLocalStorage=Te,t.isArrayOfNums=function(e,t){return $(e)&&(!t||e.length===t)&&e.every(function(e){return Ee(e);});},t.fill=function(e,t){for(var n=[],r=0;r<t;r++){var i=ee(e)?he(e):e;n.push(i);}return n;},t.chunk=function(e,t){for(var n=[],r=0;r<Math.ceil(e.length/t);r++){var i=r*t,o=i+t;n.push(e.slice(i,o));}return n;},t.getMinValueFromArray=function(e){return Math.min.apply(Math,f(e));},t.getMaxValueFromArray=function(e){return Math.max.apply(Math,f(e));},t.compareOn=function(n){return function(e,t){return e[n]<t[n]?1:e[n]>t[n]?-1:0;};};var r=n(3),i=n(90),o=n.n(i),a=n(10),c=n.n(a),u=n(8),s=n.n(u),d=n(11);function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++){n[t]=e[t];}return n;}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e);}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance");}();}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);}}return e;}).apply(this,arguments);}function g(e){return(g="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e);}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e);})(e);}var p=n(4),b=!1,v="Array",y="String",h="Function",m="Number",S="Object",A="Boolean",E=Object.prototype.toString,T=Boolean(window.console),O=Boolean(T&&window.console.log),I=Boolean(T&&window.console.info),w=Boolean(T&&window.console.warn),_=Boolean(T&&window.console.error),C={checkCookieSupport:Se,createTrackPixelIframeHtml:ue,getWindowSelf:G,getWindowTop:q,getAncestorOrigins:M,getTopFrameReferrer:P,getWindowLocation:W,getTopWindowLocation:x,insertUserSyncIframe:ce,insertElement:oe,isFn:Q,triggerPixel:ae,logError:H,logWarn:F,logMessage:L,logInfo:z},j={},B=function(e,t){return t;}.bind(null,1,j)()===j?Function.prototype.bind:function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)));};};var U,R=(U=0,function(){return++U;});function D(){return R()+Math.random().toString(16).substr(2);}function N(){return window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random();}function k(e){if($(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1]))return e[0]+"x"+e[1];}function x(){if(me()){var e;try{e=C.getAncestorOrigins()||C.getTopFrameReferrer();}catch(e){z("could not obtain top window location",e);}if(e)return Object(d.c)(e,{decodeSearchAsString:!0});}return C.getWindowLocation();}function P(){try{window.top.location.toString();for(var e,t="";(e=e?e.parent:window).document&&e.document.referrer&&(t=e.document.referrer),e!==window.top;){;}return t;}catch(e){return window.document.referrer;}}function M(){if(window.document.location&&window.document.location.ancestorOrigins&&1<=window.document.location.ancestorOrigins.length)return window.document.location.ancestorOrigins[window.document.location.ancestorOrigins.length-1];}function q(){return window.top;}function G(){return window.self;}function W(){return window.location;}function L(){K()&&O&&console.log.apply(console,V(arguments,"MESSAGE:"));}function z(){K()&&I&&console.info.apply(console,V(arguments,"INFO:"));}function F(){K()&&w&&console.warn.apply(console,V(arguments,"WARNING:"));}function H(){K()&&_&&console.error.apply(console,V(arguments,"ERROR:"));}function V(e,t){return e=[].slice.call(e),t&&e.unshift(t),e.unshift("display: inline-block; color: #fff; background: #3b88c3; padding: 1px 4px; border-radius: 3px;"),e.unshift("%cPrebid"),e;}function K(){if(!1===r.config.getConfig("debug")&&!1===b){var e="TRUE"===J(p.DEBUG_MODE).toUpperCase();r.config.setConfig({debug:e}),b=!0;}return!!r.config.getConfig("debug");}function J(e){var t=new RegExp("[\\\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\\+/g," "));}function Y(e,t){return E.call(e)==="[object "+t+"]";}function Q(e){return Y(e,h);}function X(e){return Y(e,y);}function $(e){return Y(e,v);}function Z(e){return Y(e,m);}function ee(e){return Y(e,S);}function te(e){if(!e)return!0;if($(e)||X(e))return!(0<e.length);for(var t in e){if(hasOwnProperty.call(e,t))return!1;}return!0;}function ne(e,t){if(!te(e)){if(Q(e.forEach))return e.forEach(t,this);var n=0,r=e.length;if(0<r)for(;n<r;n++){t(e[n],n,e);}else for(n in e){hasOwnProperty.call(e,n)&&t.call(this,e[n],n);}}}var re=function(){if(Array.prototype.indexOf)return Array.prototype.indexOf;}();var ie=function ie(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t];};function oe(e,t,n,r){var i;t=t||document,i=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var o=r?null:i.firstChild;return i.insertBefore(e,o);}}catch(e){}}function ae(e,t){var n=new Image();t&&C.isFn(t)&&(n.addEventListener("load",t),n.addEventListener("error",t)),n.src=e;}function ce(e,t){var n=C.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),r=document.createElement("div");r.innerHTML=n;var i=r.firstChild;t&&C.isFn(t)&&(i.addEventListener("load",t),i.addEventListener("error",t)),C.insertElement(i,document,"html",!0);}function ue(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),n&&(n=\'sandbox="\'.concat(n,\'"\')),"<iframe ".concat(n,\' id="\').concat(D(),\'"\\n      frameborder="0"\\n      allowtransparency="true"\\n      marginheight="0" marginwidth="0"\\n      width="0" hspace="0" vspace="0" height="0"\\n      style="height:0px;width:0px;display:none;"\\n      scrolling="no"\\n      src="\').concat(e,\'">\\n    </iframe>\')):"";}function se(e,t,n){return null==t?n:X(t)?t:Z(t)?t.toString():void C.logWarn("Unsuported type for param: "+e+" required type: String");}function de(e,t,n){return n.indexOf(e)===t;}function fe(e,t){return e.concat(t);}function le(e){return Object.keys(e);}function ge(e,t){return e[t];}var pe=ye("timeToRespond",function(e,t){return t<e;}),be=ye("responseTimestamp",function(e,t){return t<e;}),ve=ye("responseTimestamp",function(e,t){return e<t;});function ye(n,r){return function(e,t){return e.cpm===t.cpm?r(e[n],t[n])?t:e:e.cpm<t.cpm?t:e;};}function he(e){return o()(e);}function me(){try{return C.getWindowSelf()!==C.getWindowTop();}catch(e){return!0;}}function Se(){if(window.navigator.cookieEnabled||document.cookie.length)return!0;}var Ae=function Ae(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t;};function Ee(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;}function Te(){try{return!!window.localStorage;}catch(e){H("Local storage api disabled");}}},1:function _(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerBidder=function(t){var n=Array.isArray(t.supportedMediaTypes)?{supportedMediaTypes:t.supportedMediaTypes}:void 0;function r(e){var t=I(e);a["default"].registerBidAdapter(t,e.code,n);}r(t),Array.isArray(t.aliases)&&t.aliases.forEach(function(e){a["default"].aliasRegistry[e]=t.code,r(E({},t,{code:e}));});},t.newBidder=I,t.preloadBidderMappingFile=w,t.getIabSubCategory=function(t,e){var n=a["default"].getBidAdapter(t);if(n.getSpec().getMappingFileInfo){var r=n.getSpec().getMappingFileInfo(),i=r.localStorageKey?r.localStorageKey:n.getBidderCode(),o=Object(h.getDataFromLocalStorage)(i);if(o){try{o=JSON.parse(o);}catch(e){Object(h.logError)("Failed to parse ".concat(t," mapping data stored in local storage"));}return o.mapping[e]?o.mapping[e]:null;}}},t.isValid=_;var r=n(45),a=n(7),i=n(3),b=n(22),o=n(24),c=n(27),u=n(46),s=n(4),v=n.n(s),d=n(9),y=n.n(d),f=n(8),l=n.n(f),g=n(5),h=n(0),p=n(2),m=n(17);function S(e,t){return function(e){if(Array.isArray(e))return e;}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0){;}}catch(e){i=!0,o=e;}finally{try{r||null==c["return"]||c["return"]();}finally{if(i)throw o;}}return n;}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}();}function A(e){return(A="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e);}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e);})(e);}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);}}return e;}).apply(this,arguments);}var T=["requestId","cpm","ttl","creativeId","netRevenue","currency"],O=1;function I(l){return E(new r.a(l.code),{getSpec:function getSpec(){return Object.freeze(l);},registerSyncs:g,callBids:function callBids(o,a,e,n,c){if(Array.isArray(o.bids)){var u={},s=[],t=o.bids.filter(p);if(0!==t.length){var d={};t.forEach(function(e){(d[e.bidId]=e).adUnitCode||(e.adUnitCode=e.placementCode);});var r=l.buildRequests(t,o);if(r&&0!==r.length){Array.isArray(r)||(r=[r]);var f=Object(h.delayExecution)(i,r.length);r.forEach(function(i){switch(i.method){case"GET":n("".concat(i.url).concat(function(e){if(e)return"?".concat("object"===A(e)?Object(h.parseQueryStringParameters)(e):e);return"";}(i.data)),{success:e,error:t},void 0,E({method:"GET",withCredentials:!0},i.options));break;case"POST":n(i.url,{success:e,error:t},"string"==typeof i.data?i.data:JSON.stringify(i.data),E({method:"POST",contentType:"text/plain",withCredentials:!0},i.options));break;default:Object(h.logWarn)("Skipping invalid request from ".concat(l.code,". Request type ").concat(i.type," must be GET or POST")),f();}function e(e,t){c(l.code);try{e=JSON.parse(e);}catch(e){}var n;e={body:e,headers:{get:t.getResponseHeader.bind(t)}},s.push(e);try{n=l.interpretResponse(e,i);}catch(e){return Object(h.logError)("Bidder ".concat(l.code," failed to interpret the server\'s response. Continuing without bids"),null,e),void f();}function r(e){var t=d[e.requestId];if(t){var n=E(Object(b.a)(v.a.STATUS.GOOD,t),e);!function(e,t){u[e]=!0,_(e,t,[o])&&a(e,t);}(t.adUnitCode,n);}else Object(h.logWarn)("Bidder ".concat(l.code," made bid for unknown request ID: ").concat(e.requestId,". Ignoring."));}n&&(n.forEach?n.forEach(r):r(n)),f(n);}function t(e){c(l.code),Object(h.logError)("Server call for ".concat(l.code," failed: ").concat(e,". Continuing without bids.")),f();}});}else i();}else i();}function i(){e(),y.a.emit(v.a.EVENTS.BIDDER_DONE,o),g(s,o.gdprConsent);}}});function g(e,t){if(l.getUserSyncs){var n=i.config.getConfig("userSync.filterSettings"),r=l.getUserSyncs({iframeEnabled:!!(i.config.getConfig("userSync.iframeEnabled")||n&&(n.iframe||n.all)),pixelEnabled:!!(i.config.getConfig("userSync.pixelEnabled")||n&&(n.image||n.all))},e,t);r&&(Array.isArray(r)||(r=[r]),r.forEach(function(e){o.a.registerSync(e.type,l.code,e.url);}));}}function p(e){return!!l.isBidRequestValid(e)||(Object(h.logWarn)("Invalid bid sent to bidder ".concat(l.code,": ").concat(JSON.stringify(e))),!1);}}function w(e,t){if(!i.config.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter(function(e){return Object(h.deepAccess)(e,"mediaTypes.video.context")===p.a;}).map(function(e){return e.bids.map(function(e){return e.bidder;});}).reduce(h.flatten,[]).filter(h.uniques).forEach(function(n){var e=a["default"].getBidAdapter(n);if(e.getSpec().getMappingFileInfo){var t=e.getSpec().getMappingFileInfo(),r=t.refreshInDays?t.refreshInDays:O,i=t.localStorageKey?t.localStorageKey:e.getSpec().code,o=Object(h.getDataFromLocalStorage)(i);(!o||Object(h.timestamp)()<o.lastUpdated+24*r*60*60*1e3)&&Object(g.a)(t.url,{success:function success(e){try{e=JSON.parse(e);var t={lastUpdated:Object(h.timestamp)(),mapping:e.mapping};Object(h.setDataInLocalStorage)(i,JSON.stringify(t));}catch(e){Object(h.logError)("Failed to parse ".concat(n," bidder translation mapping file"));}},error:function error(){Object(h.logError)("Failed to load ".concat(n," bidder translation file"));}});}}),e.call(this,t);}function _(e,t,n){function r(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e);}return e?t?(i=Object.keys(t),T.every(function(e){return l()(i,e)&&!l()([void 0,null],t[e]);})?"native"!==t.mediaType||Object(c.f)(t,n)?"video"!==t.mediaType||Object(u.c)(t,n)?!("banner"===t.mediaType&&!function(e,t,n){if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var r=Object(h.getBidderRequest)(n,t.bidderCode,e),i=r&&r.bids&&r.bids[0]&&r.bids[0].sizes,o=Object(h.parseSizesInput)(i);if(1!==o.length)return!1;var a=S(o[0].split("x"),2),c=a[0],u=a[1];return t.width=parseInt(c,10),t.height=parseInt(u,10),!0;}(e,t,n))||(Object(h.logError)(r("Banner bids require a width and height")),!1):(Object(h.logError)(r("Video bid does not have required vastUrl or renderer property")),!1):(Object(h.logError)(r("Native bid missing some required properties.")),!1):(Object(h.logError)(r("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1)):(Object(h.logWarn)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):(Object(h.logWarn)("No adUnitCode was supplied to addBidResponse."),!1);var i;}Object(m.a)("checkAdUnitSetup").before(w);},10:function _(e,t,n){n(82),e.exports=n(14).Array.find;},11:function _(e,t,n){"use strict";function r(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return"".concat(t,"[]=").concat(e);}).join("&"):"".concat(t,"=").concat(e[t]);}).join("&");}t.b=r,t.c=function(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\\/)/,"/"),search:r?n.search:function(e){return e?e.replace(/^\\?/,"").split("&").reduce(function(e,t){var n=t.split("="),r=function(e,t){return function(e){if(Array.isArray(e))return e;}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0){;}}catch(e){i=!0,o=e;}finally{try{r||null==c["return"]||c["return"]();}finally{if(i)throw o;}}return n;}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}();}(n,2),i=r[0],o=r[1];return /\\[\\]$/.test(i)?(i=i.replace("[]",""),e[i]=e[i]||[],e[i].push(o)):e[i]=o||"",e;},{}):{};}(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host};},t.a=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(r(e.search||"")):"")+(e.hash?"#".concat(e.hash):"");};},12:function _(e,t,n){"use strict";t.a=i,t.c=function(e){return!(!e||!e.url);},t.b=function(e,t){e.render(t);};var u=n(47),s=n(0),r=n(10),d=n.n(r);function i(e){var t=this,n=e.url,r=e.config,i=e.id,o=e.callback,a=e.loaded,c=e.adUnitCode;this.url=n,this.config=r,this.handlers={},this.id=i,this.loaded=a,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):s.logError("Commands given to Renderer.push must be wrapped in a function");},this.callback=o||function(){t.loaded=!0,t.process();},!function(t){var e=pbjs.adUnits,n=d()(e,function(e){return e.code===t;});return!!(n&&n.renderer&&n.renderer.url&&n.renderer.render);}(c)?Object(u.b)(n,this.callback,!0):s.logWarn("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(c));}i.install=function(e){return new i({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode});},i.prototype.getConfig=function(){return this.config;},i.prototype.setRender=function(e){this.render=e;},i.prototype.setEventHandlers=function(e){this.handlers=e;},i.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),s.logMessage("Prebid Renderer event for id ".concat(t," type ").concat(n));},i.prototype.process=function(){for(;0<this.cmd.length;){try{this.cmd.shift().call();}catch(e){s.logError("Error processing Renderer command: ",e);}}};},129:function _(e,t,n){"use strict";var r=n(13),i=n(40)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1;}),r(r.P+r.F*a,"Array",{findIndex:function findIndex(e){return i(this,e,1<arguments.length?arguments[1]:void 0);}}),n(34)(o);},13:function _(e,t,n){var b=n(18),v=n(14),y=n(23),h=n(20),m=n(26),S="prototype",A=function A(e,t,n){var r,i,o,a=e&A.F,c=e&A.G,u=e&A.S,s=e&A.P,d=e&A.B,f=e&A.W,l=c?v:v[t]||(v[t]={}),g=l[S],p=c?b:u?b[t]:(b[t]||{})[S];for(r in c&&(n=t),n){(i=!a&&p&&void 0!==p[r])&&m(l,r)||(o=i?p[r]:n[r],l[r]=c&&"function"!=typeof p[r]?n[r]:d&&i?y(o,b):f&&p[r]==o?function(r){var e=function e(_e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r();case 1:return new r(_e);case 2:return new r(_e,t);}return new r(_e,t,n);}return r.apply(this,arguments);};return e[S]=r[S],e;}(o):s&&"function"==typeof o?y(Function.call,o):o,s&&((l.virtual||(l.virtual={}))[r]=o,e&A.R&&g&&!g[r]&&h(g,r,o)));}};A.F=1,A.G=2,A.S=4,A.P=8,A.B=16,A.W=32,A.U=64,A.R=128,e.exports=A;},131:function _(e,t,n){"use strict";t.a=function(){addEventListener("message",g,!1);};var r=n(9),o=n.n(r),a=n(27),i=n(4),d=(n.n(i),n(0)),c=n(37),u=n(10),f=n.n(u),l=n(12),s=i.EVENTS.BID_WON;function g(e){var t=e.message?"message":"data",n={};try{n=JSON.parse(e[t]);}catch(e){return;}if(n&&n.adId){var r=f()(c.a.getBidsReceived(),function(e){return e.adId===n.adId;});if("Prebid Request"===n.message&&(function(e,t,n){var r=e.adId,i=e.ad,o=e.adUrl,a=e.width,c=e.height,u=e.renderer,s=e.cpm;Object(l.c)(u)?Object(l.b)(u,e):r&&(function(e){var r=e.adUnitCode,i=e.width,o=e.height;function a(e){var t=function(e){return window.googletag?function(e){return f()(window.googletag.pubads().getSlots().filter(Object(d.isSlotMatchingAdUnitCode)(e)),function(e){return e;}).getSlotElementId();}(e):window.apntag?function(e){var t=window.apntag.getTag(e);return t&&t.targetId;}(e):e;}(r),n=document.getElementById(t);return n&&n.querySelector(e);}["div","iframe"].forEach(function(e){var t=a(e);if(t){var n=t.style;n.width=i+"px",n.height=o+"px";}else Object(d.logWarn)("Unable to locate matching page element for adUnitCode ".concat(r,".  Can\'t resize it to ad\'s dimensions.  Please review setup."));});}(e),n.postMessage(JSON.stringify({message:"Prebid Response",ad:Object(d.replaceAuctionPrice)(i,s),adUrl:Object(d.replaceAuctionPrice)(o,s),adId:r,width:a,height:c}),t));}(r,n.adServerDomain,e.source),c.a.addWinningBid(r),o.a.emit(s,r)),"Prebid Native"===n.message){if("assetRequest"===n.action){var i=Object(a.c)(n,r);return void e.source.postMessage(JSON.stringify(i),e.origin);}if("click"===Object(a.b)(n,r))return;c.a.addWinningBid(r),o.a.emit(s,r);}}}},132:function _(e,t,n){"use strict";t.a=function(e){var t;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem(u));}catch(e){}t&&f(t,!0);};var r=n(3),o=n(0),i=n(36);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);}}return e;}).apply(this,arguments);}var c,u="pbjs:debugging";function s(e){Object(o.logMessage)("DEBUG: "+e);}function d(){i.c.getHooks({hook:c}).remove();}function f(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];r.config.setConfig({debug:!0}),s("bidder overrides enabled".concat(t?" from session":"")),d(),c=function(e,r,i){if(Array.isArray(this.bidders)&&-1===this.bidders.indexOf(i.bidderCode))return void function(e){Object(o.logWarn)("DEBUG: "+e);}("bidder \'".concat(i.bidderCode,"\' excluded from auction by bidder overrides"));Array.isArray(this.bids)&&this.bids.forEach(function(n){n.bidder&&n.bidder!==i.bidderCode||n.adUnitCode&&n.adUnitCode!==r||(i=a({},i),Object.keys(n).filter(function(e){return-1===["bidder","adUnitCode"].indexOf(e);}).forEach(function(e){var t=n[e];s("bidder overrides changed \'".concat(r,"/").concat(i.bidderCode,"\' bid.").concat(e," from \'").concat(i[e],"\' to \'").concat(t,"\'")),i[e]=t;}));});e(r,i);}.bind(e),i.c.before(c,5);}function l(e){if(e.enabled){try{window.sessionStorage.setItem(u,JSON.stringify(e));}catch(e){}f(e);}else{d(),s("bidder overrides disabled");try{window.sessionStorage.removeItem(u);}catch(e){}}}r.config.getConfig("debugging",function(e){return l(e.debugging);});},133:function _(e,t,n){n(134),n(67),n(143),n(145),n(149),n(152),n(154),e.exports=n(14).Set;},134:function _(e,t){},135:function _(e,t,n){var u=n(42),s=n(32);e.exports=function(c){return function(e,t){var n,r,i=String(s(e)),o=u(t),a=i.length;return o<0||a<=o?c?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?c?i.charAt(o):n:c?i.slice(o,o+2):r-56320+(n-55296<<10)+65536;};};},136:function _(e,t,n){e.exports=n(20);},137:function _(e,t,n){"use strict";var r=n(68),i=n(39),o=n(50),a={};n(20)(a,n(15)("iterator"),function(){return this;}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator");};},138:function _(e,t,n){var a=n(19),c=n(25),u=n(139);e.exports=n(21)?Object.defineProperties:function(e,t){c(e);for(var n,r=u(t),i=r.length,o=0;o<i;){a.f(e,n=r[o++],t[n]);}return e;};},139:function _(e,t,n){var r=n(140),i=n(69);e.exports=Object.keys||function(e){return r(e,i);};},14:function _(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n);},140:function _(e,t,n){var a=n(26),c=n(44),u=n(58)(!1),s=n(49)("IE_PROTO");e.exports=function(e,t){var n,r=c(e),i=0,o=[];for(n in r){n!=s&&a(r,n)&&o.push(n);}for(;t.length>i;){a(r,n=t[i++])&&(~u(o,n)||o.push(n));}return o;};},141:function _(e,t,n){var r=n(18).document;e.exports=r&&r.documentElement;},142:function _(e,t,n){var r=n(26),i=n(41),o=n(49)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null;};},143:function _(e,t,n){n(144);for(var r=n(18),i=n(20),o=n(28),a=n(15)("toStringTag"),c="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<c.length;u++){var s=c[u],d=r[s],f=d&&d.prototype;f&&!f[a]&&i(f,a,s),o[s]=o.Array;}},144:function _(e,t,n){"use strict";var r=n(34),i=n(70),o=n(28),a=n(44);e.exports=n(48)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t;},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]]);},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries");},145:function _(e,t,n){"use strict";var r=n(146),i=n(78);e.exports=n(148)("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0);};},{add:function add(e){return r.def(i(this,"Set"),e=0===e?0:e,e);}},r);},146:function _(e,t,n){"use strict";var a=n(19).f,c=n(68),u=n(71),s=n(23),d=n(72),f=n(38),r=n(48),i=n(70),o=n(147),l=n(21),g=n(77).fastKey,p=n(78),b=l?"_s":"size",v=function v(e,t){var n,r=g(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n){if(n.k==t)return n;}};e.exports={getConstructor:function getConstructor(e,o,n,r){var i=e(function(e,t){d(e,i,o,"_i"),e._t=o,e._i=c(null),e._f=void 0,e._l=void 0,e[b]=0,null!=t&&f(t,n,e[r],e);});return u(i.prototype,{clear:function clear(){for(var e=p(this,o),t=e._i,n=e._f;n;n=n.n){n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];}e._f=e._l=void 0,e[b]=0;},"delete":function _delete(e){var t=p(this,o),n=v(t,e);if(n){var r=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t._f==n&&(t._f=r),t._l==n&&(t._l=i),t[b]--;}return!!n;},forEach:function forEach(e){p(this,o);for(var t,n=s(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;){for(n(t.v,t.k,this);t&&t.r;){t=t.p;}}},has:function has(e){return!!v(p(this,o),e);}}),l&&a(i.prototype,"size",{get:function get(){return p(this,o)[b];}}),i;},def:function def(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=g(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[b]++,"F"!==i&&(e._i[i]=o)),e;},getEntry:v,setStrong:function setStrong(e,n,t){r(e,n,function(e,t){this._t=p(e,n),this._k=t,this._l=void 0;},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;){n=n.p;}return e._t&&(e._l=n=n?n.n:e._t._f)?i(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,i(1));},t?"entries":"values",!t,!0),o(n);}};},147:function _(e,t,n){"use strict";var r=n(18),i=n(14),o=n(19),a=n(21),c=n(15)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[c]&&o.f(t,c,{configurable:!0,get:function get(){return this;}});};},148:function _(e,t,n){"use strict";var f=n(18),l=n(13),g=n(77),p=n(30),b=n(20),v=n(71),y=n(38),h=n(72),m=n(16),S=n(50),A=n(19).f,E=n(40)(0),T=n(21);e.exports=function(n,e,t,r,i,o){var a=f[n],c=a,u=i?"set":"add",s=c&&c.prototype,d={};return T&&"function"==typeof c&&(o||s.forEach&&!p(function(){new c().entries().next();}))?(c=e(function(e,t){h(e,c,n,"_c"),e._c=new a(),null!=t&&y(t,i,e[u],e);}),E("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(r){var i="add"==r||"set"==r;r in s&&(!o||"clear"!=r)&&b(c.prototype,r,function(e,t){if(h(this,c,r),!i&&o&&!m(e))return"get"==r&&void 0;var n=this._c[r](0===e?0:e,t);return i?this:n;});}),o||A(c.prototype,"size",{get:function get(){return this._c.size;}})):(c=r.getConstructor(e,n,i,u),v(c.prototype,t),g.NEED=!0),S(c,n),d[n]=c,l(l.G+l.W+l.F,d),o||r.setStrong(c,n,i),c;};},149:function _(e,t,n){var r=n(13);r(r.P+r.R,"Set",{toJSON:n(150)("Set")});},15:function _(e,t,n){var r=n(56)("wks"),i=n(43),o=n(18).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e));}).store=r;},150:function _(e,t,n){var r=n(76),i=n(151);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn\'t generic");return i(this);};};},151:function _(e,t,n){var r=n(38);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n;};},152:function _(e,t,n){n(153)("Set");},153:function _(e,t,n){"use strict";var r=n(13);e.exports=function(e){r(r.S,e,{of:function of(){for(var e=arguments.length,t=new Array(e);e--;){t[e]=arguments[e];}return new this(t);}});};},154:function _(e,t,n){n(155)("Set");},155:function _(e,t,n){"use strict";var r=n(13),a=n(52),c=n(23),u=n(38);e.exports=function(e){r(r.S,e,{from:function from(e){var t,n,r,i,o=arguments[1];return a(this),(t=void 0!==o)&&a(o),null==e?new this():(n=[],t?(r=0,i=c(o,arguments[2],2),u(e,!1,function(e){n.push(i(e,r++));})):u(e,!1,n.push,n),new this(n));}});};},156:function _(e,t,n){n(67),n(157),e.exports=n(14).Array.from;},157:function _(e,t,n){"use strict";var l=n(23),r=n(13),g=n(41),p=n(73),b=n(74),v=n(33),y=n(158),h=n(75);r(r.S+r.F*!n(159)(function(e){Array.from(e);}),"Array",{from:function from(e){var t,n,r,i,o=g(e),a="function"==typeof this?this:Array,c=arguments.length,u=1<c?arguments[1]:void 0,s=void 0!==u,d=0,f=h(o);if(s&&(u=l(u,2<c?arguments[2]:void 0,2)),null==f||a==Array&&b(f))for(n=new a(t=v(o.length));d<t;d++){y(n,d,s?u(o[d],d):o[d]);}else for(i=f.call(o),n=new a();!(r=i.next()).done;d++){y(n,d,s?p(i,u,[r.value,d],!0):r.value);}return n.length=d,n;}});},158:function _(e,t,n){"use strict";var r=n(19),i=n(39);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n;};},159:function _(e,t,n){var o=n(15)("iterator"),a=!1;try{var r=[7][o]();r["return"]=function(){a=!0;},Array.from(r,function(){throw 2;});}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0};},r[o]=function(){return i;},e(r);}catch(e){}return n;};},16:function _(e,t){e.exports=function(e){return"object"==_typeof(e)?null!==e:"function"==typeof e;};},17:function _(e,t,n){"use strict";n.d(t,"b",function(){return o;}),n.d(t,"a",function(){return a;}),t.c=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:15;0===e.getHooks({hook:t}).length&&e.before(t,n);};var r=n(89),i=n.n(r),o=i()({ready:i.a.SYNC|i.a.ASYNC|i.a.QUEUE}),a=o.get;},18:function _(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n);},19:function _(e,t,n){var r=n(25),i=n(83),o=n(84),a=Object.defineProperty;t.f=n(21)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n);}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e;};},2:function _(e,t,n){"use strict";n.d(t,"c",function(){return r;}),n.d(t,"d",function(){return i;}),n.d(t,"b",function(){return o;}),n.d(t,"a",function(){return a;});var r="native",i="video",o="banner",a="adpod";},20:function _(e,t,n){var r=n(19),i=n(39);e.exports=n(21)?function(e,t,n){return r.f(e,t,i(1,n));}:function(e,t,n){return e[t]=n,e;};},21:function _(e,t,n){e.exports=!n(30)(function(){return 7!=Object.defineProperty({},"a",{get:function get(){return 7;}}).a;});},22:function _(e,t,n){"use strict";t.a=function(e,t){return new r(e,t);};var i=n(0);function r(e,t){var n=t&&t.src||"client",r=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=function(){switch(r){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out";}}(),this.adId=i.getUniqueIdentifierStr(),this.requestId=t&&t.bidId,this.mediaType="banner",this.source=n,this.getStatusCode=function(){return r;},this.getSize=function(){return this.width+"x"+this.height;};}},23:function _(e,t,n){var o=n(52);e.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e);};case 2:return function(e,t){return r.call(i,e,t);};case 3:return function(e,t,n){return r.call(i,e,t,n);};}return function(){return r.apply(i,arguments);};};},24:function _(e,t,n){"use strict";n.d(t,"a",function(){return o;});var s=n(0),d=n(3),r=n(8),f=n.n(r);function l(e,t){return function(e){if(Array.isArray(e))return e;}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0){;}}catch(e){i=!0,o=e;}finally{try{r||null==c["return"]||c["return"]();}finally{if(i)throw o;}}return n;}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}();}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);}}return e;}).apply(this,arguments);}d.config.setDefaults({userSync:{syncEnabled:!0,pixelEnabled:!0,syncsPerBidder:5,syncDelay:3e3}});var i=!s.isSafariBrowser()&&s.cookiesAreEnabled(),o=function(e){var r={},i={image:[],iframe:[]},t=!1,o={},a={image:!1,iframe:!1},c=e.config;function n(){if(c.syncEnabled&&e.browserSupportsCookies&&(c.enableOverride||!t)){try{(c.pixelEnabled||a.image)&&s.shuffle(i.image).forEach(function(e){var t=l(e,2),n=t[0],r=t[1];s.logMessage("Invoking image pixel user sync for bidder: ".concat(n)),s.triggerPixel(r);}),(c.iframeEnabled||a.iframe)&&s.shuffle(i.iframe).forEach(function(e){var t=l(e,2),n=t[0],r=t[1];s.logMessage("Invoking iframe user sync for bidder: ".concat(n)),s.insertUserSyncIframe(r);});}catch(e){return s.logError("Error firing user syncs",e);}i={image:[],iframe:[]},t=!0;}}function u(e,t){var n=c.filterSettings;if(function(e,t){if(e.all&&e[t])return s.logWarn(\'Detected presence of the "filterSettings.all" and "filterSettings.\'.concat(t,\'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.\')),!1;var n=e.all?e.all:e[t],r=e.all?"all":t;if(!n)return!1;var i=n.filter,o=n.bidders;return i&&"include"!==i&&"exclude"!==i?(s.logWarn(\'UserSync "filterSettings.\'.concat(r,".filter\\" setting \'").concat(i,"\' is not a valid option; use either \'include\' or \'exclude\'.")),!1):!!("*"===o||Array.isArray(o)&&0<o.length&&o.every(function(e){return s.isStr(e)&&"*"!==e;}))||(s.logWarn(\'Detected an invalid setup in userSync "filterSettings.\'.concat(r,".bidders\\"; use either \'*\' (to represent all bidders) or an array of bidders.")),!1);}(n,e)){a[e]=!0;var r=n.all?n.all:n[e],i="*"===r.bidders?[t]:r.bidders;return{include:function include(e,t){return!f()(e,t);},exclude:function exclude(e,t){return f()(e,t);}}[r.filter||"include"](i,t);}return!1;}return d.config.getConfig("userSync",function(e){c=g(c,e.userSync);}),r.registerSync=function(e,t,n){return c.syncEnabled&&s.isArray(i[e])?t?0!==c.syncsPerBidder&&Number(o[t])>=c.syncsPerBidder?s.logWarn(\'Number of user syncs exceeded for "\'.concat(t,\'"\')):r.canBidderRegisterSync(e,t)?(i[e].push([t,n]),void(o=function(e,t){return e[t]?e[t]+=1:e[t]=1,e;}(o,t))):s.logWarn(\'Bidder "\'.concat(t,\'" not permitted to register their "\').concat(e,\'" userSync pixels.\')):s.logWarn("Bidder is required for registering sync"):s.logWarn(\'User sync type "\'.concat(e,\'" not supported\'));},r.syncUsers=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(n,Number(e));n();},r.triggerUserSyncs=function(){c.enableOverride&&r.syncUsers();},r.canBidderRegisterSync=function(e,t){if(c.filterSettings){if(u(e,t))return!1;}else{if(c.enabledBidders&&c.enabledBidders.length&&c.enabledBidders.indexOf(t)<0)return!1;if("iframe"===e&&!c.iframeEnabled&&!a.iframe)return!1;if("image"===e&&!c.pixelEnabled&&!a.image)return!1;}return!0;},r;}({config:d.config.getConfig("userSync"),browserSupportsCookies:i});},25:function _(e,t,n){var r=n(16);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e;};},26:function _(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t);};},27:function _(e,t,n){"use strict";n.d(t,"e",function(){return o;}),n.d(t,"a",function(){return s;}),t.g=function(e){if(e&&e.type&&function(e){return!(!e||!c()(Object.keys(d),e))||(Object(a.logError)("".concat(e," nativeParam is not supported")),!1);}(e.type))return d[e.type];return e;},t.f=function(t,e){var n=Object(a.getBidRequest)(t.requestId,e);if(!n)return!1;if(!Object(a.deepAccess)(t,"native.clickUrl"))return!1;if(Object(a.deepAccess)(t,"native.image")&&(!Object(a.deepAccess)(t,"native.image.height")||!Object(a.deepAccess)(t,"native.image.width")))return!1;if(Object(a.deepAccess)(t,"native.icon")&&(!Object(a.deepAccess)(t,"native.icon.height")||!Object(a.deepAccess)(t,"native.icon.width")))return!1;var r=n.nativeParams;if(!r)return!0;var i=Object.keys(r).filter(function(e){return r[e].required;}),o=Object.keys(t["native"]).filter(function(e){return t["native"][e];});return i.every(function(e){return c()(o,e);});},t.b=function(e,t){var n;"click"===e.action?n=t["native"]&&t["native"].clickTrackers:(n=t["native"]&&t["native"].impressionTrackers,t["native"]&&t["native"].javascriptTrackers&&Object(a.insertHtmlIntoIframe)(t["native"].javascriptTrackers));return(n||[]).forEach(a.triggerPixel),e.action;},t.d=function(r,i){var o={};return Object.keys(r["native"]).forEach(function(e){var t=u.NATIVE_KEYS[e],n=f(r["native"][e]);Object(a.deepAccess)(i,"mediaTypes.native.".concat(e,".sendId"))&&(n="".concat(t,":").concat(r.adId)),t&&n&&(o[t]=n);}),o;},t.c=function(e,r){var i={message:"assetResponse",adId:e.adId,assets:[]};return e.assets.forEach(function(e){var t=Object(a.getKeyByValue)(u.NATIVE_KEYS,e),n=f(r["native"][t]);i.assets.push({key:t,value:n});}),i;};var a=n(0),r=n(8),c=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e);}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e);})(e);}var u=n(4),o=[],s=Object.keys(u.NATIVE_KEYS).map(function(e){return u.NATIVE_KEYS[e];}),d={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};function f(e){return"object"===i(e)&&e.url?e.url:e;}},28:function _(e,t){e.exports={};},29:function _(qy,ry){var sy;sy=function(){return this;}();try{sy=sy||Function("return this")()||eval("this");}catch(e){"object"==(typeof window==="undefined"?"undefined":_typeof(window))&&(sy=window);}qy.exports=sy;},3:function _(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"RANDOM",function(){return a;}),t.newConfig=c,n.d(t,"config",function(){return u;});var s=n(51),r=n(10),d=n.n(r),i=n(8),o=n.n(i),f=n(17);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);}}return e;}).apply(this,arguments);}function g(e){return(g="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e);}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e);})(e);}var p=n(0),b=!1,v=3e3,y=window.location.origin,h=!0,m=!1,S=!1,A=400,a="random",E={};E[a]=!0,E.fixed=!0;var T=a,O={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},I="*";function c(){var a,c,r=[];function e(){a={};var n={_debug:b,get debug(){return this._debug;},set debug(e){this._debug=e;},_bidderTimeout:v,get bidderTimeout(){return this._bidderTimeout;},set bidderTimeout(e){this._bidderTimeout=e;},_publisherDomain:y,get publisherDomain(){return this._publisherDomain;},set publisherDomain(e){this._publisherDomain=e;},_priceGranularity:O.MEDIUM,set priceGranularity(e){o(e)&&("string"==typeof e?this._priceGranularity=i(e)?e:O.MEDIUM:"object"===g(e)&&(this._customPriceBucket=e,this._priceGranularity=O.CUSTOM,p.logMessage("Using custom price granularity")));},get priceGranularity(){return this._priceGranularity;},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket;},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity;},set mediaTypePriceGranularity(n){var r=this;this._mediaTypePriceGranularity=Object.keys(n).reduce(function(e,t){return o(n[t])?"string"==typeof n?e[t]=i(n[t])?n[t]:r._priceGranularity:"object"===g(n)&&(e[t]=n[t],p.logMessage("Using custom price granularity for ".concat(t))):p.logWarn("Invalid price granularity for media type: ".concat(t)),e;},{});},_sendAllBids:h,get enableSendAllBids(){return this._sendAllBids;},set enableSendAllBids(e){this._sendAllBids=e;},_useBidCache:S,get useBidCache(){return this._useBidCache;},set useBidCache(e){this._useBidCache=e;},_bidderSequence:T,get bidderSequence(){return this._bidderSequence;},set bidderSequence(e){E[e]?this._bidderSequence=e:p.logWarn("Invalid order: ".concat(e,". Bidder Sequence was not set."));},_timeoutBuffer:A,get timeoutBuffer(){return this._timeoutBuffer;},set timeoutBuffer(e){this._timeoutBuffer=e;},_disableAjaxTimeout:m,get disableAjaxTimeout(){return this._disableAjaxTimeout;},set disableAjaxTimeout(e){this._disableAjaxTimeout=e;}};function i(t){return d()(Object.keys(O),function(e){return t===O[e];});}function o(e){if(!e)return p.logError("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)i(e)||p.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if("object"===g(e)&&!Object(s.b)(e))return p.logError("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0;}c&&u(Object.keys(c).reduce(function(e,t){return c[t]!==n[t]&&(e[t]=n[t]||{}),e;},{})),c=n;}var t=Object(f.b)("async",function(n){if("object"===g(n)){var e=Object.keys(n),r={};e.forEach(function(e){var t=n[e];"object"===g(a[e])&&"object"===g(t)&&(t=l({},a[e],t)),r[e]=c[e]=t;}),u(r);}else p.logError("setConfig options must be an object");});function u(t){var n=Object.keys(t);r.filter(function(e){return o()(n,e.topic);}).forEach(function(e){e.callback(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;}({},e.topic,t[e.topic]));}),r.filter(function(e){return e.topic===I;}).forEach(function(e){return e.callback(t);});}return e(),{getConfig:function getConfig(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?p.deepAccess(c,e):c;}return function(e,t){var n=t;return"string"!=typeof e&&(n=e,e=I),"function"==typeof n?(r.push({topic:e,callback:n}),function(){r.splice(r.indexOf(t),1);}):void p.logError("listener must be a function");}.apply(void 0,arguments);},setConfig:t,setDefaults:function setDefaults(e){"object"===g(a)?(l(a,e),l(c,e)):p.logError("defaults must be an object");},resetConfig:e};}var u=c();},30:function _(e,t){e.exports=function(e){try{return!!e();}catch(e){return!0;}};},31:function _(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1);};},32:function _(e,t){e.exports=function(e){if(null==e)throw TypeError("Can\'t call method on  "+e);return e;};},33:function _(e,t,n){var r=n(42),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0;};},34:function _(e,t){e.exports=function(){};},35:function _(e,t,n){n(129),e.exports=n(14).Array.findIndex;},36:function _(e,t,n){"use strict";n.d(t,"b",function(){return N;}),n.d(t,"a",function(){return k;}),t.h=function(e){var t,a,u,s,c=e.adUnits,n=e.adUnitCodes,r=e.callback,i=e.cbTimeout,o=e.labels,d=e.auctionId,f=c,l=o,g=n,p=[],b=[],v=[],y=d||j.generateUUID(),h=r,m=i,S=[],A=new Set();function E(){return{auctionId:y,timestamp:t,auctionEnd:a,auctionStatus:u,adUnits:f,adUnitCodes:g,labels:l,bidderRequests:p,noBids:v,bidsReceived:b,winningBids:S,timeout:m};}function T(e,t){if(t&&clearTimeout(s),null!=h){var n=[];e&&(j.logMessage("Auction ".concat(y," timedOut")),(n=function(e,t){return e.map(function(e){return(e.bids||[]).filter(function(e){return!t.has(e.bidder);});}).reduce(w.flatten,[]).map(function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId};});}(p,A)).length&&U.emit(R.EVENTS.BID_TIMEOUT,n));try{u=k,a=Date.now(),U.emit(R.EVENTS.AUCTION_END,E());var r=g,i=b.filter(j.bind.call(w.adUnitsFilter,this,r)).reduce(L,{});h.apply(pbjs,[i,e]);}catch(e){j.logError("Error executing bidsBackHandler",null,e);}finally{n.length&&B.callTimedOutBidders(c,n,m);var o=_.config.getConfig("userSync")||{};o.enableOverride||C(o.syncDelay);}h=null;}}function O(){j.logInfo("Bids Received for Auction with id: ".concat(y),b),u=k,T(!1,!0);}function I(e){A.add(e);}return{addBidReceived:function addBidReceived(e){b=b.concat(e);},addNoBid:function addNoBid(e){v=v.concat(e);},executeCallback:T,callBids:function callBids(){var n=this;u=D,t=Date.now();var i=B.makeBidRequests(f,t,y,m,l);j.logInfo("Bids Requested for Auction with id: ".concat(y),i),i.forEach(function(e){var t;t=e,p=p.concat(t);});var o={};if(i.length<1)j.logWarn("No valid bid requests returned for auction"),O();else{var e={bidRequests:i,run:function run(){var e,t;e=T.bind(null,!0),t=setTimeout(e,m),s=t,u=N,U.emit(R.EVENTS.AUCTION_INIT,E());var r=W(O,n);B.callBids(f,i,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n];}G.apply({dispatch:r.addBidResponse,bidderRequest:this},t);},r.adapterDone,{request:function request(e,t){c(P,t),c(o,e),M[e]||(M[e]={SRA:!0,origin:t}),1<o[e]&&(M[e].SRA=!1);},done:function done(e){P[e]--,q[0]&&a(q[0])&&q.shift();}},m,I);}};a(e)||(j.logWarn("queueing auction due to limited endpoint capacity"),q.push(e));}function a(e){var r=!0,i=_.config.getConfig("maxRequestsPerOrigin")||x;return e.bidRequests.some(function(e){var t=1,n=void 0!==e.src&&e.src===R.S2S.SRC?"s2s":e.bidderCode;return M[n]&&(!1===M[n].SRA&&(t=Math.min(e.bids.length,i)),P[M[n].origin]+t>i&&(r=!1)),!r;}),r&&e.run(),r;}function c(e,t){void 0===e[t]?e[t]=1:e[t]++;}},addWinningBid:function addWinningBid(e){S=S.concat(e),B.callBidWonBidder(e.bidder,e,c);},setBidTargeting:function setBidTargeting(e){B.callSetTargetingBidder(e.bidder,e);},getWinningBids:function getWinningBids(){return S;},getTimeout:function getTimeout(){return m;},getAuctionId:function getAuctionId(){return y;},getAuctionStatus:function getAuctionStatus(){return u;},getAdUnits:function getAdUnits(){return f;},getAdUnitCodes:function getAdUnitCodes(){return g;},getBidRequests:function getBidRequests(){return p;},getBidsReceived:function getBidsReceived(){return b;},getNoBids:function getNoBids(){return v;}};},n.d(t,"c",function(){return G;}),t.f=d,t.d=v,n.d(t,"e",function(){return h;}),t.g=S;var w=n(0),s=n(11),f=n(51),a=n(27),o=n(63),l=n(12),_=n(3),r=n(24),i=n(17),c=n(10),g=n.n(c),u=n(46);function p(e){return(p="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e);}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e);})(e);}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);}}return e;}).apply(this,arguments);}var C=r.a.syncUsers,j=n(0),B=n(7)["default"],U=n(9),R=n(4),D="started",N="inProgress",k="completed";U.on(R.EVENTS.BID_ADJUSTMENT,function(e){!function(e){var t,n=e.bidderCode,r=e.cpm;if(pbjs.bidderSettings&&(n&&pbjs.bidderSettings[n]&&"function"==typeof pbjs.bidderSettings[n].bidCpmAdjustment?t=pbjs.bidderSettings[n].bidCpmAdjustment:pbjs.bidderSettings[R.JSON_MAPPING.BD_SETTING_STANDARD]&&"function"==typeof pbjs.bidderSettings[R.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment&&(t=pbjs.bidderSettings[R.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment),t))try{r=t(e.cpm,b({},e));}catch(e){j.logError("Error during bid adjustment","bidmanager.js",e);}0<=r&&(e.cpm=r);}(e);});var x=4,P={},M={},q=[];var G=Object(i.b)("async",function(e,t){this.dispatch.call(this.bidderRequest,e,t);},"addBidResponse");function W(t,o){var a=0,n=false,r=new Set(),c={};function u(){a--;if(n&&a===0){t();}}function e(e,t){var n=this;c[t.requestId]=true,a++;var r=o.getAuctionId(),i=m({adUnitCode:e,bid:t,bidderRequest:n,auctionId:r});if(i.mediaType==="video"){y(o,i,n,u);}else{v(o,i);u();}}function i(){var e=this;if(r.add(this),n=o.getBidRequests().every(function(e){return r.has(e);}),this.bids.forEach(function(e){c[e.bidId]||(o.addNoBid(e),U.emit(R.EVENTS.NO_BID,e));}),n&&0===a){t();}}return{addBidResponse:e,adapterDone:i};}function d(e,t){t.timeToRespond>e.getTimeout()+_.config.getConfig("timeoutBuffer")&&e.executeCallback(!0);}function v(e,t){var n=e.getBidRequests(),r=g()(n,function(e){return e.bidderCode===t.bidderCode;});!function(t,e){var n;if(t.bidderCode&&(0<t.cpm||t.dealId)){var r=g()(e.bids,function(e){return e.adUnitCode===t.adUnitCode;});n=function(e,t,n){if(!t)return{};var r={},i=pbjs.bidderSettings;if(i){var o=S(t.mediaType,e);A(r,o,t),e&&i[e]&&i[e][R.JSON_MAPPING.ADSERVER_TARGETING]&&(A(r,i[e],t),t.sendStandardTargeting=i[e].sendStandardTargeting);}t["native"]&&(r=b({},r,Object(a.d)(t,n)));return r;}(t.bidderCode,t,r);}t.adserverTargeting=b(t.adserverTargeting||{},n);}(t,r),U.emit(R.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),d(e,t);}function y(e,t,n,r){var i=true,o=Object(w["getBidRequest"])(t.requestId,[n]),a=o&&Object(w["deepAccess"])(o,"mediaTypes.video"),c=a&&Object(w["deepAccess"])(a,"context");if(_["config"].getConfig("cache.url")&&c!==u["a"]){if(!t.videoCacheKey){i=false;h(e,t,r,o);}else if(!t.vastUrl){j.logError("videoCacheKey specified but not required vastUrl for video bid");i=false;}}if(i){v(e,t);r();}}var h=Object(i.b)("async",function(n,r,i,e){Object(o.b)([r],function(e,t){e?(j.logWarn("Failed to save to the video cache: ".concat(e,". Video bid must be discarded.")),d(n,r)):""===t[0].uuid?(j.logWarn("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),d(n,r)):(r.videoCacheKey=t[0].uuid,r.vastUrl||(r.vastUrl=Object(o.a)(r.videoCacheKey)),v(n,r),i());});},"callPrebidCache");function m(e){var t=e.adUnitCode,n=e.bid,r=e.bidderRequest,i=e.auctionId,o=r.start,a=b({},n,{auctionId:i,responseTimestamp:Object(w["timestamp"])(),requestTimestamp:o,cpm:parseFloat(n.cpm)||0,bidder:n.bidderCode,adUnitCode:t});a.timeToRespond=a.responseTimestamp-a.requestTimestamp,U.emit(R.EVENTS.BID_ADJUSTMENT,a);var c=r.bids&&g()(r.bids,function(e){return e.adUnitCode==t;}),u=c&&c.renderer;if(u&&u.url){a.renderer=l["a"].install({url:u.url});a.renderer.setRender(u.render);}var s=_["config"].getConfig("mediaTypePriceGranularity.".concat(n.mediaType)),d=Object(f["a"])(a.cpm,p(s)==="object"?s:_["config"].getConfig("customPriceBucket"),_["config"].getConfig("currency.granularityMultiplier"));return a.pbLg=d.low,a.pbMg=d.med,a.pbHg=d.high,a.pbAg=d.auto,a.pbDg=d.dense,a.pbCg=d.custom,a;}function S(e,t){function n(e,t){return{key:e,val:"function"==typeof t?function(e){return t(e);}:function(e){return Object(w.getValue)(e,t);}};}var r=R.TARGETING_KEYS,i=_.config.getConfig("mediaTypePriceGranularity.".concat(e)),o="string"==typeof e&&i?"string"==typeof i?i:"custom":_.config.getConfig("priceGranularity"),a=pbjs.bidderSettings;if(a[R.JSON_MAPPING.BD_SETTING_STANDARD]||(a[R.JSON_MAPPING.BD_SETTING_STANDARD]={}),a[R.JSON_MAPPING.BD_SETTING_STANDARD][R.JSON_MAPPING.ADSERVER_TARGETING]||(a[R.JSON_MAPPING.BD_SETTING_STANDARD][R.JSON_MAPPING.ADSERVER_TARGETING]=[n(r.BIDDER,"bidderCode"),n(r.AD_ID,"adId"),n(r.PRICE_BUCKET,function(e){return o===R.GRANULARITY_OPTIONS.AUTO?e.pbAg:o===R.GRANULARITY_OPTIONS.DENSE?e.pbDg:o===R.GRANULARITY_OPTIONS.LOW?e.pbLg:o===R.GRANULARITY_OPTIONS.MEDIUM?e.pbMg:o===R.GRANULARITY_OPTIONS.HIGH?e.pbHg:o===R.GRANULARITY_OPTIONS.CUSTOM?e.pbCg:void 0;}),n(r.SIZE,"size"),n(r.DEAL,"dealId"),n(r.SOURCE,"source"),n(r.FORMAT,"mediaType")]),"video"===e){var c=a[R.JSON_MAPPING.BD_SETTING_STANDARD][R.JSON_MAPPING.ADSERVER_TARGETING];if([r.UUID,r.CACHE_ID].forEach(function(t){void 0===g()(c,function(e){return e.key===t;})&&c.push(n(t,"videoCacheKey"));}),_.config.getConfig("cache.url")&&(!t||!1!==j.deepAccess(a,"".concat(t,".sendStandardTargeting")))){var u=Object(s.c)(_.config.getConfig("cache.url"));void 0===g()(c,function(e){return e.key===r.CACHE_HOST;})&&c.push(n(r.CACHE_HOST,function(e){return j.deepAccess(e,"adserverTargeting.".concat(r.CACHE_HOST))?e.adserverTargeting[r.CACHE_HOST]:u.hostname;}));}}return a[R.JSON_MAPPING.BD_SETTING_STANDARD];}function A(r,i,o){var e=i[R.JSON_MAPPING.ADSERVER_TARGETING];return o.size=o.getSize(),j._each(e,function(e){var t=e.key,n=e.val;if(r[t]&&j.logWarn("The key: "+t+" is getting ovewritten"),j.isFn(n))try{n=n(o);}catch(e){j.logError("bidmanager","ERROR",e);}(void 0===i.suppressEmptyKeys||!0!==i.suppressEmptyKeys)&&t!==R.TARGETING_KEYS.DEAL||!j.isEmptyStr(n)&&null!=n?r[t]=n:j.logInfo("suppressing empty key \'"+t+"\' from adserver targeting");}),r;}function L(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e;}},37:function _(e,t,n){"use strict";n.d(t,"a",function(){return d;});var r=n(0),u=n(36),i=n(10),o=n.n(i),a=n(4);var s,c,d=(s=[],(c={}).addWinningBid=function(t){var e=o()(s,function(e){return e.getAuctionId()===t.auctionId;});e?e.addWinningBid(t):utils.logWarn("Auction not found when adding winning bid");},c.getAllWinningBids=function(){return s.map(function(e){return e.getWinningBids();}).reduce(r.flatten,[]);},c.getBidsRequested=function(){return s.map(function(e){return e.getBidRequests();}).reduce(r.flatten,[]);},c.getNoBids=function(){return s.map(function(e){return e.getNoBids();}).reduce(r.flatten,[]);},c.getBidsReceived=function(){return s.map(function(e){if(e.getAuctionStatus()===u.a)return e.getBidsReceived();}).reduce(r.flatten,[]).filter(function(e){return e;});},c.getAdUnits=function(){return s.map(function(e){return e.getAdUnits();}).reduce(r.flatten,[]);},c.getAdUnitCodes=function(){return s.map(function(e){return e.getAdUnitCodes();}).reduce(r.flatten,[]).filter(r.uniques);},c.createAuction=function(e){var t=e.adUnits,n=e.adUnitCodes,r=e.callback,i=e.cbTimeout,o=e.labels,a=e.auctionId,c=Object(u.h)({adUnits:t,adUnitCodes:n,callback:r,cbTimeout:i,labels:o,auctionId:a});return function(e){s.push(e);}(c),c;},c.findBidByAdId=function(t){return o()(s.map(function(e){return e.getBidsReceived();}).reduce(r.flatten,[]),function(e){return e.adId===t;});},c.getStandardBidderAdServerTargeting=function(){return Object(u.g)()[a.JSON_MAPPING.ADSERVER_TARGETING];},c.setStatusForBids=function(e,t){var n=c.findBidByAdId(e);if(n&&(n.status=t),n&&t===a.BID_STATUS.BID_TARGETING_SET){var r=o()(s,function(e){return e.getAuctionId()===n.auctionId;});r&&r.setBidTargeting(n);}},c.getLastAuctionId=function(){return s.length&&s[s.length-1].getAuctionId();},c);},38:function _(e,t,n){var l=n(23),g=n(73),p=n(74),b=n(25),v=n(33),y=n(75),h={},m={};(t=e.exports=function(e,t,n,r,i){var o,a,c,u,s=i?function(){return e;}:y(e),d=l(n,r,t?2:1),f=0;if("function"!=typeof s)throw TypeError(e+" is not iterable!");if(p(s)){for(o=v(e.length);f<o;f++){if((u=t?d(b(a=e[f])[0],a[1]):d(e[f]))===h||u===m)return u;}}else for(c=s.call(e);!(a=c.next()).done;){if((u=g(c,d,a.value,t))===h||u===m)return u;}}).BREAK=h,t.RETURN=m;},39:function _(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t};};},4:function _(e,t){e.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:1,NO_BID:2},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",BID_WON:"bidWon",REQUEST_BIDS:"requestBids"}},EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",NO_BID:"noBid",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",SET_TARGETING:"setTargeting",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed"},AD_RENDER_FAILED_REASON:{PREVENT_WRITING_ON_MAIN_DOCUMENT:"preventWritingOnMainDocuemnt",NO_AD:"noAd",EXCEPTION:"exception",CANNOT_FIND_AD:"cannotFindAd",MISSING_DOC_OR_ADID:"missingDocOrAdid"},EVENT_ID_PATHS:{bidWon:"adUnitCode"},GRANULARITY_OPTIONS:{LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},TARGETING_KEYS:{BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",SOURCE:"hb_source",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_ID:"hb_cache_id",CACHE_HOST:"hb_cache_host"},NATIVE_KEYS:{title:"hb_native_title",body:"hb_native_body",body2:"hb_native_body2",privacyLink:"hb_native_privacy",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",displayUrl:"hb_native_displayurl",cta:"hb_native_cta",rating:"hb_native_rating",address:"hb_native_address",downloads:"hb_native_downloads",likes:"hb_native_likes",phone:"hb_native_phone",price:"hb_native_price",salePrice:"hb_native_saleprice"},S2S:{SRC:"s2s",DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",SYNCED_BIDDERS_KEY:"pbjsSyncs"},BID_STATUS:{BID_TARGETING_SET:"targetingSet",RENDERED:"rendered"}};},40:function _(e,t,n){var m=n(23),S=n(54),A=n(41),E=n(33),r=n(85);e.exports=function(f,e){var l=1==f,g=2==f,p=3==f,b=4==f,v=6==f,y=5==f||v,h=e||r;return function(e,t,n){for(var r,i,o=A(e),a=S(o),c=m(t,n,3),u=E(a.length),s=0,d=l?h(e,u):g?h(e,0):void 0;s<u;s++){if((y||s in a)&&(i=c(r=a[s],s,o),f))if(l)d[s]=i;else if(i)switch(f){case 3:return!0;case 5:return r;case 6:return s;case 2:d.push(r);}else if(b)return!1;}return v?-1:p||b?b:d;};};},41:function _(e,t,n){var r=n(32);e.exports=function(e){return Object(r(e));};},42:function _(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e);};},43:function _(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36));};},44:function _(e,t,n){var r=n(54),i=n(32);e.exports=function(e){return r(i(e));};},45:function _(e,t,n){"use strict";t.a=function(e){var t=e;return{callBids:function callBids(){},setBidderCode:function setBidderCode(e){t=e;},getBidderCode:function getBidderCode(){return t;}};};},46:function _(e,t,n){"use strict";n.d(t,"a",function(){return c;}),t.c=function(e,t){var n=Object(o.getBidRequest)(e.requestId,t),r=n&&Object(o.deepAccess)(n,"mediaTypes.video"),i=r&&Object(o.deepAccess)(r,"context");return u(e,n,r,i);},n.d(t,"b",function(){return u;});n(7);var o=n(0),i=n(3),r=n(8),a=(n.n(r),n(17)),c="outstream";var u=Object(a.b)("sync",function(e,t,n,r){return!t||n&&r!==c?i.config.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):(Object(o.logError)(\'\\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\\n      \'),!1):r!==c||!(!e.renderer&&!t.renderer);},"checkVideoBidSetup");},47:function _(e,t,n){"use strict";t.a=function(e,t){if(!t||!e)return void o.logError("cannot load external script without url and moduleCode");if(!i()(c,t))return void o.logError("".concat(t," not whitelisted for loading external JavaScript"));if(a[e])return;o.logWarn("module ".concat(t," is loading external JavaScript"));var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,o.insertElement(n),a[e]=!0;},t.b=function(t,e,n){if(!t)return void o.logError("Error attempting to request empty URL","adloader.js:loadScript");n?a[t]?e&&"function"==typeof e&&(a[t].loaded?e():a[t].callbacks.push(e)):(a[t]={loaded:!1,callbacks:[]},e&&"function"==typeof e&&a[t].callbacks.push(e),u(t,function(){a[t].loaded=!0;try{for(var e=0;e<a[t].callbacks.length;e++){a[t].callbacks[e]();}}catch(e){o.logError("Error executing callback","adloader.js:loadScript",e);}})):u(t,e);};var r=n(8),i=n.n(r),o=n(0),a={},c=["criteo"];function u(e,t){var n=document.createElement("script");n.type="text/javascript",n.async=!0,t&&"function"==typeof t&&(n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t());}:n.onload=function(){t();}),n.src=e;var r=document.getElementsByTagName("head");(r=r.length?r:document.getElementsByTagName("body")).length&&(r=r[0]).insertBefore(n,r.firstChild);}},48:function _(e,t,n){"use strict";var m=n(57),S=n(13),A=n(136),E=n(20),T=n(28),O=n(137),I=n(50),w=n(142),_=n(15)("iterator"),C=!([].keys&&"next"in[].keys()),j="values",B=function B(){return this;};e.exports=function(e,t,n,r,i,o,a){O(n,t,r);var c,u,s,d=function d(e){if(!C&&e in p)return p[e];switch(e){case"keys":case j:return function(){return new n(this,e);};}return function(){return new n(this,e);};},f=t+" Iterator",l=i==j,g=!1,p=e.prototype,b=p[_]||p["@@iterator"]||i&&p[i],v=b||d(i),y=i?l?d("entries"):v:void 0,h="Array"==t&&p.entries||b;if(h&&(s=w(h.call(new e())))!==Object.prototype&&s.next&&(I(s,f,!0),m||"function"==typeof s[_]||E(s,_,B)),l&&b&&b.name!==j&&(g=!0,v=function v(){return b.call(this);}),m&&!a||!C&&!g&&p[_]||E(p,_,v),T[t]=v,T[f]=B,i)if(c={values:l?v:d(j),keys:o?v:d("keys"),entries:y},a)for(u in c){u in p||A(p,u,c[u]);}else S(S.P+S.F*(C||g),t,c);return c;};},49:function _(e,t,n){var r=n(56)("keys"),i=n(43);e.exports=function(e){return r[e]||(r[e]=i(e));};},5:function _(e,t,n){"use strict";n.d(t,"a",function(){return r;}),t.b=i;var l=n(11),g=n(3);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);}}return e;}).apply(this,arguments);}function b(e){return(b="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e);}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e);})(e);}var v=n(0),y=4,r=i();function i(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3e3,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=e.request,f=e.done;return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};try{var i,o=r.method||(n?"POST":"GET"),a=document.createElement("a");a.href=e;var c="object"===b(t)&&null!==t?t:{success:function success(){v.logMessage("xhr success");},error:function error(e){v.logError("xhr error",null,e);}};if("function"==typeof t&&(c.success=t),(i=new window.XMLHttpRequest()).onreadystatechange=function(){if(i.readyState===y){"function"==typeof f&&f(a.origin);var e=i.status;200<=e&&e<300||304===e?c.success(i.responseText,i):c.error(i.statusText,i);}},g.config.getConfig("disableAjaxTimeout")||(i.ontimeout=function(){v.logError("  xhr timeout after ",i.timeout,"ms");}),"GET"===o&&n){var u=Object(l.c)(e,r);p(u.search,n),e=Object(l.a)(u);}i.open(o,e,!0),g.config.getConfig("disableAjaxTimeout")||(i.timeout=s),r.withCredentials&&(i.withCredentials=!0),v._each(r.customHeaders,function(e,t){i.setRequestHeader(t,e);}),r.preflight&&i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type",r.contentType||"text/plain"),"function"==typeof d&&d(a.origin),"POST"===o&&n?i.send(n):i.send();}catch(e){v.logError("xhr construction",e);}};}},50:function _(e,t,n){var r=n(19).f,i=n(26),o=n(15)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t});};},51:function _(e,t,n){"use strict";n.d(t,"a",function(){return l;}),n.d(t,"b",function(){return p;});var r=n(10),a=n.n(r),i=n(0),s=2,o={buckets:[{min:0,max:5,increment:.5}]},c={buckets:[{min:0,max:20,increment:.1}]},u={buckets:[{min:0,max:20,increment:.01}]},d={buckets:[{min:0,max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}]},f={buckets:[{min:0,max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}]};function l(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(e);return isNaN(r)&&(r=""),{low:""===r?"":g(e,o,n),med:""===r?"":g(e,c,n),high:""===r?"":g(e,u,n),auto:""===r?"":g(e,f,n),dense:""===r?"":g(e,d,n),custom:""===r?"":g(e,t,n)};}function g(n,e,r){var i="";if(!p(e))return i;var o=e.buckets.reduce(function(e,t){return e.max>t.max?e:t;},{max:0}),t=a()(e.buckets,function(e){if(n>o.max*r){var t=e.precision;void 0===t&&(t=s),i=(e.max*r).toFixed(t);}else if(n<=e.max*r&&n>=e.min*r)return e;});return t&&(i=function(e,t,n){var r=void 0!==t.precision?t.precision:s,i=t.increment*n,o=t.min*n,a=Math.pow(10,r+2),c=(e*a-o*a)/(i*a),u=Math.floor(c)*i+o;return(u=Number(u.toFixed(10))).toFixed(r);}(n,t,r)),i;}function p(e){if(i.isEmpty(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach(function(e){void 0!==e.min&&e.max&&e.increment||(t=!1);}),t;}},52:function _(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e;};},53:function _(e,t,n){var r=n(16),i=n(18).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{};};},54:function _(e,t,n){var r=n(31);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e);};},55:function _(e,t,n){var r=n(31);e.exports=Array.isArray||function(e){return"Array"==r(e);};},56:function _(e,t,n){var r=n(14),i=n(18),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{});})("versions",[]).push({version:r.version,mode:n(57)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"});},57:function _(e,t){e.exports=!0;},58:function _(e,t,n){var u=n(44),s=n(33),d=n(88);e.exports=function(c){return function(e,t,n){var r,i=u(e),o=s(i.length),a=d(n,o);if(c&&t!=t){for(;a<o;){if((r=i[a++])!=r)return!0;}}else for(;a<o;a++){if((c||a in i)&&i[a]===t)return c||a||0;}return!c&&-1;};};},582:function _(e,t,n){e.exports=n(64);},59:function _(e,t,n){"use strict";t.a=function(e,t){if(e.labelAll)return{labelAll:!0,labels:e.labelAll,activeLabels:t};return{labelAll:!1,labels:e.labelAny,activeLabels:t};},t.c=function(e){var t=v(1<arguments.length&&void 0!==arguments[1]?arguments[1]:b);return!t.shouldFilter||!!t.sizesSupported[e];},t.b=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,n=void 0===t?[]:t,r=e.labelAll,i=void 0!==r&&r,o=e.activeLabels,a=void 0===o?[]:o,c=1<arguments.length?arguments[1]:void 0,u=2<arguments.length?arguments[2]:void 0,s=v(3<arguments.length&&void 0!==arguments[3]?arguments[3]:b);c=Object(g.isPlainObject)(c)?Object(g.deepClone)(c):u?{banner:{sizes:u}}:{};var d=Object(g.deepAccess)(c,"banner.sizes");s.shouldFilter&&d&&(c.banner.sizes=d.filter(function(e){return s.sizesSupported[e];}));var f=Object.keys(c),l={active:1<f.length||1===f.length&&"banner"!==f[0]||"banner"===f[0]&&0<Object(g.deepAccess)(c,"banner.sizes.length")&&(0===n.length||!i&&(n.some(function(e){return s.labels[e];})||n.some(function(e){return p()(a,e);}))||i&&n.reduce(function(e,t){return e?s.labels[t]||p()(a,t):e;},!0)),mediaTypes:c};d&&d.length!==c.banner.sizes.length&&(l.filterResults={before:d,after:c.banner.sizes});return l;};var r=n(3),g=n(0),i=n(8),p=n.n(i);function o(e){return(o="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e);}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e);})(e);}var b=[];function v(e){return e.reduce(function(n,r){if("object"===o(r)&&"string"==typeof r.mediaQuery){var t=!1;try{t=Object(g.getWindowTop)().matchMedia(r.mediaQuery).matches;}catch(e){Object(g.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),t=matchMedia(r.mediaQuery).matches;}t&&(Array.isArray(r.sizesSupported)&&(n.shouldFilter=!0),["labels","sizesSupported"].forEach(function(t){return(r[t]||[]).forEach(function(e){return n[t][e]=!0;});}));}else Object(g.logWarn)(\'sizeConfig rule missing required property "mediaQuery"\');return n;},{labels:{},sizesSupported:{},shouldFilter:!1});}r.config.getConfig("sizeConfig",function(e){return function(e){b=e;}(e.sizeConfig);});},60:function _(e,t,n){"use strict";n.d(t,"a",function(){return o;});var r=n(0),i={};var o={incrementCounter:function incrementCounter(e){return i[e]=i[e]||{},i[e].counter=Object(r.deepAccess)(i,"".concat(e,".counter"))+1||1,i[e].counter;},getCounter:function getCounter(e){return Object(r.deepAccess)(i,"".concat(e,".counter"))||0;}};},61:function _(e,t,n){"use strict";t.a=r,n.d(t,"b",function(){return i;});var c=n(0);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);}}return e;}).apply(this,arguments);}function r(i){function o(){var e=function(){var t,n=[];do{try{t=t?t.parent:i;try{var e=t==i.top,r={referrer:t.document.referrer||null,location:t.location.href||null,isTop:e};e&&(r=u(r,{canonicalUrl:a(t.document)})),n.push(r);}catch(e){n.push({referrer:null,location:null,isTop:t==i.top}),Object(c.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");}}catch(e){return n.push({referrer:null,location:null,isTop:!1}),n;}}while(t!=i.top);return n;}(),t=function(){try{if(!i.location.ancestorOrigins)return;return i.location.ancestorOrigins;}catch(e){}}();if(t)for(var n=0,r=t.length;n<r;n++){e[n].ancestor=t[n];}return e;}function a(e){try{var t=e.querySelector("link[rel=\'canonical\']");if(null!==t)return t.href;}catch(e){}return null;}return function(){try{var e,t=o(),n=t.length-1,r=null!==t[n].location||0<n&&null!==t[n-1].referrer,i=function(e){var t,n=[],r=null,i=null,o=null,a=null,c=null;for(t=e.length-1;0<=t;t--){try{r=e[t].location;}catch(e){}if(r)n.push(r),c||(c=r);else if(0!==t){i=e[t-1];try{o=i.referrer,a=i.ancestor;}catch(e){}o?(n.push(o),c||(c=o)):a?(n.push(a),c||(c=a)):n.push(null);}else n.push(null);}return{stack:n,detectedRefererUrl:c};}(t);return t[t.length-1].canonicalUrl&&(e=t[t.length-1].canonicalUrl),{referer:i.detectedRefererUrl,reachedTop:r,numIframes:n,stack:i.stack,canonicalUrl:e};}catch(e){}};}var i=r(window);},62:function _(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"TARGETING_KEY_PB_CAT_DUR",function(){return y;}),n.d(t,"TARGETING_KEY_CACHE_ID",function(){return h;}),t.callPrebidCacheHook=T,t.checkAdUnitSetupHook=O,t.checkVideoBidSetupHook=I,t.adpodSetConfig=w,t.initAdpodHooks=function(){Object(o.c)(d.e,T),Object(o.c)(r.checkAdUnitSetup,O),Object(o.c)(i.b,I);},t.callPrebidCacheAfterAuction=function(i,o){Object(f.b)(i,function(e,t){if(e)o(e,null);else{for(var n=[],r=0;r<t.length;r++){""!==t[r]&&n.push(i[r]);}o(null,n);}});},t.sortByPricePerSecond=function(e,t){if(e.cpm/e.video.durationBucket<t.cpm/t.video.durationBucket)return 1;if(e.cpm/e.video.durationBucket>t.cpm/t.video.durationBucket)return-1;return 0;};var s=n(0),d=n(36),r=n(64),i=n(46),o=n(17),f=n(63),c=n(3),u=n(2),a=n(133),l=n.n(a),g=n(10),p=n.n(g);function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++){n[t]=e[t];}return n;}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e);}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance");}();}var v=n(156),y="hb_pb_cat_dur",h="hb_cache_id",m=50,S=5,A=function(){var t={};function n(e){t[e]={},t[e].bidStorage=new l.a(),t[e].queueDispatcher=function(a){var c,u=1;return function(e,t,n,r){var i=this,o=function o(){(function(i,o,a){(function(e){for(var t=0;t<e.length;t++){A.removeBid(e[t]);}})(o),Object(f.b)(o,function(e,t){if(e){s.logWarn("Failed to save to the video cache: ".concat(e,". Video bid(s) must be discarded."));for(var n=0;n<o.length;n++){Object(d.f)(i,o[n]);}}else for(var r=0;r<t.length;r++){""!==t[r].uuid?Object(d.d)(i,o[r]):s.logInfo("Detected a bid was not cached because the custom key was already registered.  Attempted to use key: ".concat(o[r].customCacheKey,". Bid was: "),o[r]),a();}});}).call(i,e,t,n);};clearTimeout(c),r?u=1:u===S?(u=1,o()):(u++,c=setTimeout(o,a));};}(m),t[e].initialCacheKey=s.generateUUID();}return{addBid:function addBid(e){t[e.auctionId]||n(e.auctionId),t[e.auctionId].bidStorage.add(e);},removeBid:function removeBid(e){t[e.auctionId].bidStorage["delete"](e);},getBids:function getBids(e){return t[e.auctionId]&&t[e.auctionId].bidStorage.values();},getQueueDispatcher:function getQueueDispatcher(e){return t[e.auctionId]&&t[e.auctionId].queueDispatcher;},setupInitialCacheKey:function setupInitialCacheKey(e){t[e.auctionId]||(t[e.auctionId]={},t[e.auctionId].initialCacheKey=s.generateUUID());},getInitialCacheKey:function getInitialCacheKey(e){return t[e.auctionId]&&t[e.auctionId].initialCacheKey;}};}();function E(e,t){var n,r=A.getInitialCacheKey(e),i=s.deepAccess(e,"video.durationBucket"),o=e.cpm.toFixed(2);if(t){var a=s.deepAccess(e,"meta.adServerCatId");n="".concat(o,"_").concat(a,"_").concat(i,"s");}else n="".concat(o,"_").concat(i,"s");e.adserverTargeting||(e.adserverTargeting={}),e.adserverTargeting[y]=n,e.adserverTargeting[h]=r,e.videoCacheKey=r,e.customCacheKey="".concat(n,"_").concat(r);}function T(e,t,n,r,i){var o=s.deepAccess(i,"mediaTypes.video");if(o&&o.context===u.a){var a=c.config.getConfig("adpod.brandCategoryExclusion");!s.deepAccess(n,"meta.adServerCatId")&&a&&(s.logWarn("Detected a bid without meta.adServerCatId while setConfig({adpod.brandCategoryExclusion}) was enabled.  This bid has been rejected:",n),r()),!1===c.config.getConfig("adpod.deferCaching")?(A.addBid(n),E(n,a),function(e,t,n){var r=A.getBids(t);if(r){var i=v(r),o=A.getQueueDispatcher(t),a=!(e.getAuctionStatus()===d.b);o(e,i,n,a);}else s.logWarn("Attempted to cache a bid from an unknown auction. Bid:",t);}(t,n,r)):(A.setupInitialCacheKey(n),E(n,a),Object(d.d)(t,n),r());}else e.call(this,t,n,r,i);}function O(e,t){t=t.filter(function(e){var t=s.deepAccess(e,"mediaTypes"),n=s.deepAccess(t,"video");if(n&&n.context===u.a){if(1<Object.keys(t).length)return s.logWarn("Detected more than one mediaType in adUnitCode: ".concat(e.code," while attempting to define an \'adpod\' video adUnit.  \'adpod\' adUnits cannot be mixed with other mediaTypes.  This adUnit will be removed from the auction.")),!1;var r="Detected missing or incorrectly setup fields for an adpod adUnit.  Please review the following fields of adUnitCode: ".concat(e.code,".  This adUnit will be removed from the auction."),i=!(!n.playerSize||!s.isArrayOfNums(n.playerSize)),o=!!(n.adPodDurationSec&&s.isNumber(n.adPodDurationSec)&&0<n.adPodDurationSec),a=!!(n.durationRangeSec&&s.isArrayOfNums(n.durationRangeSec)&&n.durationRangeSec.every(function(e){return 0<e;}));if(!i||!o||!a)return r+=i?"":"\\nmediaTypes.video.playerSize",r+=o?"":"\\nmediaTypes.video.adPodDurationSec",r+=a?"":"\\nmediaTypes.video.durationRangeSec",s.logWarn(r),!1;}return!0;}),e.call(this,t);}function I(e,t,n,r,i){if(i===u.a){var o=!0;if(c.config.getConfig("adpod.brandCategoryExclusion")&&!s.deepAccess(t,"meta.iabSubCatId")&&(o=!1),s.deepAccess(t,"video"))if(s.deepAccess(t,"video.context")&&t.video.context===u.a||(o=!1),!s.deepAccess(t,"video.durationSeconds")||t.video.durationSeconds<=0)o=!1;else(function(e,t){var n=s.deepAccess(t,"video.durationSeconds"),r=s.deepAccess(e,"mediaTypes.video"),i=r.durationRangeSec;if(i.sort(function(e,t){return e-t;}),r.requireExactDuration){if(!p()(i,function(e){return e===n;}))return s.logWarn("Detected a bid with a duration value not part of the list of accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Exact match durations must be used for this adUnit. Rejecting bid: ",t),!1;t.video.durationBucket=n;}else{var o=Math.max.apply(Math,b(i));if(!(n<=o+2))return s.logWarn("Detected a bid with a duration value outside the accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Rejecting bid: ",t),!1;var a=p()(i,function(e){return n<=e+2;});t.video.durationBucket=a;}return!0;})(n,t)||(o=!1);c.config.getConfig("cache.url")||!t.vastXml||t.vastUrl||(s.logError(\'\\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\\n      \'),o=!1),e.bail(o);}else e.call(this,t,n,r,i);}function w(e){void 0!==e.bidQueueTimeDelay&&("number"==typeof e.bidQueueTimeDelay&&0<e.bidQueueTimeDelay?m=e.bidQueueTimeDelay:s.logWarn("Detected invalid value for adpod.bidQueueTimeDelay in setConfig; must be a positive number.  Using default: ".concat(m))),void 0!==e.bidQueueSizeLimit&&("number"==typeof e.bidQueueSizeLimit&&0<e.bidQueueSizeLimit?S=e.bidQueueSizeLimit:s.logWarn("Detected invalid value for adpod.bidQueueSizeLimit in setConfig; must be a positive number.  Using default: ".concat(S)));}c.config.getConfig("adpod",function(e){return w(e.adpod);});},63:function _(e,t,n){"use strict";t.b=function(e,t){var n={puts:e.map(o)};Object(r.a)(i.config.getConfig("cache.url"),function(n){return{success:function success(e){var t;try{t=JSON.parse(e).responses;}catch(e){return void n(e,[]);}t?n(null,t):n(new Error("The cache server didn\'t respond with a responses property."),[]);},error:function error(e,t){n(new Error("Error storing video ad in the cache: ".concat(e,": ").concat(JSON.stringify(t))),[]);}};}(t),JSON.stringify(n),{contentType:"text/plain",withCredentials:!0});},t.a=function(e){return"".concat(i.config.getConfig("cache.url"),"?uuid=").concat(e);};var r=n(5),i=n(3);function o(e){var t={type:"xml",value:e.vastXml?e.vastXml:function(e,t){var n=t?"<![CDATA[".concat(t,"]]>"):"";return\'<VAST version="3.0">\\n    <Ad>\\n      <Wrapper>\\n        <AdSystem>prebid.org wrapper</AdSystem>\\n        <VASTAdTagURI><![CDATA[\'.concat(e,"]]></VASTAdTagURI>\\n        <Impression>").concat(n,"</Impression>\\n        <Creatives></Creatives>\\n      </Wrapper>\\n    </Ad>\\n  </VAST>");}(e.vastUrl,e.vastImpUrl),ttlseconds:Number(e.ttl)};return"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(t.key=e.customCacheKey),t;}},64:function _(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"checkAdUnitSetup",function(){return G;});var r=n(65),c=n(0),i=n(131),o=n(24),a=n(47),d=n(3),v=n(37),f=n(66),u=n(17),s=n(132),l=n(8),g=n.n(l),p=n(60),y=n(12),b=n(22);function h(e){return(h="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e);}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e);})(e);}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);}}return e;}).apply(this,arguments);}var S=Object(r.a)(),A=n(4),E=n(0),T=n(7)["default"],O=n(9),I=o.a.triggerUserSyncs,w=A.EVENTS,_=w.ADD_AD_UNITS,C=w.BID_WON,j=w.REQUEST_BIDS,B=w.SET_TARGETING,U=w.AD_RENDER_FAILED,R=A.AD_RENDER_FAILED_REASON,D=R.PREVENT_WRITING_ON_MAIN_DOCUMENT,N=R.NO_AD,k=R.EXCEPTION,x=R.CANNOT_FIND_AD,P=R.MISSING_DOC_OR_ADID,M={bidWon:function bidWon(e){var t=v.a.getBidsRequested().map(function(e){return e.bids.map(function(e){return e.adUnitCode;});}).reduce(c.flatten).filter(c.uniques);return!!E.contains(t,e)||void E.logError(\'The "\'+e+\'" placement is not defined.\');}};function q(e,t,n){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=n);}Object(s.a)(),S.bidderSettings=S.bidderSettings||{},S.libLoaded=!0,S.version="v2.10.0",E.logInfo("Prebid.js v2.10.0 loaded"),S.adUnits=S.adUnits||[],S.triggerUserSyncs=I;var G=Object(u.b)("sync",function(e){return e.forEach(function(e){var t=e.mediaTypes,n=E.getAdUnitSizes(e);if(t&&t.banner){var r=t.banner;r.sizes?(r.sizes=n,e.sizes=n):(E.logError("Detected a mediaTypes.banner object did not include sizes.  This is a required field for the mediaTypes.banner object.  Removing invalid mediaTypes.banner object from request."),delete e.mediaTypes.banner);}else e.sizes&&(E.logWarn("Usage of adUnits.sizes will eventually be deprecated.  Please define size dimensions within the corresponding area of the mediaTypes.<object> (eg mediaTypes.banner.sizes)."),e.sizes=n);if(t&&t.video){var i=t.video;if(i.playerSize)if(Array.isArray(i.playerSize)&&1===i.playerSize.length&&i.playerSize.every(function(e){return Object(c.isArrayOfNums)(e,2);}))e.sizes=i.playerSize;else if(Object(c.isArrayOfNums)(i.playerSize,2)){var o=[];o.push(i.playerSize),E.logInfo("Transforming video.playerSize from [".concat(i.playerSize,"] to [[").concat(o,"]] so it\'s in the proper format.")),e.sizes=i.playerSize=o;}else E.logError("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete e.mediaTypes.video.playerSize;}if(t&&t["native"]){var a=t["native"];a.image&&a.image.sizes&&!Array.isArray(a.image.sizes)&&(E.logError("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete e.mediaTypes["native"].image.sizes),a.image&&a.image.aspect_ratios&&!Array.isArray(a.image.aspect_ratios)&&(E.logError("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete e.mediaTypes["native"].image.aspect_ratios),a.icon&&a.icon.sizes&&!Array.isArray(a.icon.sizes)&&(E.logError("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete e.mediaTypes["native"].icon.sizes);}}),e;},"checkAdUnitSetup");function W(e){var n=v.a[e]().filter(E.bind.call(c.adUnitsFilter,this,v.a.getAdUnitCodes())),r=v.a.getLastAuctionId();return n.map(function(e){return e.adUnitCode;}).filter(c.uniques).map(function(t){return n.filter(function(e){return e.auctionId===r&&e.adUnitCode===t;});}).filter(function(e){return e&&e[0]&&e[0].adUnitCode;}).map(function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;}({},e[0].adUnitCode,{bids:e});}).reduce(function(e,t){return m(e,t);},{});}function L(e,t,n){var r={};r.reason=e,r.message=t,n&&(r.bid=n),E.logError(t),O.emit(U,r);}function z(e){e.forEach(function(e){if(void 0===e.called)try{e.call(),e.called=!0;}catch(e){E.logError("Error processing command :","prebid.js",e);}});}S.getAdserverTargetingForAdUnitCodeStr=function(e){if(E.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=S.getAdserverTargetingForAdUnitCode(e);return E.transformAdServerTargetingObj(t);}E.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode");},S.getAdserverTargetingForAdUnitCode=function(e){return S.getAdserverTargeting(e)[e];},S.getAdserverTargeting=function(e){return E.logInfo("Invoking pbjs.getAdserverTargeting",arguments),f.b.getAllTargeting(e);},S.getNoBids=function(){return E.logInfo("Invoking pbjs.getNoBids",arguments),W("getNoBids");},S.getBidResponses=function(){return E.logInfo("Invoking pbjs.getBidResponses",arguments),W("getBidsReceived");},S.getBidResponsesForAdUnitCode=function(t){return{bids:v.a.getBidsReceived().filter(function(e){return e.adUnitCode===t;})};},S.setTargetingForGPTAsync=function(e,t){if(E.logInfo("Invoking pbjs.setTargetingForGPTAsync",arguments),Object(c.isGptPubadsDefined)()){var n=f.b.getAllTargeting(e);f.b.resetPresetTargeting(e),f.b.setTargetingForGPT(n,t),Object.keys(n).forEach(function(t){Object.keys(n[t]).forEach(function(e){"hb_adid"===e&&v.a.setStatusForBids(n[t][e],A.BID_STATUS.BID_TARGETING_SET);});}),O.emit(B,n);}else E.logError("window.googletag is not defined on the page");},S.setTargetingForAst=function(){E.logInfo("Invoking pbjs.setTargetingForAn",arguments),f.b.isApntagDefined()?(f.b.setTargetingForAst(),O.emit(B,f.b.getAllTargeting())):E.logError("window.apntag is not defined on the page");},S.renderAd=function(e,t){if(E.logInfo("Invoking pbjs.renderAd",arguments),E.logMessage("Calling renderAd with adId :"+t),e&&t)try{var n=v.a.findBidByAdId(t);if(n){n.status=A.BID_STATUS.RENDERED,n.ad=E.replaceAuctionPrice(n.ad,n.cpm),n.adUrl=E.replaceAuctionPrice(n.adUrl,n.cpm),v.a.addWinningBid(n),O.emit(C,n);var r=n.height,i=n.width,o=n.ad,a=n.mediaType,c=n.adUrl,u=n.renderer,s=document.createComment("Creative ".concat(n.creativeId," served by ").concat(n.bidder," Prebid.js Header Bidding"));if(E.insertElement(s,e,"body"),Object(y.c)(u))Object(y.b)(u,n);else if(e===document&&!E.inIframe()||"video"===a){var d="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document.");L(D,d,n);}else if(o)e.open("text/html","replace"),e.write(o),e.close(),q(e,i,r),E.callBurl(n);else if(c){var f=E.createInvisibleIframe();f.height=r,f.width=i,f.style.display="inline",f.style.overflow="hidden",f.src=c,E.insertElement(f,e,"body"),q(e,i,r),E.callBurl(n);}else{var l="Error trying to write ad. No ad for bid response id: ".concat(t);L(N,l,n);}}else{var g="Error trying to write ad. Cannot find ad by given id : ".concat(t);L(x,g);}}catch(e){var p="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);L(k,p);}else{var b="Error trying to write ad Id :".concat(t," to the page. Missing document or adId");L(P,b);}},S.removeAdUnit=function(e){(E.logInfo("Invoking pbjs.removeAdUnit",arguments),e)?(E.isArray(e)?e:[e]).forEach(function(e){for(var t=0;t<S.adUnits.length;t++){S.adUnits[t].code===e&&S.adUnits.splice(t,1);}}):S.adUnits=[];},S.requestBids=Object(u.b)("async",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,i=e.adUnitCodes,o=e.labels,a=e.auctionId;O.emit(j);var c=n||d.config.getConfig("bidderTimeout");if(r=r||S.adUnits,E.logInfo("Invoking pbjs.requestBids",arguments),i&&i.length?r=r.filter(function(e){return g()(i,e.code);}):i=r&&r.map(function(e){return e.code;}),(r=G(r)).forEach(function(i){var o=Object.keys(i.mediaTypes||{banner:"banner"}),e=i.bids.map(function(e){return e.bidder;}),a=T.bidderRegistry,t=d.config.getConfig("s2sConfig"),n=t&&t.bidders,r=n?e.filter(function(e){return!g()(n,e);}):e;i.transactionId=E.generateUUID(),r.forEach(function(t){var e=a[t],n=e&&e.getSpec&&e.getSpec(),r=n&&n.supportedMediaTypes||["banner"];o.some(function(e){return g()(r,e);})||(E.logWarn(E.unsupportedBidderMessage(i,t)),i.bids=i.bids.filter(function(e){return e.bidder!==t;}));}),p.a.incrementCounter(i.code);}),r&&0!==r.length){var u=v.a.createAuction({adUnits:r,adUnitCodes:i,callback:t,cbTimeout:c,labels:o,auctionId:a}),s=r.length;return 15<s&&E.logInfo("Current auction ".concat(u.getAuctionId()," contains ").concat(s," adUnits."),r),i.forEach(function(e){return f.b.setLatestAuctionForAdUnit(e,u.getAuctionId());}),u.callBids(),u;}if(E.logMessage("No adUnits configured. No bids requested."),"function"==typeof t)try{t();}catch(e){E.logError("Error executing bidsBackHandler",null,e);}}),S.addAdUnits=function(e){E.logInfo("Invoking pbjs.addAdUnits",arguments),E.isArray(e)?S.adUnits.push.apply(S.adUnits,e):"object"===h(e)&&S.adUnits.push(e),O.emit(_);},S.onEvent=function(e,t,n){E.logInfo("Invoking pbjs.onEvent",arguments),E.isFn(t)?!n||M[e].call(null,n)?O.on(e,t,n):E.logError(\'The id provided is not valid for event "\'+e+\'" and no handler was set.\'):E.logError(\'The event handler provided is not a function and was not set on event "\'+e+\'".\');},S.offEvent=function(e,t,n){E.logInfo("Invoking pbjs.offEvent",arguments),n&&!M[e].call(null,n)||O.off(e,t,n);},S.registerBidAdapter=function(e,t){E.logInfo("Invoking pbjs.registerBidAdapter",arguments);try{T.registerBidAdapter(e(),t);}catch(e){E.logError("Error registering bidder adapter : "+e.message);}},S.registerAnalyticsAdapter=function(e){E.logInfo("Invoking pbjs.registerAnalyticsAdapter",arguments);try{T.registerAnalyticsAdapter(e);}catch(e){E.logError("Error registering analytics adapter : "+e.message);}},S.createBid=function(e){return E.logInfo("Invoking pbjs.createBid",arguments),Object(b.a)(e);},S.loadScript=function(e,t,n){E.logInfo("Invoking pbjs.loadScript",arguments),Object(a.b)(e,t,n);},S.enableAnalytics=function(e){e&&!E.isEmpty(e)?(E.logInfo("Invoking pbjs.enableAnalytics for: ",e),T.enableAnalytics(e)):E.logError("pbjs.enableAnalytics should be called with option {}");},S.aliasBidder=function(e,t){E.logInfo("Invoking pbjs.aliasBidder",arguments),e&&t?T.aliasBidAdapter(e,t):E.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder");},S.getAllWinningBids=function(){return v.a.getAllWinningBids();},S.getAllPrebidWinningBids=function(){return v.a.getBidsReceived().filter(function(e){return e.status===A.BID_STATUS.BID_TARGETING_SET;});},S.getHighestCpmBids=function(e){var t=Object(f.a)(v.a.getBidsReceived(),c.getLatestHighestCpmBid);return f.b.getWinningBids(e,t);},S.markWinningBidAsUsed=function(t){var e=[];t.adUnitCode&&t.adId?e=v.a.getBidsReceived().filter(function(e){return e.adId===t.adId&&e.adUnitCode===t.adUnitCode;}):t.adUnitCode?e=f.b.getWinningBids(t.adUnitCode):t.adId?e=v.a.getBidsReceived().filter(function(e){return e.adId===t.adId;}):E.logWarn("Inproper usage of markWinningBidAsUsed. It\'ll need an adUnitCode and/or adId to function."),0<e.length&&(e[0].status=A.BID_STATUS.RENDERED);},S.getConfig=d.config.getConfig,S.setConfig=d.config.setConfig,S.que.push(function(){return Object(i.a)();}),S.cmd.push=function(e){if("function"==typeof e)try{e.call();}catch(e){E.logError("Error processing command :",e.message,e.stack);}else E.logError("Commands written into pbjs.cmd.push must be wrapped in a function");},S.que.push=S.cmd.push,S.processQueue=function(){u.b.ready(),z(S.que),z(S.cmd);},t["default"]=S;},65:function _(e,t,n){"use strict";t.a=function(){return window.pbjs;},window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[];},66:function _(e,t,n){"use strict";t.a=w,n.d(t,"b",function(){return o;});var f=n(0),l=n(3),g=n(27),r=n(37),p=n(59),b=n(2),i=n(8),v=n.n(i);function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++){n[t]=e[t];}return n;}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e);}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance");}();}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);}}return e;}).apply(this,arguments);}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;}var S=n(0),A=n(4),E=[],T=Object.keys(A.TARGETING_KEYS).map(function(e){return A.TARGETING_KEYS[e];}),O=function O(e){return e.responseTimestamp+1e3*e.ttl+1e3>Object(f.timestamp)();},I=function I(e){return e&&(e.status&&!v()([A.BID_STATUS.BID_TARGETING_SET,A.BID_STATUS.RENDERED],e.status)||!e.status);};function w(e,n){var r=[],i=Object(f.groupBy)(e,"adUnitCode");return Object.keys(i).forEach(function(e){var t=Object(f.groupBy)(i[e],"bidderCode");Object.keys(t).forEach(function(e){return r.push(t[e].reduce(n));});}),r;}var o=function(n){var i={},r={};function o(e){return"string"==typeof e?[e]:S.isArray(e)?e:n.getAdUnitCodes()||[];}function a(){var e=n.getBidsReceived();return l.config.getConfig("useBidCache")||(e=e.filter(function(e){return r[e.adUnitCode]===e.auctionId;})),w(e=e.filter(function(e){return Object(f.deepAccess)(e,"video.context")!==b.a;}).filter(function(e){return"banner"!==e.mediaType||Object(p.c)([e.width,e.height]);}).filter(I).filter(O),f.getOldestHighestCpmBid);}function c(){return n.getStandardBidderAdServerTargeting().map(function(e){return e.key;}).concat(T).filter(f.uniques);}function u(t,n,e,r){return Object.keys(n.adserverTargeting).filter(s()).forEach(function(e){t.length&&t.filter(function(t){return function(e){return e.adUnitCode===n.adUnitCode&&e.adserverTargeting[t];};}(e)).forEach(function(t){return function(e){S.isArray(e.adserverTargeting[t])||(e.adserverTargeting[t]=[e.adserverTargeting[t]]),e.adserverTargeting[t]=e.adserverTargeting[t].concat(n.adserverTargeting[t]).filter(f.uniques),delete n.adserverTargeting[t];};}(e));}),t.push(n),t;}function s(){var t=c();return function(e){return-1===t.indexOf(e);};}function d(t){return m({},t.adUnitCode,Object.keys(t.adserverTargeting).filter(s()).map(function(e){return m({},e.substring(0,20),[t.adserverTargeting[e]]);}));}return i.setLatestAuctionForAdUnit=function(e,t){r[e]=t;},i.resetPresetTargeting=function(e){if(Object(f.isGptPubadsDefined)()){var t=o(e),r=n.getAdUnits().filter(function(e){return v()(t,e.code);});window.googletag.pubads().getSlots().forEach(function(n){E.forEach(function(t){r.forEach(function(e){e.code!==n.getAdUnitPath()&&e.code!==n.getSlotElementId()||n.setTargeting(t,null);});});});}},i.resetPresetTargetingAST=function(e){o(e).forEach(function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var n=Object.keys(t.keywords),r={};n.forEach(function(e){v()(E,e.toLowerCase())||(r[e]=t.keywords[e]);}),window.apntag.modifyTag(e,{keywords:r});}});},i.getAllTargeting=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a(),n=o(e),r=function(e,t){var n=i.getWinningBids(e,t),r=c();return n=n.map(function(o){return m({},o.adUnitCode,Object.keys(o.adserverTargeting).filter(function(e){return void 0===o.sendStandardTargeting||o.sendStandardTargeting||-1===r.indexOf(e);}).reduce(function(e,t){var n=[o.adserverTargeting[t]],r=m({},t.substring(0,20),n);if(t!==A.TARGETING_KEYS.DEAL)return[].concat(y(e),[r]);var i=m({},"".concat(t,"_").concat(o.bidderCode).substring(0,20),n);return[].concat(y(e),[r,i]);},[]));});}(n,t).concat(function(t,e){return e.filter(function(e){return v()(t,e.adUnitCode);}).map(function(e){return h({},e);}).reduce(u,[]).map(d).filter(function(e){return e;});}(n,t)).concat(l.config.getConfig("enableSendAllBids")?function(e,t){var n=T.concat(g.a);return w(t,f.getHighestCpm).map(function(t){if(t.adserverTargeting&&e&&(S.isArray(e)&&v()(e,t.adUnitCode)||"string"==typeof e&&t.adUnitCode===e))return m({},t.adUnitCode,function(t,e){return e.map(function(e){return m({},"".concat(e,"_").concat(t.bidderCode).substring(0,20),[t.adserverTargeting[e]]);});}(t,n.filter(function(e){return void 0!==t.adserverTargeting[e];})));}).filter(function(e){return e;});}(n,t):[]);return r.map(function(t){Object.keys(t).map(function(e){t[e].map(function(e){-1===E.indexOf(Object.keys(e)[0])&&(E=Object.keys(e).concat(E));});});}),r=function(e){return e.map(function(e){return m({},Object.keys(e)[0],e[Object.keys(e)[0]].map(function(e){return m({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "));}).reduce(function(e,t){return h(t,e);},{}));}).reduce(function(e,t){var n=Object.keys(t)[0];return e[n]=h({},e[n],t[n]),e;},{});}(r),n.forEach(function(e){r[e]||(r[e]={});}),r;},i.setTargetingForGPT=function(i,e){window.googletag.pubads().getSlots().forEach(function(r){Object.keys(i).filter(e?e(r):Object(f.isAdUnitCodeMatchingSlot)(r)).forEach(function(n){return Object.keys(i[n]).forEach(function(t){var e=i[n][t].split(",");(e=1<e.length?[e]:e).map(function(e){return S.logMessage("Attempting to set key value for slot: ".concat(r.getSlotElementId()," key: ").concat(t," value: ").concat(e)),e;}).forEach(function(e){r.setTargeting(t,e);});});});});},i.getWinningBids=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a(),t=o(e);return n.filter(function(e){return v()(t,e.adUnitCode);}).filter(function(e){return 0<e.cpm;}).map(function(e){return e.adUnitCode;}).filter(f.uniques).map(function(t){return n.filter(function(e){return e.adUnitCode===t?e:null;}).reduce(f.getHighestCpm);});},i.setTargetingForAst=function(){var r=i.getAllTargeting();try{i.resetPresetTargetingAST();}catch(e){S.logError("unable to reset targeting for AST"+e);}Object.keys(r).forEach(function(n){return Object.keys(r[n]).forEach(function(e){if(S.logMessage("Attempting to set targeting for targetId: ".concat(n," key: ").concat(e," value: ").concat(r[n][e])),S.isStr(r[n][e])||S.isArray(r[n][e])){var t={};e.search(/pt[0-9]/)<0?t[e.toUpperCase()]=r[n][e]:t[e]=r[n][e],window.apntag.setKeywords(n,t,{overrideKeyValue:!0});}});});},i.isApntagDefined=function(){if(window.apntag&&S.isFn(window.apntag.setKeywords))return!0;},i;}(r.a);},67:function _(e,t,n){"use strict";var r=n(135)(!0);n(48)(String,"String",function(e){this._t=String(e),this._i=0;},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1});});},68:function _(e,t,r){var i=r(25),o=r(138),a=r(69),c=r(49)("IE_PROTO"),u=function u(){},s="prototype",_d=function d(){var e,t=r(53)("iframe"),n=a.length;for(t.style.display="none",r(141).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\\/script>"),e.close(),_d=e.F;n--;){delete _d[s][a[n]];}return _d();};e.exports=Object.create||function(e,t){var n;return null!==e?(u[s]=i(e),n=new u(),u[s]=null,n[c]=e):n=_d(),void 0===t?n:o(n,t);};},69:function _(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");},7:function _(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"gdprDataHandler",function(){return U;}),t.setS2STestingModule=function(e){O=e;};var h=n(0),g=n(59),p=n(27),u=n(1),m=n(5),b=n(3),r=n(8),S=n.n(r),i=n(10),v=n.n(i),y=n(60),A=n(61);function E(e,t){return function(e){if(Array.isArray(e))return e;}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0){;}}catch(e){i=!0,o=e;}finally{try{r||null==c["return"]||c["return"]();}finally{if(i)throw o;}}return n;}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}();}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);}}return e;}).apply(this,arguments);}var O,I=n(0),w=n(4),_=n(9),s={},C=s.bidderRegistry={},d=s.aliasRegistry={},j={};b.config.getConfig("s2sConfig",function(e){j=e.s2sConfig;});var o={};function B(e){var i=e.bidderCode,s=e.auctionId,d=e.bidderRequestId,t=e.adUnits,f=e.labels,l=e.src;return t.reduce(function(e,c){var t=Object(g.b)(Object(g.a)(c,f),c.mediaTypes,c.sizes),n=t.active,u=t.mediaTypes,r=t.filterResults;return n?r&&I.logInfo(\'Size mapping filtered adUnit "\'.concat(c.code,\'" banner sizes from \'),r.before,"to ",r.after):I.logInfo(\'Size mapping disabled adUnit "\'.concat(c.code,\'"\')),n&&e.push(c.bids.filter(function(e){return e.bidder===i;}).reduce(function(e,t){var n=c.nativeParams||I.deepAccess(c,"mediaTypes.native");n&&(t=T({},t,{nativeParams:Object(p.g)(n)})),t=T({},t,Object(h.getDefinedParams)(c,["mediaType","renderer"]));var r=Object(g.b)(Object(g.a)(t,f),u),i=r.active,o=r.mediaTypes,a=r.filterResults;return i?a&&I.logInfo(\'Size mapping filtered adUnit "\'.concat(c.code,\'" bidder "\').concat(t.bidder,\'" banner sizes from \'),a.before,"to ",a.after):I.logInfo(\'Size mapping deactivated adUnit "\'.concat(c.code,\'" bidder "\').concat(t.bidder,\'"\')),I.isValidMediaTypes(o)?t=T({},t,{mediaTypes:o}):I.logError("mediaTypes is not correctly configured for adunit ".concat(c.code)),i&&e.push(T({},t,{adUnitCode:c.code,transactionId:c.transactionId,sizes:I.deepAccess(o,"banner.sizes")||I.deepAccess(o,"video.playerSize")||[],bidId:t.bid_id||I.getUniqueIdentifierStr(),bidderRequestId:d,auctionId:s,src:l,bidRequestsCount:y.a.getCounter(c.code)})),e;},[])),e;},[]).reduce(h.flatten,[]).filter(function(e){return""!==e;});}var U={consentData:null,setConsentData:function setConsentData(e){U.consentData=e;},getConsentData:function getConsentData(){return U.consentData;}};function R(){return j&&j.enabled&&j.testing&&O;}function a(t,n,e){try{var r=C[t].getSpec();r&&r[n]&&"function"==typeof r[n]&&(I.logInfo("Invoking ".concat(t,".").concat(n)),r[n](e));}catch(e){I.logWarn("Error calling ".concat(n," of ").concat(t));}}s.makeBidRequests=function(e,i,o,a,c){var u=[],t=Object(h.getBidderCodes)(e);b.config.getConfig("bidderSequence")===b.RANDOM&&(t=Object(h.shuffle)(t));var s=Object(A.b)(),n=t,r=[];if(j.enabled){R()&&(r=O.getSourceBidderMap(e)[O.CLIENT]);var d=j.bidders;n=t.filter(function(e){return!S()(d,e)||S()(r,e);});var f=function(e){var t=j.bidders,n=I.deepClone(e);return n.forEach(function(e){e.bids=e.bids.filter(function(e){return S()(t,e.bidder)&&(!R()||e.finalSource!==O.CLIENT);}).map(function(e){return e.bid_id=I.getUniqueIdentifierStr(),e;});}),n=n.filter(function(e){return 0!==e.bids.length;});}(e),l=I.generateUUID();d.forEach(function(e){var t=I.getUniqueIdentifierStr(),n={bidderCode:e,auctionId:o,bidderRequestId:t,tid:l,bids:B({bidderCode:e,auctionId:o,bidderRequestId:t,adUnits:I.deepClone(f),labels:c,src:w.S2S.SRC}),auctionStart:i,timeout:j.timeout,src:w.S2S.SRC,refererInfo:s};0!==n.bids.length&&u.push(n);}),f.forEach(function(e){var t=e.bids.filter(function(t){return v()(u,function(e){return v()(e.bids,function(e){return e.bidId===t.bid_id;});});});e.bids=t;}),u.forEach(function(e){e.adUnitsS2SCopy=f.filter(function(e){return 0<e.bids.length;});});}var g=function(e){var t=I.deepClone(e);return t.forEach(function(e){e.bids=e.bids.filter(function(e){return!R()||e.finalSource!==O.SERVER;});}),t=t.filter(function(e){return 0!==e.bids.length;});}(e);return n.forEach(function(e){var t=I.getUniqueIdentifierStr(),n={bidderCode:e,auctionId:o,bidderRequestId:t,bids:B({bidderCode:e,auctionId:o,bidderRequestId:t,adUnits:I.deepClone(g),labels:c,src:"client"}),auctionStart:i,timeout:a,refererInfo:s},r=C[e];r||I.logError("Trying to make a request for bidder that does not exist: ".concat(e)),r&&n.bids&&0!==n.bids.length&&u.push(n);}),U.getConsentData()&&u.forEach(function(e){e.gdprConsent=U.getConsentData();}),u;},s.callBids=function(e,t,r,i,o,a,c){if(t.length){var n=E(t.reduce(function(e,t){return e[Number(void 0!==t.src&&t.src===w.S2S.SRC)].push(t),e;},[[],[]]),2),u=n[0],s=n[1];if(s.length){var d=Object(m.b)(a,o?{request:o.request.bind(null,"s2s"),done:o.done}:void 0),f=j.bidders,l=C[j.adapter],g=s[0].tid,p=s[0].adUnitsS2SCopy;if(l){var b={tid:g,ad_units:p};if(b.ad_units.length){var v=s.map(function(e){return e.start=Object(h.timestamp)(),i.bind(e);}),y=b.ad_units.reduce(function(e,t){return e.concat((t.bids||[]).reduce(function(e,t){return e.concat(t.bidder);},[]));},[]);I.logMessage("CALLING S2S HEADER BIDDERS ==== ".concat(f.filter(function(e){return S()(y,e);}).join(","))),s.forEach(function(e){_.emit(w.EVENTS.BID_REQUESTED,e);}),l.callBids(b,s,function(e,t){var n=Object(h.getBidderRequest)(s,t.bidderCode,e);n&&r.call(n,e,t);},function(){return v.forEach(function(e){return e();});},d);}}}u.forEach(function(e){e.start=Object(h.timestamp)();var t=C[e.bidderCode];I.logMessage("CALLING BIDDER ======= ".concat(e.bidderCode)),_.emit(w.EVENTS.BID_REQUESTED,e);var n=Object(m.b)(a,o?{request:o.request.bind(null,e.bidderCode),done:o.done}:void 0);t.callBids(e,r.bind(e),i.bind(e),n,c);});}else I.logWarn("callBids executed with no bidRequests.  Were they filtered by labels or sizing?");},s.videoAdapters=[],s.registerBidAdapter=function(e,t){var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).supportedMediaTypes,r=void 0===n?[]:n;e&&t?"function"==typeof e.callBids?(C[t]=e,S()(r,"video")&&s.videoAdapters.push(t),S()(r,"native")&&p.e.push(t)):I.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):I.logError("bidAdaptor or bidderCode not specified");},s.aliasBidAdapter=function(t,e){if(void 0===C[e]){var n=C[t];if(void 0===n){var r=b.config.getConfig("s2sConfig"),i=r&&r.bidders;i&&S()(i,e)?d[e]=t:I.logError(\'bidderCode "\'+t+\'" is not an existing bidder.\',"adapterManager.aliasBidAdapter");}else try{var o,a=function(e){var t=[];return S()(s.videoAdapters,e)&&t.push("video"),S()(p.e,e)&&t.push("native"),t;}(t);if(n.constructor.prototype!=Object.prototype)(o=new n.constructor()).setBidderCode(e);else{var c=n.getSpec();o=Object(u.newBidder)(T({},c,{code:e})),d[e]=t;}s.registerBidAdapter(o,e,{supportedMediaTypes:a});}catch(e){I.logError(t+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter");}}else I.logMessage(\'alias name "\'+e+\'" has been already specified.\');},s.registerAnalyticsAdapter=function(e){var t=e.adapter,n=e.code;t&&n?"function"==typeof t.enableAnalytics?(t.code=n,o[n]=t):I.logError(\'Prebid Error: Analytics adaptor error for analytics "\'.concat(n,\'"\\n        analytics adapter must implement an enableAnalytics() function\')):I.logError("Prebid Error: analyticsAdapter or analyticsCode not specified");},s.enableAnalytics=function(e){I.isArray(e)||(e=[e]),I._each(e,function(e){var t=o[e.provider];t?t.enableAnalytics(e):I.logError("Prebid Error: no analytics adapter found in registry for\\n        ".concat(e.provider,"."));});},s.getBidAdapter=function(e){return C[e];},s.callTimedOutBidders=function(t,n,r){n=n.map(function(e){return e.params=I.getUserConfiguredParams(t,e.adUnitCode,e.bidder),e.timeout=r,e;}),n=I.groupBy(n,"bidder"),Object.keys(n).forEach(function(e){a(e,"onTimeout",n[e]);});},s.callBidWonBidder=function(e,t,n){t.params=I.getUserConfiguredParams(n,t.adUnitCode,t.bidder),a(e,"onBidWon",t);},s.callSetTargetingBidder=function(e,t){a(e,"onSetTargeting",t);},t["default"]=s;},70:function _(e,t){e.exports=function(e,t){return{value:t,done:!!e};};},71:function _(e,t,n){var i=n(20);e.exports=function(e,t,n){for(var r in t){n&&e[r]?e[r]=t[r]:i(e,r,t[r]);}return e;};},72:function _(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e;};},73:function _(e,t,n){var o=n(25);e.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n);}catch(e){var i=t["return"];throw void 0!==i&&o(i.call(t)),e;}};},74:function _(e,t,n){var r=n(28),i=n(15)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e);};},75:function _(e,t,n){var r=n(76),i=n(15)("iterator"),o=n(28);e.exports=n(14).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)];};},76:function _(e,t,n){var i=n(31),o=n(15)("toStringTag"),a="Arguments"==i(function(){return arguments;}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t];}catch(e){}}(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r;};},77:function _(e,t,n){var r=n(43)("meta"),i=n(16),o=n(26),a=n(19).f,c=0,u=Object.isExtensible||function(){return!0;},s=!n(30)(function(){return u(Object.preventExtensions({}));}),d=function d(e){a(e,r,{value:{i:"O"+ ++c,w:{}}});},f=e.exports={KEY:r,NEED:!1,fastKey:function fastKey(e,t){if(!i(e))return"symbol"==_typeof(e)?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";d(e);}return e[r].i;},getWeak:function getWeak(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;d(e);}return e[r].w;},onFreeze:function onFreeze(e){return s&&f.NEED&&u(e)&&!o(e,r)&&d(e),e;}};},78:function _(e,t,n){var r=n(16);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e;};},79:function _(e,t,n){"use strict";t.a=function(t,n){o.adServers=o.adServers||{},o.adServers[t]=o.adServers[t]||{},Object.keys(n).forEach(function(e){o.adServers[t][e]?Object(i.logWarn)("Attempting to add an already registered function property ".concat(e," for AdServer ").concat(t,".")):o.adServers[t][e]=n[e];});};var r=n(65),i=n(0),o=Object(r.a)();},8:function _(e,t,n){n(87),e.exports=n(14).Array.includes;},82:function _(e,t,n){"use strict";var r=n(13),i=n(40)(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1;}),r(r.P+r.F*a,"Array",{find:function find(e){return i(this,e,1<arguments.length?arguments[1]:void 0);}}),n(34)(o);},83:function _(e,t,n){e.exports=!n(21)&&!n(30)(function(){return 7!=Object.defineProperty(n(53)("div"),"a",{get:function get(){return 7;}}).a;});},84:function _(e,t,n){var i=n(16);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can\'t convert object to primitive value");};},85:function _(e,t,n){var r=n(86);e.exports=function(e,t){return new(r(e))(t);};},86:function _(e,t,n){var r=n(16),i=n(55),o=n(15)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t;};},87:function _(e,t,n){"use strict";var r=n(13),i=n(58)(!0);r(r.P,"Array",{includes:function includes(e){return i(this,e,1<arguments.length?arguments[1]:void 0);}}),n(34)("includes");},88:function _(e,t,n){var r=n(42),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t);};},89:function _(e,t){y.SYNC=1,y.ASYNC=2,y.QUEUE=4;var g="fun-hooks",n="function"==typeof Proxy,r=Object.freeze({useProxy:n,ready:0}),i=Object.getPrototypeOf({}),c="2,1,0"===[1].reduce(function(e,t,n){return[e,t,n];},2).toString()?Array.prototype.reduce:function(e,t){var n,r=Object(this),i=r.length>>>0,o=0;if(t)n=t;else{for(;o<i&&!(o in r);){o++;}n=r[o++];}for(;o<i;){o in r&&(n=e(n,r[o],o,r)),o++;}return n;},p=4===function(e,t){return t;}.bind(null,1,4)()?Function.prototype.bind:function(e){var t=this,n=v(arguments,1);return function(){return t.apply(e,n.concat(v(arguments)));};};function b(e){return c.call(v(arguments,1),function(t,n){return n&&Object.keys(n).forEach(function(e){t[e]=n[e];}),t;},e);}function v(e,t){return Array.prototype.slice.call(e,t);}function y(o){var s,e={},d=[];function t(e,t){return"function"==typeof e?u.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?u.apply(null,arguments):"object"==_typeof(e)?function(o,e,a){var t=!0;void 0===e&&(e=Object.getOwnPropertyNames(o),t=!1);var c={},n=["constructor"];for(;(e=e.filter(function(e){return!("function"!=typeof o[e]||-1!==n.indexOf(e)||e.match(/^_/));})).forEach(function(e){var t=e.split(":"),n=t[0],r=t[1]||"sync";if(!c[n]){var i=o[n];c[n]=o[n]=u(r,i,a?[a,n]:void 0);}}),o=Object.getPrototypeOf(o),t&&o!==i;){;}return c;}.apply(null,arguments):void 0;}function f(o){var a=Array.isArray(o)?o:o.split(".");return c.call(a,function(t,n,e){var r=t[n],i=!1;return r||(e===a.length-1?(s||d.push(function(){i||console.warn(g+": referenced \'"+o+"\' but it was never created");}),t[n]=l(function(e){t[n]=e,i=!0;})):t[n]={});},e);}function l(r){var o=[],a=[],c=function c(){};return{__funHook:{install:function install(e,t,n){this.type=e,this.fn=t,(c=n)(o,a),r&&r(t);}},before:function before(e,t){return n.call(this,o,"before",e,t);},after:function after(e,t){return n.call(this,a,"after",e,t);},getHooks:function getHooks(n){var e=o.concat(a);return"object"==_typeof(n)&&(e=e.filter(function(t){return Object.keys(n).every(function(e){return t[e]===n[e];});})),b(e,{remove:function remove(){return e.forEach(function(e){e.remove();}),this;}});},removeAll:function removeAll(){return this.getHooks().remove();}};function n(t,e,n,r){var i={hook:n,type:e,priority:r||10,remove:function remove(){var e=t.indexOf(i);-1!==e&&(t.splice(e,1),c(o,a));}};return t.push(i),t.sort(function(e,t){return t.priority-e.priority;}),c(o,a),this;}}function u(a,e,t){if(e.__funHook){if(e.__funHook.type!==a)throw g+": recreated hookable with different type";return e.__funHook.fn;}var c,n,r=t?f(t):l(),i={get:function get(e,t){return r[t]||Reflect.get.apply(Reflect,arguments);}};return s||d.push(u),o.useProxy?n=new Proxy(e,i):b(n=function n(){return i.apply?i.apply(e,this,v(arguments)):e.apply(this,arguments);},r),r.__funHook.install(a,n,function(e,t){if(e.length||t.length){var n;if("sync"===a){var r,i="r=t.apply(h,"+(e.length?"arguments":"g")+")";t.length&&(r=o(t,"a","n(function extract(s){r=s},e)")),e.length&&(i=o(e,"b","n(function extract(){"+i+";"+r+"},e)"),r=""),n=["var r,e={bail:function(a){r=a}}",i,r,"return r"].join(";");}else"async"===a&&(n="t.apply(h,"+(e.length?"Array.prototype.slice.call(arguments)":"g")+".concat("+o(t,"a","z?n(z,e):[]")+"))",e.length&&(n="n(function partial(){"+n+"},e)"),n=["var z",\'typeof g[g.length-1]==="function"&&(z=i.call(g.pop(),null))\',"var e={bail:z}",o(e,"b",n)].join(";"));c=p.call(new Function("i,b,a,n,t,h,g",n),null,p,e,t,Object.assign||b);}else c=void 0;function o(e,t,n){for(var r=e.length;0<r--;){0!==r||"async"===a&&"a"===t?(n="i.call("+t+"["+r+"].hook, h,"+n+")","async"===a&&"a"===t&&0===r||(n="n("+n+",e)")):n=t+"["+r+"].hook.apply(h,["+n+("b"===t?"].concat(g))":",r])");}return n;}u();}),n;function u(){!s&&("sync"!==a||o.ready&y.SYNC)&&("async"!==a||o.ready&y.ASYNC)?"sync"!==a&&o.ready&y.QUEUE?i.apply=function(){var e=arguments;d.push(function(){n.apply(e[1],e[2]);});}:i.apply=function(){throw g+": hooked function not ready";}:i.apply=c;}}return(o=b({},r,o)).ready?t.ready=function(){s=!0,function(e){for(var t;t=e.shift();){t();}}(d);}:s=!0,t.get=f,t;}e.exports=y;},9:function _(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);}}return e;}).apply(this,arguments);}var c,i,u=n(0),o=n(4),a=Array.prototype.slice,s=Array.prototype.push,d=u._map(o.EVENTS,function(e){return e;}),f=o.EVENT_ID_PATHS,l=[];e.exports=(c={},(i={}).on=function(e,t,n){if(function(e){return u.contains(d,e);}(e)){var r=c[e]||{que:[]};n?(r[n]=r[n]||{que:[]},r[n].que.push(t)):r.que.push(t),c[e]=r;}else u.logError("Wrong event name : "+e+" Valid event names :"+d);},i.emit=function(e){!function(e,t){u.logMessage("Emitting event for: "+e);var n=t[0]||{},r=n[f[e]],i=c[e]||{que:[]},o=u._map(i,function(e,t){return t;}),a=[];l.push({eventType:e,args:n,id:r}),r&&u.contains(o,r)&&s.apply(a,i[r].que),s.apply(a,i.que),u._each(a,function(e){if(e)try{e.apply(null,t);}catch(e){u.logError("Error executing handler:","events.js",e);}});}(e,a.call(arguments,1));},i.off=function(e,n,r){var i=c[e];u.isEmpty(i)||u.isEmpty(i.que)&&u.isEmpty(i[r])||r&&(u.isEmpty(i[r])||u.isEmpty(i[r].que))||(r?u._each(i[r].que,function(e){var t=i[r].que;e===n&&t.splice(u.indexOf.call(t,e),1);}):u._each(i.que,function(e){var t=i.que;e===n&&t.splice(u.indexOf.call(t,e),1);}),c[e]=i);},i.get=function(){return c;},i.getEvents=function(){var n=[];return u._each(l,function(e){var t=r({},e);n.push(t);}),n;},i);},90:function _(e,t){e.exports=function e(t){var n=Array.isArray(t)?[]:{};for(var r in t){var i=t[r];n[r]=i&&"object"==_typeof(i)?e(i):i;}return n;};}});pbjsChunk([224],{130:function _(n,o,p){n.exports=p(62);}},[130]);pbjsChunk([192],{192:function _(e,r,a){e.exports=a(193);},193:function _(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),a.d(r,"spec",function(){return o;});var c=a(12),b=a(0),v=a(3),m=a(1),l=a(2),n=a(10),h=a.n(n),t=a(8),_=a.n(t);function i(e){return(i="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e);}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e);})(e);}function f(){return(f=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a){Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);}}return e;}).apply(this,arguments);}function k(e){return function(e){if(Array.isArray(e)){for(var r=0,a=new Array(e.length);r<e.length;r++){a[r]=e[r];}return a;}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e);}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance");}();}var I="//ib.adnxs.com/ut/v3/prebid",s=["id","mimes","minduration","maxduration","startdelay","skippable","playback_method","frameworks"],x=["age","external_uid","segments","gender","dnt","language"],T=["geo","device_id"],w=["enabled","dongle","member_id","debug_timeout"],d={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},icon:{serverName:"icon",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},o={code:"appnexus",aliases:["appnexusAst","brealtime","emxdigital","pagescience","defymedia","gourmetads","matomy","featureforward","oftmedia","districtm"],supportedMediaTypes:[l.b,l.d,l.c],isBidRequestValid:function isBidRequestValid(e){return!!(e.params.placementId||e.params.member&&e.params.invCode);},buildRequests:function buildRequests(e,r){var a,n=e.map(C),t=h()(e,S);t&&(a={},Object.keys(t.params.user).filter(function(e){return _()(x,e);}).forEach(function(e){return a[e]=t.params.user[e];}));var i,s=h()(e,A);s&&s.params&&s.params.app&&(i={},Object.keys(s.params.app).filter(function(e){return _()(T,e);}).forEach(function(e){return i[e]=s.params.app[e];}));var o,d=h()(e,R);d&&d.params&&s.params.app&&s.params.app.id&&(o={appid:d.params.app.id});var p={},u={},c=b.getCookie("apn_prebid_debug")||null;if(c)try{p=JSON.parse(c);}catch(e){b.logError("AppNexus Debug Auction Cookie Error:\\n\\n"+e);}else{var m=h()(e,P);m&&m.debug&&(p=m.debug);}p&&p.enabled&&Object.keys(p).filter(function(e){return _()(w,e);}).forEach(function(e){u[e]=p[e];});var l=h()(e,E),f=l?parseInt(l.params.member,10):0,y={tags:k(n),user:a,sdk:{source:"pbjs",version:"2.10.0"}};if(0<f&&(y.member_id=f),s&&(y.device=i),d&&(y.app=o),v.config.getConfig("adpod.brandCategoryExclusion")&&(y.brand_category_uniqueness=!0),u.enabled&&(y.debug=u,b.logInfo("AppNexus Debug Auction Settings:\\n\\n"+JSON.stringify(u,null,4))),r&&r.gdprConsent&&(y.gdpr_consent={consent_string:r.gdprConsent.consentString,consent_required:r.gdprConsent.gdprApplies}),r&&r.refererInfo){var g={rd_ref:encodeURIComponent(r.refererInfo.referer),rd_top:r.refererInfo.reachedTop,rd_ifs:r.refererInfo.numIframes,rd_stk:r.refererInfo.stack.map(function(e){return encodeURIComponent(e);}).join(",")};y.referrer_detection=g;}return h()(e,O)&&e.filter(O).forEach(function(r){var e=function(e,r){var a=r.mediaTypes.video,n=a.durationRangeSec,t=a.requireExactDuration,i=function(e){var r=e.adPodDurationSec,a=e.durationRangeSec,n=e.requireExactDuration,t=b.getMinValueFromArray(a),i=Math.floor(r/t);return n?Math.max(i,a.length):i;}(r.mediaTypes.video),s=b.getMaxValueFromArray(n),o=e.filter(function(e){return e.uuid===r.bidId;}),d=b.fill.apply(b,k(o).concat([i]));if(t){var p=Math.ceil(i/n.length),u=b.chunk(d,p);n.forEach(function(r,e){u[e].map(function(e){j(e,"minduration",r),j(e,"maxduration",r);});});}else d.map(function(e){return j(e,"maxduration",s);});return d;}(n,r),a=y.tags.filter(function(e){return e.uuid!==r.bidId;});y.tags=[].concat(k(a),k(e));}),function(e,a){var n=[];if(15<e.tags.length){var t=b.deepClone(e);b.chunk(e.tags,15).forEach(function(e){t.tags=e;var r=JSON.stringify(t);n.push({method:"POST",url:I,data:r,bidderRequest:a});});}else{var r=JSON.stringify(e);n={method:"POST",url:I,data:r,bidderRequest:a};}return n;}(y,r);},interpretResponse:function interpretResponse(e,r){var n=this,t=r.bidderRequest;e=e.body;var i=[];if(!e||e.error){var a="in response for ".concat(t.bidderCode," adapter");return e&&e.error&&(a+=": ".concat(e.error)),b.logError(a),i;}if(e.tags&&e.tags.forEach(function(e){var r=function(e){return e&&e.ads&&e.ads.length&&h()(e.ads,function(e){return e.rtb;});}(e);if(r&&0!==r.cpm&&_()(n.supportedMediaTypes,r.ad_type)){var a=function(e,r,a){var n=b.getBidRequest(e.uuid,[a]),t={requestId:e.uuid,cpm:r.cpm,creativeId:r.creative_id,dealId:r.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:n.adUnitCode,appnexus:{buyerMemberId:r.buyer_member_id,dealPriority:r.deal_priority,dealCode:r.deal_code}};if(r.rtb.video){f(t,{width:r.rtb.video.player_width,height:r.rtb.video.player_height,vastUrl:r.rtb.video.asset_url,vastImpUrl:r.notify_url,ttl:3600});var i=b.deepAccess(n,"mediaTypes.video.context");if(i===l.a){var s=Object(m.getIabSubCategory)(n.bidder,r.brand_category_id);t.meta={iabSubCatId:s},t.video={context:l.a,durationSeconds:Math.floor(r.rtb.video.duration_ms/1e3)};}if(r.renderer_url){var o=b.deepAccess(a.bids[0],"renderer.options");f(t,{adResponse:e,renderer:function(e,r){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=c.a.install({id:r.renderer_id,url:r.renderer_url,config:a,loaded:!1,adUnitCode:e});try{n.setRender(g);}catch(e){b.logWarn("Prebid Error calling setRender on renderer",e);}return n.setEventHandlers({impression:function impression(){return b.logMessage("AppNexus outstream video impression event");},loaded:function loaded(){return b.logMessage("AppNexus outstream video loaded event");},ended:function ended(){b.logMessage("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none";}}),n;}(t.adUnitCode,r,o)}),t.adResponse.ad=t.adResponse.ads[0],t.adResponse.ad.video=t.adResponse.ad.rtb.video;}}else if(r.rtb[l.c]){var d=r.rtb[l.c];t[l.c]={title:d.title,body:d.desc,body2:d.desc2,cta:d.ctatext,rating:d.rating,sponsoredBy:d.sponsored,privacyLink:d.privacy_link,address:d.address,downloads:d.downloads,likes:d.likes,phone:d.phone,price:d.price,salePrice:d.saleprice,clickUrl:d.link.url,displayUrl:d.displayurl,clickTrackers:d.link.click_trackers,impressionTrackers:d.impression_trackers,javascriptTrackers:d.javascript_trackers},d.main_img&&(t["native"].image={url:d.main_img.url,height:d.main_img.height,width:d.main_img.width}),d.icon&&(t["native"].icon={url:d.icon.url,height:d.icon.height,width:d.icon.width});}else{f(t,{width:r.rtb.banner.width,height:r.rtb.banner.height,ad:r.rtb.banner.content});try{var p=r.rtb.trackers[0].impression_urls[0],u=b.createTrackPixelHtml(p);t.ad+=u;}catch(e){b.logError("Error appending tracking pixel",e);}}return t;}(e,r,t);a.mediaType=function(e){var r=e.ad_type;return r===l.d?l.d:r===l.c?l.c:l.b;}(r),i.push(a);}}),e.debug&&e.debug.debug_info){var s="AppNexus Debug Auction for Prebid\\n\\n"+e.debug.debug_info;s=s.replace(/(<td>|<th>)/gm,"\\t").replace(/(<\\/td>|<\\/th>)/gm,"\\n").replace(/^<br>/gm,"").replace(/(<br>\\n|<br>)/gm,"\\n").replace(/<h1>(.*)<\\/h1>/gm,"\\n\\n===== $1 =====\\n\\n").replace(/<h[2-6]>(.*)<\\/h[2-6]>/gm,"\\n\\n*** $1 ***\\n\\n").replace(/(<([^>]+)>)/gim,""),b.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"),b.logMessage(s);}return i;},getMappingFileInfo:function getMappingFileInfo(){return{url:"//acdn.adnxs.com/prebid/appnexus-mapping/mappings.json",refreshInDays:7};},getUserSyncs:function getUserSyncs(e){if(e.iframeEnabled)return[{type:"iframe",url:"//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html"}];},transformBidParams:function transformBidParams(a,e){return a=b.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:b.transformBidderParamKeywords},a),e&&(a.use_pmt_rule="boolean"==typeof a.usePaymentRule&&a.usePaymentRule,a.usePaymentRule&&delete a.usePaymentRule,p(a.keywords)&&a.keywords.forEach(u),Object.keys(a).forEach(function(e){var r=b.convertCamelToUnderscore(e);r!==e&&(a[r]=a[e],delete a[e]);})),a;}};function p(e){return!!(b.isArray(e)&&0<e.length);}function u(e){p(e.value)&&""===e.value[0]&&delete e.value;}function C(r){var a={};if(a.sizes=y(r.sizes),a.primary_size=a.sizes[0],a.ad_types=[],a.uuid=r.bidId,r.params.placementId?a.id=parseInt(r.params.placementId,10):a.code=r.params.invCode,a.allow_smaller_sizes=r.params.allowSmallerSizes||!1,a.use_pmt_rule=r.params.usePaymentRule||!1,a.prebid=!0,a.disable_psa=!0,r.params.reserve&&(a.reserve=r.params.reserve),r.params.position&&(a.position={above:1,below:2}[r.params.position]||0),r.params.trafficSourceCode&&(a.traffic_source_code=r.params.trafficSourceCode),r.params.privateSizes&&(a.private_sizes=y(r.params.privateSizes)),r.params.supplyType&&(a.supply_type=r.params.supplyType),r.params.pubClick&&(a.pubclick=r.params.pubClick),r.params.extInvCode&&(a.ext_inv_code=r.params.extInvCode),r.params.externalImpId&&(a.external_imp_id=r.params.externalImpId),!b.isEmpty(r.params.keywords)){var e=b.transformBidderParamKeywords(r.params.keywords);0<e.length&&e.forEach(u),a.keywords=e;}if((r.mediaType===l.c||b.deepAccess(r,"mediaTypes.".concat(l.c)))&&(a.ad_types.push(l.c),0===a.sizes.length&&(a.sizes=y([1,1])),r.nativeParams)){var n=function(s){var o={};return Object.keys(s).forEach(function(e){var r=d[e]&&d[e].serverName||d[e]||e,a=d[e]&&d[e].requiredParams;o[r]=f({},a,s[e]);var n=d[e]&&d[e].minimumParams;if(a&&n){var t=Object.keys(s[e]),i=Object.keys(a);0===t.filter(function(e){return!_()(i,e);}).length&&(o[r]=f({},o[r],n));}}),o;}(r.nativeParams);a[l.c]={layouts:[n]};}var t=b.deepAccess(r,"mediaTypes.".concat(l.d)),i=b.deepAccess(r,"mediaTypes.video.context");return(r.mediaType===l.d||t)&&a.ad_types.push(l.d),(r.mediaType===l.d||t&&"outstream"!==i)&&(a.require_asset_url=!0),r.params.video&&(a.video={},Object.keys(r.params.video).filter(function(e){return _()(s,e);}).forEach(function(e){return a.video[e]=r.params.video[e];})),(b.isEmpty(r.mediaType)&&b.isEmpty(r.mediaTypes)||r.mediaType===l.b||r.mediaTypes&&r.mediaTypes[l.b])&&a.ad_types.push(l.b),a;}function y(e){var r=[],a={};if(b.isArray(e)&&2===e.length&&!b.isArray(e[0]))a.width=parseInt(e[0],10),a.height=parseInt(e[1],10),r.push(a);else if("object"===i(e))for(var n=0;n<e.length;n++){var t=e[n];(a={}).width=parseInt(t[0],10),a.height=parseInt(t[1],10),r.push(a);}return r;}function S(e){return!!e.params.user;}function E(e){return!!parseInt(e.params.member,10);}function A(e){if(e.params)return!!e.params.app;}function R(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app;}function P(e){return!!e.debug;}function O(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===l.a;}function j(e,r,a){b.isEmpty(e.video)&&(e.video={}),e.video[r]=a;}function g(e){e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,r,a){e.renderer.handleVideoEvent({id:r,eventName:a});}.bind(null,e));});}Object(m.registerBidder)(o);}},[192]);pbjsChunk([179],{218:function _(a,t,e){a.exports=e(219);},219:function _(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),e.d(t,"registerAdserver",function(){return d;}),t.getAdserverCategoryHook=p,t.initTranslation=b;var i=e(3),r=e(17),n=e(5),o=e(0),c=e(36),l="iabToFwMappingkey",s="iabToFwMappingkeyPub",g=1,d=Object(r.b)("async",function(a){var t;"freewheel"===a&&(t="https://cdn.jsdelivr.net/gh/prebid/category-mapping-file@1/freewheel-mapping.json"),b(t,l);},"registerAdserver");function p(a,t,e){if(!e)return a.call(this,t);if(!i.config.getConfig("adpod.brandCategoryExclusion"))return a.call(this,t,e);var r=i.config.getConfig("brandCategoryTranslation.translationFile")?s:l;if(e.meta&&!e.meta.adServerCatId){var n=Object(o.getDataFromLocalStorage)(r);if(n){try{n=JSON.parse(n);}catch(a){Object(o.logError)("Failed to parse translation mapping file");}e.meta.iabSubCatId&&n.mapping&&n.mapping[e.meta.iabSubCatId]?e.meta.adServerCatId=n.mapping[e.meta.iabSubCatId].id:e.meta.adServerCatId=void 0;}else Object(o.logError)("Translation mapping data not found in local storage");}a.call(this,t,e);}function b(a,t){Object(r.c)(c.c,p,50);var e=Object(o.getDataFromLocalStorage)(t);(!e||Object(o.timestamp)()<e.lastUpdated+24*g*60*60*1e3)&&Object(n.a)(a,{success:function success(a){try{(a=JSON.parse(a)).lastUpdated=Object(o.timestamp)(),Object(o.setDataInLocalStorage)(t,JSON.stringify(a));}catch(a){Object(o.logError)("Failed to parse translation mapping file");}},error:function error(){Object(o.logError)("Failed to load brand category translation file.");}});}d(),i.config.getConfig("brandCategoryTranslation",function(a){return function(a){a.translationFile&&b(a.translationFile,s);}(a.brandCategoryTranslation);});}},[218]);pbjsChunk([1],{236:function _(n,t,e){n.exports=e(237);},237:function _(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),e.d(t,"userCMP",function(){return o;}),e.d(t,"consentTimeout",function(){return a;}),e.d(t,"allowAuction",function(){return s;}),e.d(t,"staticConsentData",function(){return i;}),t.requestBidsHook=D,t.resetConsentData=function(){r=void 0,d.gdprDataHandler.setConsentData(null);},t.setConfig=_;var o,a,s,i,r,u=e(0),c=e(3),d=e(7),l=e(8),f=e.n(l),g=e(238),p=e.n(g),m="iab",C=1e4,v=!0,w=!1,b={iab:function iab(n,t,s){var e,o=function(){var t={};function e(){t.getConsentData&&t.getVendorConsents&&n(t,s);}return{consentDataCallback:function consentDataCallback(n){t.getConsentData=n,e();},vendorConsentsCallback:function vendorConsentsCallback(n){t.getVendorConsents=n,e();}};}(),r={};try{e=window.__cmp||u.getWindowTop().__cmp;}catch(n){}if(u.isFn(e))e("getConsentData",null,o.consentDataCallback),e("getVendorConsents",null,o.vendorConsentsCallback);else if(window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp)c("getConsentData",o.consentDataCallback),c("getVendorConsents",o.vendorConsentsCallback);else{for(var a,i=window;!a;){try{i.frames.__cmpLocator&&(a=i);}catch(n){}if(i===window.top)break;i=i.parent;}if(!a)return t("CMP not found.",s);d("getConsentData",a,o.consentDataCallback),d("getVendorConsents",a,o.vendorConsentsCallback);}function c(o,a){var n=s.adUnits,t=1,e=1;if(Array.isArray(n)&&0<n.length){var i=u.getAdUnitSizes(n[0]);t=i[0][0],e=i[0][1];}window.$sf.ext.register(t,e,function(n,t){if("cmpReturn"===n){var e="getConsentData"===o?t.vendorConsentData:t.vendorConsents;a(e);}}),window.$sf.ext.cmp(o);}function d(n,i,t){function e(n){var t="string"==typeof n.data&&p()(n.data,"cmpReturn")?JSON.parse(n.data):n.data;if(t.__cmpReturn&&t.__cmpReturn.callId){var e=t.__cmpReturn;void 0!==r[e.callId]&&(r[e.callId](e.returnValue,e.success),delete r[e.callId]);}}window.__cmp=function(n,t,e){var o=Math.random()+"",a={__cmpCall:{command:n,parameter:t,callId:o}};r[o]=e,i.postMessage(a,"*");},window.addEventListener("message",e,!1),window.__cmp(n,null,function(n){window.removeEventListener("message",e,!1),t(n);});}},"static":function _static(n,t,e){n(i,e);}};function D(n,t){var e={context:this,args:[t],nextFn:n,adUnits:t.adUnits||pbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};return r?k(null,e):f()(Object.keys(b),o)?(b[o].call(this,h,x,e),void(e.haveExited||(0===a?h(void 0,e):e.timer=setTimeout(function(n){x("CMP workflow exceeded timeout threshold.",n);}.bind(null,e),a)))):(u.logWarn("CMP framework (".concat(o,") is not a supported framework.  Aborting consentManagement module and resuming auction.")),e.nextFn.apply(e.context,e.args));}function h(n,t){var e=n&&n.getConsentData&&n.getConsentData.gdprApplies;"boolean"==typeof e&&(!0!==e||u.isStr(n.getConsentData.consentData)&&u.isPlainObject(n.getVendorConsents)&&1<Object.keys(n.getVendorConsents).length)?(clearTimeout(t.timer),y(n),k(null,t)):x("CMP returned unexpected value during lookup process.",t,n);}function x(n,t,e){clearTimeout(t.timer),s&&y(void 0),k(n,t,e);}function y(n){r={consentString:n?n.getConsentData.consentData:void 0,vendorData:n?n.getVendorConsents:void 0,gdprApplies:n?n.getConsentData.gdprApplies:void 0},d.gdprDataHandler.setConsentData(r);}function k(n,t,e){if(!1===t.haveExited){t.haveExited=!0;var o=t.context,a=t.args,i=t.nextFn;n?s?(u.logWarn(n+" Resuming auction without consent data as per consentManagement config.",e),i.apply(o,a)):(u.logError(n+" Canceling auction as per consentManagement config.",e),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():u.logError("Error executing bidsBackHandler")):i.apply(o,a);}}function _(n){u.isStr(n.cmpApi)?o=n.cmpApi:(o=m,u.logInfo("consentManagement config did not specify cmp.  Using system default setting (".concat(m,")."))),u.isNumber(n.timeout)?a=n.timeout:(a=C,u.logInfo("consentManagement config did not specify timeout.  Using system default setting (".concat(C,")."))),"boolean"==typeof n.allowAuctionWithoutConsent?s=n.allowAuctionWithoutConsent:(s=v,u.logInfo("consentManagement config did not specify allowAuctionWithoutConsent.  Using system default setting (".concat(v,")."))),u.logInfo("consentManagement module has been activated..."),"static"===o&&(u.isPlainObject(n.consentData)?(i=n.consentData,a=0):u.logError("consentManagement config with cmpApi: \'static\' did not specify consentData. No consents will be available to adapters.")),w||pbjs.requestBids.before(D,50),w=!0;}c.config.getConfig("consentManagement",function(n){return _(n.consentManagement);});},238:function _(n,t,e){e(239),n.exports=e(14).String.includes;},239:function _(n,t,e){"use strict";var o=e(13),a=e(240),i="includes";o(o.P+o.F*e(242)(i),"String",{includes:function includes(n){return!!~a(this,n,i).indexOf(n,1<arguments.length?arguments[1]:void 0);}});},240:function _(n,t,e){var o=e(241),a=e(32);n.exports=function(n,t,e){if(o(t))throw TypeError("String#"+e+" doesn\'t accept regex!");return String(a(n));};},241:function _(n,t,e){var o=e(16),a=e(31),i=e(15)("match");n.exports=function(n){var t;return o(n)&&(void 0!==(t=n[i])?!!t:"RegExp"==a(n));};},242:function _(n,t,e){var o=e(15)("match");n.exports=function(t){var e=/./;try{"/./"[t](e);}catch(n){try{return e[o]=!1,!"/./"[t](e);}catch(n){}}return!0;};}},[236]);pbjsChunk([2],{249:function _(t,e,i){t.exports=i(250);},250:function _(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_require__.d(__webpack_exports__,"FAST_BID_PUBKEY",function(){return FAST_BID_PUBKEY;}),__webpack_require__.d(__webpack_exports__,"spec",function(){return spec;}),__webpack_exports__.cryptoVerify=cryptoVerify;var __WEBPACK_IMPORTED_MODULE_0__src_adloader__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_1__src_adapters_bidderFactory__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_2__src_url__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_3__src_utils__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_4_core_js_library_fn_array_find__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_4_core_js_library_fn_array_find___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_core_js_library_fn_array_find__),__WEBPACK_IMPORTED_MODULE_5_jsencrypt_bin_jsencrypt__=__webpack_require__(251),__WEBPACK_IMPORTED_MODULE_5_jsencrypt_bin_jsencrypt___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_jsencrypt_bin_jsencrypt__),__WEBPACK_IMPORTED_MODULE_6_crypto_js_sha256__=__webpack_require__(252),__WEBPACK_IMPORTED_MODULE_6_crypto_js_sha256___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_crypto_js_sha256__),ADAPTER_VERSION=16,BIDDER_CODE="criteo",CDB_ENDPOINT="//bidder.criteo.com/cdb",CRITEO_VENDOR_ID=91,INTEGRATION_MODES={amp:1},PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,PUBLISHER_TAG_URL="//static.criteo.net/js/ld/publishertag.prebid.js",FAST_BID_PUBKEY="-----BEGIN PUBLIC KEY-----\\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDO1BjAITkFTtP0IMzmF7qsqhpu\\ny1dGaTPHnjMU9mRZsrnfR3C0sEN5pYEzEcFRPnkJjJuhH8Rnh5+CE+LcKg0Z8ZZ7\\nOmOSj0/qnYTAYCu0cR5LiyWG79KlIgUyMbp92ulGg24gAyGrVn4+v/4c53WlOEUp\\n4YWvb82G0CD5NcDNpQIDAQAB\\n-----END PUBLIC KEY-----",spec={code:BIDDER_CODE,isBidRequestValid:function isBidRequestValid(t){return!(!t||!t.params||!t.params.zoneId&&!t.params.networkId);},buildRequests:function buildRequests(t,e){var i,r;if(publisherTagAvailable()||(window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid(),setTimeout(function(){Object(__WEBPACK_IMPORTED_MODULE_0__src_adloader__.a)(PUBLISHER_TAG_URL,BIDDER_CODE);},e.timeout)),publisherTagAvailable()){var n=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,t,e,"2.10.0");i=n.buildCdbUrl(),r=n.buildCdbRequest();}else{var s=buildContext(t);i=buildCdbUrl(s),r=buildCdbRequest(s,t,e);}if(r)return{method:"POST",url:i,data:r,bidRequests:t};},interpretResponse:function interpretResponse(t,n){var e=t.body||t;if(publisherTagAvailable()){var i=Criteo.PubTag.Adapters.Prebid.GetAdapter(n);if(i)return i.interpretResponse(e,n);}var s=[];return e&&e.slots&&__WEBPACK_IMPORTED_MODULE_3__src_utils__.isArray(e.slots)&&e.slots.forEach(function(e){var t=__WEBPACK_IMPORTED_MODULE_4_core_js_library_fn_array_find___default()(n.bidRequests,function(t){return t.adUnitCode===e.impid&&(!t.params.zoneId||parseInt(t.params.zoneId)===e.zoneid);}),i=t.bidId,r={requestId:i,adId:e.bidId||__WEBPACK_IMPORTED_MODULE_3__src_utils__.getUniqueIdentifierStr(),cpm:e.cpm,currency:e.currency,netRevenue:!0,ttl:e.ttl||60,creativeId:i,width:e.width,height:e.height};e["native"]?r.ad=createNativeAd(i,e["native"],t.params.nativeCallback):r.ad=e.creative,s.push(r);}),s;},onTimeout:function onTimeout(t){publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(t.auctionId).handleBidTimeout();},onBidWon:function onBidWon(t){publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(t.auctionId).handleBidWon(t);},onSetTargeting:function onSetTargeting(t){publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(t.auctionId).handleSetTargeting(t);}};function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid;}function buildContext(t){var e=__WEBPACK_IMPORTED_MODULE_3__src_utils__.getTopWindowUrl(),i=Object(__WEBPACK_IMPORTED_MODULE_2__src_url__.c)(e).search,r={url:e,debug:"1"===i.pbt_debug,noLog:"1"===i.pbt_nolog,integrationMode:void 0};return t.forEach(function(t){t.params.integrationMode&&(r.integrationMode=t.params.integrationMode);}),r;}function buildCdbUrl(t){var e=CDB_ENDPOINT;return e+="?profileId="+PROFILE_ID_INLINE,e+="&av="+String(ADAPTER_VERSION),e+="&wv="+encodeURIComponent("2.10.0"),e+="&cb="+String(Math.floor(99999999999*Math.random())),t.integrationMode in INTEGRATION_MODES&&(e+="&im="+INTEGRATION_MODES[t.integrationMode]),t.debug&&(e+="&debug=1"),t.noLog&&(e+="&nolog=1"),e;}function buildCdbRequest(t,e,i){var r,n={publisher:{url:t.url},slots:e.map(function(t){r=t.params.networkId||r;var e={impid:t.adUnitCode,transactionid:t.transactionId,auctionId:t.auctionId,sizes:t.sizes.map(function(t){return t[0]+"x"+t[1];})};return t.params.zoneId&&(e.zoneid=t.params.zoneId),t.params.publisherSubId&&(e.publishersubid=t.params.publisherSubId),t.params.nativeCallback&&(e["native"]=!0),e;})};return r&&(n.publisher.networkid=r),i&&i.gdprConsent&&(n.gdprConsent={},void 0!==i.gdprConsent.gdprApplies&&(n.gdprConsent.gdprApplies=!!i.gdprConsent.gdprApplies),i.gdprConsent.vendorData&&i.gdprConsent.vendorData.vendorConsents&&void 0!==i.gdprConsent.vendorData.vendorConsents[CRITEO_VENDOR_ID.toString(10)]&&(n.gdprConsent.consentGiven=!!i.gdprConsent.vendorData.vendorConsents[CRITEO_VENDOR_ID.toString(10)]),void 0!==i.gdprConsent.consentString&&(n.gdprConsent.consentData=i.gdprConsent.consentString)),n;}function createNativeAd(t,e,i){return window.criteo_prebid_native_slots=window.criteo_prebid_native_slots||{},window.criteo_prebid_native_slots[t]={callback:i,payload:e},\'<script type="text/javascript">\\n    var win = window;\\n    for (var i = 0; i < 10; ++i) {\\n      win = win.parent;\\n      if (win.criteo_prebid_native_slots) {\\n        var responseSlot = win.criteo_prebid_native_slots["\'.concat(t,\'"];\\n        responseSlot.callback(responseSlot.payload);\\n        break;\\n      }\\n    }\\n  <\\/script>\');}function cryptoVerify(t,e,i){var r=new __WEBPACK_IMPORTED_MODULE_5_jsencrypt_bin_jsencrypt___default.a();return r.setPublicKey(t),r.verify(i,e,__WEBPACK_IMPORTED_MODULE_6_crypto_js_sha256___default.a);}function validateFastBid(t){var e=t.indexOf("\\n"),i=t.substr(0,e).trim();if("// Hash: "!==i.substr(0,9))return __WEBPACK_IMPORTED_MODULE_3__src_utils__.logWarn("No hash found in FastBid"),!1;var r=i.substr(9),n=t.substr(e+1);try{return cryptoVerify(FAST_BID_PUBKEY,r,n);}catch(t){return void __WEBPACK_IMPORTED_MODULE_3__src_utils__.logWarn("Failed to verify Criteo FastBid");}}function tryGetCriteoFastBid(){try{var fastBid=localStorage.getItem("criteo_fast_bid");null!==fastBid&&(!1===validateFastBid(fastBid)?(__WEBPACK_IMPORTED_MODULE_3__src_utils__.logWarn("Invalid Criteo FastBid found"),localStorage.removeItem("criteo_fast_bid")):(__WEBPACK_IMPORTED_MODULE_3__src_utils__.logInfo("Using Criteo FastBid"),eval(fastBid)));}catch(t){}}Object(__WEBPACK_IMPORTED_MODULE_1__src_adapters_bidderFactory__.registerBidder)(spec);},251:function _(t,e,i){(function(t){"use strict";var e="0123456789abcdefghijklmnopqrstuvwxyz";function h(t){return e.charAt(t);}function i(t,e){return t&e;}function u(t,e){return t|e;}function r(t,e){return t^e;}function n(t,e){return t&~e;}function s(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e;}function o(t){for(var e=0;0!=t;){t&=t-1,++e;}return e;}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function c(t){var e,i,r="";for(e=0;e+3<=t.length;e+=3){i=parseInt(t.substring(e,e+3),16),r+=a.charAt(i>>6)+a.charAt(63&i);}for(e+1==t.length?(i=parseInt(t.substring(e,e+1),16),r+=a.charAt(i<<2)):e+2==t.length&&(i=parseInt(t.substring(e,e+2),16),r+=a.charAt(i>>2)+a.charAt((3&i)<<4));0<(3&r.length);){r+="=";}return r;}function f(t){var e,i="",r=0,n=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e){var s=a.indexOf(t.charAt(e));s<0||(r=0==r?(i+=h(s>>2),n=3&s,1):1==r?(i+=h(n<<2|s>>4),n=15&s,2):2==r?(i+=h(n),i+=h(s>>2),n=3&s,3):(i+=h(n<<2|s>>4),i+=h(15&s),0));}return 1==r&&(i+=h(n<<2)),i;}var l,_p=function p(t,e){return(_p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var i in e){e.hasOwnProperty(i)&&(t[i]=e[i]);}})(t,e);};var d,g=function g(t){var e;if(void 0===l){var i="0123456789ABCDEF",r=" \\f\\n\\r\\t\\xA0\\u2028\\u2029";for(l={},e=0;e<16;++e){l[i.charAt(e)]=e;}for(i=i.toLowerCase(),e=10;e<16;++e){l[i.charAt(e)]=e;}for(e=0;e<r.length;++e){l[r.charAt(e)]=-1;}}var n=[],s=0,o=0;for(e=0;e<t.length;++e){var a=t.charAt(e);if("="==a)break;if(-1!=(a=l[a])){if(void 0===a)throw new Error("Illegal character at offset "+e);s|=a,2<=++o?(n[n.length]=s,o=s=0):s<<=4;}}if(o)throw new Error("Hex encoding incomplete: 4 bits missing");return n;},v={decode:function decode(t){var e;if(void 0===d){var i="= \\f\\n\\r\\t\\xA0\\u2028\\u2029";for(d=Object.create(null),e=0;e<64;++e){d["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)]=e;}for(e=0;e<i.length;++e){d[i.charAt(e)]=-1;}}var r=[],n=0,s=0;for(e=0;e<t.length;++e){var o=t.charAt(e);if("="==o)break;if(-1!=(o=d[o])){if(void 0===o)throw new Error("Illegal character at offset "+e);n|=o,4<=++s?(r[r.length]=n>>16,r[r.length]=n>>8&255,r[r.length]=255&n,s=n=0):n<<=6;}}switch(s){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:r[r.length]=n>>10;break;case 3:r[r.length]=n>>16,r[r.length]=n>>8&255;}return r;},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\\/=\\s]+)-----END [^-]+-----|begin-base64[^\\n]+\\n([A-Za-z0-9+\\/=\\s]+)====/,unarmor:function unarmor(t){var e=v.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw new Error("RegExp out of sync");t=e[2];}return v.decode(t);}},_=1e13,y=function(){function t(t){this.buf=[+t||0];}return t.prototype.mulAdd=function(t,e){var i,r,n=this.buf,s=n.length;for(i=0;i<s;++i){(r=n[i]*t+e)<_?e=0:r-=(e=0|r/_)*_,n[i]=r;}0<e&&(n[i]=e);},t.prototype.sub=function(t){var e,i,r=this.buf,n=r.length;for(e=0;e<n;++e){t=(i=r[e]-t)<0?(i+=_,1):0,r[e]=i;}for(;0===r[r.length-1];){r.pop();}},t.prototype.toString=function(t){if(10!=(t||10))throw new Error("only base 10 is supported");for(var e=this.buf,i=e[e.length-1].toString(),r=e.length-2;0<=r;--r){i+=(_+e[r]).toString().substring(1);}return i;},t.prototype.valueOf=function(){for(var t=this.buf,e=0,i=t.length-1;0<=i;--i){e=e*_+t[i];}return e;},t.prototype.simplify=function(){var t=this.buf;return 1==t.length?t[0]:this;},t;}(),m="",b=/^(\\d\\d)(0[1-9]|1[0-2])(0[1-9]|[12]\\d|3[01])([01]\\d|2[0-3])(?:([0-5]\\d)(?:([0-5]\\d)(?:[.,](\\d{1,3}))?)?)?(Z|[-+](?:[0]\\d|1[0-2])([0-5]\\d)?)?$/,E=/^(\\d\\d\\d\\d)(0[1-9]|1[0-2])(0[1-9]|[12]\\d|3[01])([01]\\d|2[0-3])(?:([0-5]\\d)(?:([0-5]\\d)(?:[.,](\\d{1,3}))?)?)?(Z|[-+](?:[0]\\d|1[0-2])([0-5]\\d)?)?$/;function T(t,e){return t.length>e&&(t=t.substring(0,e)+m),t;}var S,D=function(){function i(t,e){this.hexDigits="0123456789ABCDEF",t instanceof i?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=e);}return i.prototype.get=function(t){if(void 0===t&&(t=this.pos++),t>=this.enc.length)throw new Error("Requesting byte offset "+t+" on a stream of length "+this.enc.length);return"string"==typeof this.enc?this.enc.charCodeAt(t):this.enc[t];},i.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t);},i.prototype.hexDump=function(t,e,i){for(var r="",n=t;n<e;++n){if(r+=this.hexByte(this.get(n)),!0!==i)switch(15&n){case 7:r+="  ";break;case 15:r+="\\n";break;default:r+=" ";}}return r;},i.prototype.isASCII=function(t,e){for(var i=t;i<e;++i){var r=this.get(i);if(r<32||176<r)return!1;}return!0;},i.prototype.parseStringISO=function(t,e){for(var i="",r=t;r<e;++r){i+=String.fromCharCode(this.get(r));}return i;},i.prototype.parseStringUTF=function(t,e){for(var i="",r=t;r<e;){var n=this.get(r++);i+=n<128?String.fromCharCode(n):191<n&&n<224?String.fromCharCode((31&n)<<6|63&this.get(r++)):String.fromCharCode((15&n)<<12|(63&this.get(r++))<<6|63&this.get(r++));}return i;},i.prototype.parseStringBMP=function(t,e){for(var i,r,n="",s=t;s<e;){i=this.get(s++),r=this.get(s++),n+=String.fromCharCode(i<<8|r);}return n;},i.prototype.parseTime=function(t,e,i){var r=this.parseStringISO(t,e),n=(i?b:E).exec(r);return n?(i&&(n[1]=+n[1],n[1]+=+n[1]<70?2e3:1900),r=n[1]+"-"+n[2]+"-"+n[3]+" "+n[4],n[5]&&(r+=":"+n[5],n[6]&&(r+=":"+n[6],n[7]&&(r+="."+n[7]))),n[8]&&(r+=" UTC","Z"!=n[8]&&(r+=n[8],n[9]&&(r+=":"+n[9]))),r):"Unrecognized time: "+r;},i.prototype.parseInteger=function(t,e){for(var i,r=this.get(t),n=127<r,s=n?255:0,o="";r==s&&++t<e;){r=this.get(t);}if(0===(i=e-t))return n?-1:0;if(4<i){for(o=r,i<<=3;0==(128&(+o^s));){o=+o<<1,--i;}o="("+i+" bit)\\n";}n&&(r-=256);for(var a=new y(r),h=t+1;h<e;++h){a.mulAdd(256,this.get(h));}return o+a.toString();},i.prototype.parseBitString=function(t,e,i){for(var r=this.get(t),n="("+((e-t-1<<3)-r)+" bit)\\n",s="",o=t+1;o<e;++o){for(var a=this.get(o),h=o==e-1?r:0,u=7;h<=u;--u){s+=a>>u&1?"1":"0";}if(s.length>i)return n+T(s,i);}return n+s;},i.prototype.parseOctetString=function(t,e,i){if(this.isASCII(t,e))return T(this.parseStringISO(t,e),i);var r=e-t,n="("+r+" byte)\\n";(i/=2)<r&&(e=t+i);for(var s=t;s<e;++s){n+=this.hexByte(this.get(s));}return i<r&&(n+=m),n;},i.prototype.parseOID=function(t,e,i){for(var r="",n=new y(),s=0,o=t;o<e;++o){var a=this.get(o);if(n.mulAdd(128,127&a),s+=7,!(128&a)){if(""===r){if((n=n.simplify())instanceof y)n.sub(80),r="2."+n.toString();else{var h=n<80?n<40?0:1:2;r=h+"."+(n-40*h);}}else r+="."+n.toString();if(r.length>i)return T(r,i);n=new y(),s=0;}}return 0<s&&(r+=".incomplete"),r;},i;}(),w=function(){function c(t,e,i,r,n){if(!(r instanceof B))throw new Error("Invalid tag value.");this.stream=t,this.header=e,this.length=i,this.tag=r,this.sub=n;}return c.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString();}},c.prototype.content=function(t){if(void 0===this.tag)return null;void 0===t&&(t=1/0);var e=this.posContent(),i=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+i,t);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(e)?"false":"true";case 2:return this.stream.parseInteger(e,e+i);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(e,e+i,t);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+i,t);case 6:return this.stream.parseOID(e,e+i,t);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return T(this.stream.parseStringUTF(e,e+i),t);case 18:case 19:case 20:case 21:case 22:case 26:return T(this.stream.parseStringISO(e,e+i),t);case 30:return T(this.stream.parseStringBMP(e,e+i),t);case 23:case 24:return this.stream.parseTime(e,e+i,23==this.tag.tagNumber);}return null;},c.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]";},c.prototype.toPrettyString=function(t){void 0===t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(0<=this.length&&(e+="+"),e+=this.length,this.tag.tagConstructed?e+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(e+=" (encapsulates)"),e+="\\n",null!==this.sub){t+="  ";for(var i=0,r=this.sub.length;i<r;++i){e+=this.sub[i].toPrettyString(t);}}return e;},c.prototype.posStart=function(){return this.stream.pos;},c.prototype.posContent=function(){return this.stream.pos+this.header;},c.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length);},c.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0);},c.decodeLength=function(t){var e=t.get(),i=127&e;if(i==e)return i;if(6<i)throw new Error("Length over 48 bits not supported at position "+(t.pos-1));if(0==i)return null;for(var r=e=0;r<i;++r){e=256*e+t.get();}return e;},c.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,i=2*this.length;return t.substr(e,i);},c.decode=function(t){var r;r=t instanceof D?t:new D(t,0);var e=new D(r),i=new B(r),n=c.decodeLength(r),s=r.pos,o=s-e.pos,a=null,h=function h(){var t=[];if(null!==n){for(var e=s+n;r.pos<e;){t[t.length]=c.decode(r);}if(r.pos!=e)throw new Error("Content size is not correct for container starting at offset "+s);}else try{for(;;){var i=c.decode(r);if(i.tag.isEOC())break;t[t.length]=i;}n=s-r.pos;}catch(t){throw new Error("Exception while decoding undefined length content: "+t);}return t;};if(i.tagConstructed)a=h();else if(i.isUniversal()&&(3==i.tagNumber||4==i.tagNumber))try{if(3==i.tagNumber&&0!=r.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");a=h();for(var u=0;u<a.length;++u){if(a[u].tag.isEOC())throw new Error("EOC is not supposed to be actual content.");}}catch(t){a=null;}if(null===a){if(null===n)throw new Error("We can\'t skip over an invalid tag with undefined length at offset "+s);r.pos=s+Math.abs(n);}return new c(e,o,n,i,a);},c;}(),B=function(){function t(t){var e=t.get();if(this.tagClass=e>>6,this.tagConstructed=0!=(32&e),this.tagNumber=31&e,31==this.tagNumber){for(var i=new y();e=t.get(),i.mulAdd(128,127&e),128&e;){;}this.tagNumber=i.simplify();}}return t.prototype.isUniversal=function(){return 0===this.tagClass;},t.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber;},t;}(),R=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],O=(1<<26)/R[R.length-1],I=function(){function m(t,e,i){null!=t&&("number"==typeof t?this.fromNumber(t,e,i):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e));}return m.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2;}var i,r=(1<<e)-1,n=!1,s="",o=this.t,a=this.DB-o*this.DB%e;if(0<o--)for(a<this.DB&&0<(i=this[o]>>a)&&(n=!0,s=h(i));0<=o;){a<e?(i=(this[o]&(1<<a)-1)<<e-a,i|=this[--o]>>(a+=this.DB-e)):(i=this[o]>>(a-=e)&r,a<=0&&(a+=this.DB,--o)),0<i&&(n=!0),n&&(s+=h(i));}return n?s:"0";},m.prototype.negate=function(){var t=C();return m.ZERO.subTo(this,t),t;},m.prototype.abs=function(){return this.s<0?this.negate():this;},m.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var i=this.t;if(0!=(e=i-t.t))return this.s<0?-e:e;for(;0<=--i;){if(0!=(e=this[i]-t[i]))return e;}return 0;},m.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+H(this[this.t-1]^this.s&this.DM);},m.prototype.mod=function(t){var e=C();return this.abs().divRemTo(t,null,e),this.s<0&&0<e.compareTo(m.ZERO)&&t.subTo(e,e),e;},m.prototype.modPowInt=function(t,e){var i;return i=t<256||e.isEven()?new x(e):new P(e),this.exp(t,i);},m.prototype.clone=function(){var t=C();return this.copyTo(t),t;},m.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1;}else{if(1==this.t)return this[0];if(0==this.t)return 0;}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0];},m.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24;},m.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16;},m.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1;},m.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var i,r=this.DB-t*this.DB%8,n=0;if(0<t--)for(r<this.DB&&(i=this[t]>>r)!=(this.s&this.DM)>>r&&(e[n++]=i|this.s<<this.DB-r);0<=t;){r<8?(i=(this[t]&(1<<r)-1)<<8-r,i|=this[--t]>>(r+=this.DB-8)):(i=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&i)&&(i|=-256),0==n&&(128&this.s)!=(128&i)&&++n,(0<n||i!=this.s)&&(e[n++]=i);}return e;},m.prototype.equals=function(t){return 0==this.compareTo(t);},m.prototype.min=function(t){return this.compareTo(t)<0?this:t;},m.prototype.max=function(t){return 0<this.compareTo(t)?this:t;},m.prototype.and=function(t){var e=C();return this.bitwiseTo(t,i,e),e;},m.prototype.or=function(t){var e=C();return this.bitwiseTo(t,u,e),e;},m.prototype.xor=function(t){var e=C();return this.bitwiseTo(t,r,e),e;},m.prototype.andNot=function(t){var e=C();return this.bitwiseTo(t,n,e),e;},m.prototype.not=function(){for(var t=C(),e=0;e<this.t;++e){t[e]=this.DM&~this[e];}return t.t=this.t,t.s=~this.s,t;},m.prototype.shiftLeft=function(t){var e=C();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e;},m.prototype.shiftRight=function(t){var e=C();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e;},m.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t){if(0!=this[t])return t*this.DB+s(this[t]);}return this.s<0?this.t*this.DB:-1;},m.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,i=0;i<this.t;++i){t+=o(this[i]^e);}return t;},m.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB);},m.prototype.setBit=function(t){return this.changeBit(t,u);},m.prototype.clearBit=function(t){return this.changeBit(t,n);},m.prototype.flipBit=function(t){return this.changeBit(t,r);},m.prototype.add=function(t){var e=C();return this.addTo(t,e),e;},m.prototype.subtract=function(t){var e=C();return this.subTo(t,e),e;},m.prototype.multiply=function(t){var e=C();return this.multiplyTo(t,e),e;},m.prototype.divide=function(t){var e=C();return this.divRemTo(t,e,null),e;},m.prototype.remainder=function(t){var e=C();return this.divRemTo(t,null,e),e;},m.prototype.divideAndRemainder=function(t){var e=C(),i=C();return this.divRemTo(t,e,i),[e,i];},m.prototype.modPow=function(t,e){var i,r,n=t.bitLength(),s=U(1);if(n<=0)return s;i=n<18?1:n<48?3:n<144?4:n<768?5:6,r=n<8?new x(e):e.isEven()?new M(e):new P(e);var o=[],a=3,h=i-1,u=(1<<i)-1;if(o[1]=r.convert(this),1<i){var c=C();for(r.sqrTo(o[1],c);a<=u;){o[a]=C(),r.mulTo(c,o[a-2],o[a]),a+=2;}}var f,l,p=t.t-1,d=!0,g=C();for(n=H(t[p])-1;0<=p;){for(h<=n?f=t[p]>>n-h&u:(f=(t[p]&(1<<n+1)-1)<<h-n,0<p&&(f|=t[p-1]>>this.DB+n-h)),a=i;0==(1&f);){f>>=1,--a;}if((n-=a)<0&&(n+=this.DB,--p),d)o[f].copyTo(s),d=!1;else{for(;1<a;){r.sqrTo(s,g),r.sqrTo(g,s),a-=2;}0<a?r.sqrTo(s,g):(l=s,s=g,g=l),r.mulTo(g,o[f],s);}for(;0<=p&&0==(t[p]&1<<n);){r.sqrTo(s,g),l=s,s=g,g=l,--n<0&&(n=this.DB-1,--p);}}return r.revert(s);},m.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return m.ZERO;for(var i=t.clone(),r=this.clone(),n=U(1),s=U(0),o=U(0),a=U(1);0!=i.signum();){for(;i.isEven();){i.rShiftTo(1,i),e?(n.isEven()&&s.isEven()||(n.addTo(this,n),s.subTo(t,s)),n.rShiftTo(1,n)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);}for(;r.isEven();){r.rShiftTo(1,r),e?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);}0<=i.compareTo(r)?(i.subTo(r,i),e&&n.subTo(o,n),s.subTo(a,s)):(r.subTo(i,r),e&&o.subTo(n,o),a.subTo(s,a));}return 0!=r.compareTo(m.ONE)?m.ZERO:0<=a.compareTo(t)?a.subtract(t):a.signum()<0?(a.addTo(t,a),a.signum()<0?a.add(t):a):a;},m.prototype.pow=function(t){return this.exp(t,new A());},m.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();if(e.compareTo(i)<0){var r=e;e=i,i=r;}var n=e.getLowestSetBit(),s=i.getLowestSetBit();if(s<0)return e;for(n<s&&(s=n),0<s&&(e.rShiftTo(s,e),i.rShiftTo(s,i));0<e.signum();){0<(n=e.getLowestSetBit())&&e.rShiftTo(n,e),0<(n=i.getLowestSetBit())&&i.rShiftTo(n,i),0<=e.compareTo(i)?(e.subTo(i,e),e.rShiftTo(1,e)):(i.subTo(e,i),i.rShiftTo(1,i));}return 0<s&&i.lShiftTo(s,i),i;},m.prototype.isProbablePrime=function(t){var e,i=this.abs();if(1==i.t&&i[0]<=R[R.length-1]){for(e=0;e<R.length;++e){if(i[0]==R[e])return!0;}return!1;}if(i.isEven())return!1;for(e=1;e<R.length;){for(var r=R[e],n=e+1;n<R.length&&r<O;){r*=R[n++];}for(r=i.modInt(r);e<n;){if(r%R[e++]==0)return!1;}}return i.millerRabin(t);},m.prototype.copyTo=function(t){for(var e=this.t-1;0<=e;--e){t[e]=this[e];}t.t=this.t,t.s=this.s;},m.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,0<t?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0;},m.prototype.fromString=function(t,e){var i;if(16==e)i=4;else if(8==e)i=3;else if(256==e)i=8;else if(2==e)i=1;else if(32==e)i=5;else{if(4!=e)return void this.fromRadix(t,e);i=2;}this.t=0,this.s=0;for(var r=t.length,n=!1,s=0;0<=--r;){var o=8==i?255&+t[r]:j(t,r);o<0?"-"==t.charAt(r)&&(n=!0):(n=!1,0==s?this[this.t++]=o:s+i>this.DB?(this[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this[this.t++]=o>>this.DB-s):this[this.t-1]|=o<<s,(s+=i)>=this.DB&&(s-=this.DB));}8==i&&0!=(128&+t[0])&&(this.s=-1,0<s&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),n&&m.ZERO.subTo(this,this);},m.prototype.clamp=function(){for(var t=this.s&this.DM;0<this.t&&this[this.t-1]==t;){--this.t;}},m.prototype.dlShiftTo=function(t,e){var i;for(i=this.t-1;0<=i;--i){e[i+t]=this[i];}for(i=t-1;0<=i;--i){e[i]=0;}e.t=this.t+t,e.s=this.s;},m.prototype.drShiftTo=function(t,e){for(var i=t;i<this.t;++i){e[i-t]=this[i];}e.t=Math.max(this.t-t,0),e.s=this.s;},m.prototype.lShiftTo=function(t,e){for(var i=t%this.DB,r=this.DB-i,n=(1<<r)-1,s=Math.floor(t/this.DB),o=this.s<<i&this.DM,a=this.t-1;0<=a;--a){e[a+s+1]=this[a]>>r|o,o=(this[a]&n)<<i;}for(a=s-1;0<=a;--a){e[a]=0;}e[s]=o,e.t=this.t+s+1,e.s=this.s,e.clamp();},m.prototype.rShiftTo=function(t,e){e.s=this.s;var i=Math.floor(t/this.DB);if(i>=this.t)e.t=0;else{var r=t%this.DB,n=this.DB-r,s=(1<<r)-1;e[0]=this[i]>>r;for(var o=i+1;o<this.t;++o){e[o-i-1]|=(this[o]&s)<<n,e[o-i]=this[o]>>r;}0<r&&(e[this.t-i-1]|=(this.s&s)<<n),e.t=this.t-i,e.clamp();}},m.prototype.subTo=function(t,e){for(var i=0,r=0,n=Math.min(t.t,this.t);i<n;){r+=this[i]-t[i],e[i++]=r&this.DM,r>>=this.DB;}if(t.t<this.t){for(r-=t.s;i<this.t;){r+=this[i],e[i++]=r&this.DM,r>>=this.DB;}r+=this.s;}else{for(r+=this.s;i<t.t;){r-=t[i],e[i++]=r&this.DM,r>>=this.DB;}r-=t.s;}e.s=r<0?-1:0,r<-1?e[i++]=this.DV+r:0<r&&(e[i++]=r),e.t=i,e.clamp();},m.prototype.multiplyTo=function(t,e){var i=this.abs(),r=t.abs(),n=i.t;for(e.t=n+r.t;0<=--n;){e[n]=0;}for(n=0;n<r.t;++n){e[n+i.t]=i.am(0,r[n],e,n,0,i.t);}e.s=0,e.clamp(),this.s!=t.s&&m.ZERO.subTo(e,e);},m.prototype.squareTo=function(t){for(var e=this.abs(),i=t.t=2*e.t;0<=--i;){t[i]=0;}for(i=0;i<e.t-1;++i){var r=e.am(i,e[i],t,2*i,0,1);(t[i+e.t]+=e.am(i+1,2*e[i],t,2*i+1,r,e.t-i-1))>=e.DV&&(t[i+e.t]-=e.DV,t[i+e.t+1]=1);}0<t.t&&(t[t.t-1]+=e.am(i,e[i],t,2*i,0,1)),t.s=0,t.clamp();},m.prototype.divRemTo=function(t,e,i){var r=t.abs();if(!(r.t<=0)){var n=this.abs();if(n.t<r.t)return null!=e&&e.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=C());var s=C(),o=this.s,a=t.s,h=this.DB-H(r[r.t-1]);0<h?(r.lShiftTo(h,s),n.lShiftTo(h,i)):(r.copyTo(s),n.copyTo(i));var u=s.t,c=s[u-1];if(0!=c){var f=c*(1<<this.F1)+(1<u?s[u-2]>>this.F2:0),l=this.FV/f,p=(1<<this.F1)/f,d=1<<this.F2,g=i.t,v=g-u,_=null==e?C():e;for(s.dlShiftTo(v,_),0<=i.compareTo(_)&&(i[i.t++]=1,i.subTo(_,i)),m.ONE.dlShiftTo(u,_),_.subTo(s,s);s.t<u;){s[s.t++]=0;}for(;0<=--v;){var y=i[--g]==c?this.DM:Math.floor(i[g]*l+(i[g-1]+d)*p);if((i[g]+=s.am(0,y,i,v,0,u))<y)for(s.dlShiftTo(v,_),i.subTo(_,i);i[g]<--y;){i.subTo(_,i);}}null!=e&&(i.drShiftTo(u,e),o!=a&&m.ZERO.subTo(e,e)),i.t=u,i.clamp(),0<h&&i.rShiftTo(h,i),o<0&&m.ZERO.subTo(i,i);}}},m.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return 0<(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)?this.DV-e:-e;},m.prototype.isEven=function(){return 0==(0<this.t?1&this[0]:this.s);},m.prototype.exp=function(t,e){if(4294967295<t||t<1)return m.ONE;var i=C(),r=C(),n=e.convert(this),s=H(t)-1;for(n.copyTo(i);0<=--s;){if(e.sqrTo(i,r),0<(t&1<<s))e.mulTo(r,n,i);else{var o=i;i=r,r=o;}}return e.revert(i);},m.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t));},m.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||36<t)return"0";var e=this.chunkSize(t),i=Math.pow(t,e),r=U(i),n=C(),s=C(),o="";for(this.divRemTo(r,n,s);0<n.signum();){o=(i+s.intValue()).toString(t).substr(1)+o,n.divRemTo(r,n,s);}return s.intValue().toString(t)+o;},m.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var i=this.chunkSize(e),r=Math.pow(e,i),n=!1,s=0,o=0,a=0;a<t.length;++a){var h=j(t,a);h<0?"-"==t.charAt(a)&&0==this.signum()&&(n=!0):(o=e*o+h,++s>=i&&(this.dMultiply(r),this.dAddOffset(o,0),o=s=0));}0<s&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(o,0)),n&&m.ZERO.subTo(this,this);},m.prototype.fromNumber=function(t,e,i){if("number"==typeof e){if(t<2)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(m.ONE.shiftLeft(t-1),u,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);){this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(m.ONE.shiftLeft(t-1),this);}}else{var r=[],n=7&t;r.length=1+(t>>3),e.nextBytes(r),0<n?r[0]&=(1<<n)-1:r[0]=0,this.fromString(r,256);}},m.prototype.bitwiseTo=function(t,e,i){var r,n,s=Math.min(t.t,this.t);for(r=0;r<s;++r){i[r]=e(this[r],t[r]);}if(t.t<this.t){for(n=t.s&this.DM,r=s;r<this.t;++r){i[r]=e(this[r],n);}i.t=this.t;}else{for(n=this.s&this.DM,r=s;r<t.t;++r){i[r]=e(n,t[r]);}i.t=t.t;}i.s=e(this.s,t.s),i.clamp();},m.prototype.changeBit=function(t,e){var i=m.ONE.shiftLeft(t);return this.bitwiseTo(i,e,i),i;},m.prototype.addTo=function(t,e){for(var i=0,r=0,n=Math.min(t.t,this.t);i<n;){r+=this[i]+t[i],e[i++]=r&this.DM,r>>=this.DB;}if(t.t<this.t){for(r+=t.s;i<this.t;){r+=this[i],e[i++]=r&this.DM,r>>=this.DB;}r+=this.s;}else{for(r+=this.s;i<t.t;){r+=t[i],e[i++]=r&this.DM,r>>=this.DB;}r+=t.s;}e.s=r<0?-1:0,0<r?e[i++]=r:r<-1&&(e[i++]=this.DV+r),e.t=i,e.clamp();},m.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp();},m.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;){this[this.t++]=0;}for(this[e]+=t;this[e]>=this.DV;){this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e];}}},m.prototype.multiplyLowerTo=function(t,e,i){var r=Math.min(this.t+t.t,e);for(i.s=0,i.t=r;0<r;){i[--r]=0;}for(var n=i.t-this.t;r<n;++r){i[r+this.t]=this.am(0,t[r],i,r,0,this.t);}for(n=Math.min(t.t,e);r<n;++r){this.am(0,t[r],i,r,0,e-r);}i.clamp();},m.prototype.multiplyUpperTo=function(t,e,i){--e;var r=i.t=this.t+t.t-e;for(i.s=0;0<=--r;){i[r]=0;}for(r=Math.max(e-this.t,0);r<t.t;++r){i[this.t+r-e]=this.am(e-r,t[r],i,0,0,this.t+r-e);}i.clamp(),i.drShiftTo(1,i);},m.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,i=this.s<0?t-1:0;if(0<this.t)if(0==e)i=this[0]%t;else for(var r=this.t-1;0<=r;--r){i=(e*i+this[r])%t;}return i;},m.prototype.millerRabin=function(t){var e=this.subtract(m.ONE),i=e.getLowestSetBit();if(i<=0)return!1;var r=e.shiftRight(i);R.length<(t=t+1>>1)&&(t=R.length);for(var n=C(),s=0;s<t;++s){n.fromInt(R[Math.floor(Math.random()*R.length)]);var o=n.modPow(r,this);if(0!=o.compareTo(m.ONE)&&0!=o.compareTo(e)){for(var a=1;a++<i&&0!=o.compareTo(e);){if(0==(o=o.modPowInt(2,this)).compareTo(m.ONE))return!1;}if(0!=o.compareTo(e))return!1;}}return!0;},m.prototype.square=function(){var t=C();return this.squareTo(t),t;},m.prototype.gcda=function(t,e){var i=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(i.compareTo(r)<0){var n=i;i=r,r=n;}var s=i.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)e(i);else{s<o&&(o=s),0<o&&(i.rShiftTo(o,i),r.rShiftTo(o,r));var a=function a(){0<(s=i.getLowestSetBit())&&i.rShiftTo(s,i),0<(s=r.getLowestSetBit())&&r.rShiftTo(s,r),0<=i.compareTo(r)?(i.subTo(r,i),i.rShiftTo(1,i)):(r.subTo(i,r),r.rShiftTo(1,r)),0<i.signum()?setTimeout(a,0):(0<o&&r.lShiftTo(o,r),setTimeout(function(){e(r);},0));};setTimeout(a,10);}},m.prototype.fromNumberAsync=function(t,e,i,r){if("number"==typeof e){if(t<2)this.fromInt(1);else{this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(m.ONE.shiftLeft(t-1),u,this),this.isEven()&&this.dAddOffset(1,0);var n=this,s=function s(){n.dAddOffset(2,0),n.bitLength()>t&&n.subTo(m.ONE.shiftLeft(t-1),n),n.isProbablePrime(e)?setTimeout(function(){r();},0):setTimeout(s,0);};setTimeout(s,0);}}else{var o=[],a=7&t;o.length=1+(t>>3),e.nextBytes(o),0<a?o[0]&=(1<<a)-1:o[0]=0,this.fromString(o,256);}},m;}(),A=function(){function t(){}return t.prototype.convert=function(t){return t;},t.prototype.revert=function(t){return t;},t.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i);},t.prototype.sqrTo=function(t,e){t.squareTo(e);},t;}(),x=function(){function t(t){this.m=t;}return t.prototype.convert=function(t){return t.s<0||0<=t.compareTo(this.m)?t.mod(this.m):t;},t.prototype.revert=function(t){return t;},t.prototype.reduce=function(t){t.divRemTo(this.m,null,t);},t.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i);},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e);},t;}(),P=function(){function t(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t;}return t.prototype.convert=function(t){var e=C();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&0<e.compareTo(I.ZERO)&&this.m.subTo(e,e),e;},t.prototype.revert=function(t){var e=C();return t.copyTo(e),this.reduce(e),e;},t.prototype.reduce=function(t){for(;t.t<=this.mt2;){t[t.t++]=0;}for(var e=0;e<this.m.t;++e){var i=32767&t[e],r=i*this.mpl+((i*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[i=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[i]>=t.DV;){t[i]-=t.DV,t[++i]++;}}t.clamp(),t.drShiftTo(this.m.t,t),0<=t.compareTo(this.m)&&t.subTo(this.m,t);},t.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i);},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e);},t;}(),M=function(){function t(t){this.m=t,this.r2=C(),this.q3=C(),I.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t);}return t.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=C();return t.copyTo(e),this.reduce(e),e;},t.prototype.revert=function(t){return t;},t.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;){t.dAddOffset(1,this.m.t+1);}for(t.subTo(this.r2,t);0<=t.compareTo(this.m);){t.subTo(this.m,t);}},t.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i);},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e);},t;}();function C(){return new I(null);}function V(t,e){return new I(t,e);}S="Microsoft Internet Explorer"==navigator.appName?(I.prototype.am=function(t,e,i,r,n,s){for(var o=32767&e,a=e>>15;0<=--s;){var h=32767&this[t],u=this[t++]>>15,c=a*h+u*o;n=((h=o*h+((32767&c)<<15)+i[r]+(1073741823&n))>>>30)+(c>>>15)+a*u+(n>>>30),i[r++]=1073741823&h;}return n;},30):"Netscape"!=navigator.appName?(I.prototype.am=function(t,e,i,r,n,s){for(;0<=--s;){var o=e*this[t++]+i[r]+n;n=Math.floor(o/67108864),i[r++]=67108863&o;}return n;},26):(I.prototype.am=function(t,e,i,r,n,s){for(var o=16383&e,a=e>>14;0<=--s;){var h=16383&this[t],u=this[t++]>>14,c=a*h+u*o;n=((h=o*h+((16383&c)<<14)+i[r]+n)>>28)+(c>>14)+a*u,i[r++]=268435455&h;}return n;},28),I.prototype.DB=S,I.prototype.DM=(1<<S)-1,I.prototype.DV=1<<S;I.prototype.FV=Math.pow(2,52),I.prototype.F1=52-S,I.prototype.F2=2*S-52;var N,L,q=[];for(N="0".charCodeAt(0),L=0;L<=9;++L){q[N++]=L;}for(N="a".charCodeAt(0),L=10;L<36;++L){q[N++]=L;}for(N="A".charCodeAt(0),L=10;L<36;++L){q[N++]=L;}function j(t,e){var i=q[t.charCodeAt(e)];return null==i?-1:i;}function U(t){var e=C();return e.fromInt(t),e;}function H(t){var e,i=1;return 0!=(e=t>>>16)&&(t=e,i+=16),0!=(e=t>>8)&&(t=e,i+=8),0!=(e=t>>4)&&(t=e,i+=4),0!=(e=t>>2)&&(t=e,i+=2),0!=(e=t>>1)&&(t=e,i+=1),i;}I.ZERO=U(0),I.ONE=U(1);var K=function(){function t(){this.i=0,this.j=0,this.S=[];}return t.prototype.init=function(t){var e,i,r;for(e=0;e<256;++e){this.S[e]=e;}for(e=i=0;e<256;++e){i=i+this.S[e]+t[e%t.length]&255,r=this.S[e],this.S[e]=this.S[i],this.S[i]=r;}this.i=0,this.j=0;},t.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255];},t;}();var F,k,z=256,G=null;if(null==G){G=[];var W=void(k=0);if(window.crypto&&window.crypto.getRandomValues){var Z=new Uint32Array(256);for(window.crypto.getRandomValues(Z),W=0;W<Z.length;++W){G[k++]=255&Z[W];}}var Y=function Y(t){if(this.count=this.count||0,256<=this.count||z<=k)window.removeEventListener?window.removeEventListener("mousemove",Y,!1):window.detachEvent&&window.detachEvent("onmousemove",Y);else try{var e=t.x+t.y;G[k++]=255&e,this.count+=1;}catch(t){}};window.addEventListener?window.addEventListener("mousemove",Y,!1):window.attachEvent&&window.attachEvent("onmousemove",Y);}function $(){if(null==F){for(F=new K();k<z;){var t=Math.floor(65536*Math.random());G[k++]=255&t;}for(F.init(G),k=0;k<G.length;++k){G[k]=0;}k=0;}return F.next();}var Q=function(){function t(){}return t.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e){t[e]=$();}},t;}();var J=function(){function t(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null;}return t.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n);},t.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),i=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(i)<0;){e=e.add(this.p);}return e.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i);},t.prototype.setPublic=function(t,e){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=V(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key");},t.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)return console.error("Message too long for RSA"),null;for(var i=[],r=t.length-1;0<=r&&0<e;){var n=t.charCodeAt(r--);n<128?i[--e]=n:127<n&&n<2048?(i[--e]=63&n|128,i[--e]=n>>6|192):(i[--e]=63&n|128,i[--e]=n>>6&63|128,i[--e]=n>>12|224);}i[--e]=0;for(var s=new Q(),o=[];2<e;){for(o[0]=0;0==o[0];){s.nextBytes(o);}i[--e]=o[0];}return i[--e]=2,i[--e]=0,new I(i);}(t,this.n.bitLength()+7>>3);if(null==e)return null;var i=this.doPublic(e);if(null==i)return null;var r=i.toString(16);return 0==(1&r.length)?r:"0"+r;},t.prototype.setPrivate=function(t,e,i){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=V(t,16),this.e=parseInt(e,16),this.d=V(i,16)):console.error("Invalid RSA private key");},t.prototype.setPrivateEx=function(t,e,i,r,n,s,o,a){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=V(t,16),this.e=parseInt(e,16),this.d=V(i,16),this.p=V(r,16),this.q=V(n,16),this.dmp1=V(s,16),this.dmq1=V(o,16),this.coeff=V(a,16)):console.error("Invalid RSA private key");},t.prototype.generate=function(t,e){var i=new Q(),r=t>>1;this.e=parseInt(e,16);for(var n=new I(e,16);;){for(;this.p=new I(t-r,1,i),0!=this.p.subtract(I.ONE).gcd(n).compareTo(I.ONE)||!this.p.isProbablePrime(10);){;}for(;this.q=new I(r,1,i),0!=this.q.subtract(I.ONE).gcd(n).compareTo(I.ONE)||!this.q.isProbablePrime(10);){;}if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s;}var o=this.p.subtract(I.ONE),a=this.q.subtract(I.ONE),h=o.multiply(a);if(0==h.gcd(n).compareTo(I.ONE)){this.n=this.p.multiply(this.q),this.d=n.modInverse(h),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break;}}},t.prototype.decrypt=function(t){var e=V(t,16),i=this.doPrivate(e);return null==i?null:function(t,e){var i=t.toByteArray(),r=0;for(;r<i.length&&0==i[r];){++r;}if(i.length-r!=e-1||2!=i[r])return null;++r;for(;0!=i[r];){if(++r>=i.length)return null;}var n="";for(;++r<i.length;){var s=255&i[r];s<128?n+=String.fromCharCode(s):191<s&&s<224?(n+=String.fromCharCode((31&s)<<6|63&i[r+1]),++r):(n+=String.fromCharCode((15&s)<<12|(63&i[r+1])<<6|63&i[r+2]),r+=2);}return n;}(i,this.n.bitLength()+7>>3);},t.prototype.generateAsync=function(t,e,n){var s=new Q(),o=t>>1;this.e=parseInt(e,16);var a=new I(e,16),h=this,u=function u(){var e=function e(){if(h.p.compareTo(h.q)<=0){var t=h.p;h.p=h.q,h.q=t;}var e=h.p.subtract(I.ONE),i=h.q.subtract(I.ONE),r=e.multiply(i);0==r.gcd(a).compareTo(I.ONE)?(h.n=h.p.multiply(h.q),h.d=a.modInverse(r),h.dmp1=h.d.mod(e),h.dmq1=h.d.mod(i),h.coeff=h.q.modInverse(h.p),setTimeout(function(){n();},0)):setTimeout(u,0);},i=function i(){h.q=C(),h.q.fromNumberAsync(o,1,s,function(){h.q.subtract(I.ONE).gcda(a,function(t){0==t.compareTo(I.ONE)&&h.q.isProbablePrime(10)?setTimeout(e,0):setTimeout(i,0);});});},r=function r(){h.p=C(),h.p.fromNumberAsync(t-o,1,s,function(){h.p.subtract(I.ONE).gcda(a,function(t){0==t.compareTo(I.ONE)&&h.p.isProbablePrime(10)?setTimeout(i,0):setTimeout(r,0);});});};setTimeout(r,0);};setTimeout(u,0);},t.prototype.sign=function(t,e,i){var r=function(t,e){if(e<t.length+22)return console.error("Message too long for RSA"),null;for(var i=e-t.length-6,r="",n=0;n<i;n+=2){r+="ff";}return V("0001"+r+"00"+t,16);}(function(t){return X[t]||"";}(i)+e(t).toString(),this.n.bitLength()/4);if(null==r)return null;var n=this.doPrivate(r);if(null==n)return null;var s=n.toString(16);return 0==(1&s.length)?s:"0"+s;},t.prototype.verify=function(t,e,i){var r=V(e,16),n=this.doPublic(r);return null==n?null:function(t){for(var e in X){if(X.hasOwnProperty(e)){var i=X[e],r=i.length;if(t.substr(0,r)==i)return t.substr(r);}}return t;}(n.toString(16).replace(/^1f+00/,""))==i(t).toString();},t;}();var X={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};var tt={};tt.lang={extend:function extend(t,e,i){if(!e||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function r(){};if(r.prototype=e.prototype,t.prototype=new r(),(t.prototype.constructor=t).superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),i){var n;for(n in i){t.prototype[n]=i[n];}var s=function s(){},o=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(s=function s(t,e){for(n=0;n<o.length;n+=1){var i=o[n],r=e[i];"function"==typeof r&&r!=Object.prototype[i]&&(t[i]=r);}});}catch(t){}s(t.prototype,i);}}};var et={};void 0!==et.asn1&&et.asn1||(et.asn1={}),et.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e;},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var i=e.substr(1).length;i%2==1?i+=1:e.match(/^[0-7]/)||(i+=2);for(var r="",n=0;n<i;n++){r+="f";}e=new I(r,16).xor(t).add(I.ONE).toString(16).replace(/^-/,"");}return e;},this.getPEMStringFromHex=function(t,e){return hextopem(t,e);},this.newObject=function(t){var e=et.asn1,i=e.DERBoolean,r=e.DERInteger,n=e.DERBitString,s=e.DEROctetString,o=e.DERNull,a=e.DERObjectIdentifier,h=e.DEREnumerated,u=e.DERUTF8String,c=e.DERNumericString,f=e.DERPrintableString,l=e.DERTeletexString,p=e.DERIA5String,d=e.DERUTCTime,g=e.DERGeneralizedTime,v=e.DERSequence,_=e.DERSet,y=e.DERTaggedObject,m=e.ASN1Util.newObject,b=Object.keys(t);if(1!=b.length)throw"key of param shall be only one.";var E=b[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+E+":"))throw"undefined key: "+E;if("bool"==E)return new i(t[E]);if("int"==E)return new r(t[E]);if("bitstr"==E)return new n(t[E]);if("octstr"==E)return new s(t[E]);if("null"==E)return new o(t[E]);if("oid"==E)return new a(t[E]);if("enum"==E)return new h(t[E]);if("utf8str"==E)return new u(t[E]);if("numstr"==E)return new c(t[E]);if("prnstr"==E)return new f(t[E]);if("telstr"==E)return new l(t[E]);if("ia5str"==E)return new p(t[E]);if("utctime"==E)return new d(t[E]);if("gentime"==E)return new g(t[E]);if("seq"==E){for(var T=t[E],S=[],D=0;D<T.length;D++){var w=m(T[D]);S.push(w);}return new v({array:S});}if("set"==E){for(T=t[E],S=[],D=0;D<T.length;D++){w=m(T[D]);S.push(w);}return new _({array:S});}if("tag"==E){var B=t[E];if("[object Array]"===Object.prototype.toString.call(B)&&3==B.length){var R=m(B[2]);return new y({tag:B[0],explicit:B[1],obj:R});}var O={};if(void 0!==B.explicit&&(O.explicit=B.explicit),void 0!==B.tag&&(O.tag=B.tag),void 0===B.obj)throw"obj shall be specified for \'tag\'.";return O.obj=m(B.obj),new y(O);}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex();};}(),et.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",i=parseInt(t.substr(0,2),16),r=(e=Math.floor(i/40)+"."+i%40,""),n=2;n<t.length;n+=2){var s=("00000000"+parseInt(t.substr(n,2),16).toString(2)).slice(-8);if(r+=s.substr(1,7),"0"==s.substr(0,1))e=e+"."+new I(r,2).toString(10),r="";}return e;},et.asn1.ASN1Util.oidIntToHex=function(t){var a=function a(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e;},e=function e(t){var e="",i=new I(t,10).toString(2),r=7-i.length%7;7==r&&(r=0);for(var n="",s=0;s<r;s++){n+="0";}i=n+i;for(s=0;s<i.length-1;s+=7){var o=i.substr(s,7);s!=i.length-7&&(o="1"+o),e+=a(parseInt(o,2));}return e;};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var i="",r=t.split("."),n=40*parseInt(r[0])+parseInt(r[1]);i+=a(n),r.splice(0,2);for(var s=0;s<r.length;s++){i+=e(r[s]);}return i;},et.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var i=e.length/2;if(15<i)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+i).toString(16)+e;},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV;},this.getValueHex=function(){return this.getEncodedHex(),this.hV;},this.getFreshValueHex=function(){return"";};},et.asn1.DERAbstractString=function(t){et.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s;},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s);},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t;},this.getFreshValueHex=function(){return this.hV;},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex));},tt.lang.extend(et.asn1.DERAbstractString,et.asn1.ASN1Object),et.asn1.DERAbstractTime=function(t){et.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc);},this.formatDate=function(t,e,i){var r=this.zeroPadding,n=this.localDateToUTC(t),s=String(n.getFullYear());"utc"==e&&(s=s.substr(2,2));var o=s+r(String(n.getMonth()+1),2)+r(String(n.getDate()),2)+r(String(n.getHours()),2)+r(String(n.getMinutes()),2)+r(String(n.getSeconds()),2);if(!0===i){var a=n.getMilliseconds();if(0!=a){var h=r(String(a),3);o=o+"."+(h=h.replace(/[0]+$/,""));}}return o+"Z";},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t;},this.getString=function(){return this.s;},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(t);},this.setByDateValue=function(t,e,i,r,n,s){var o=new Date(Date.UTC(t,e-1,i,r,n,s,0));this.setByDate(o);},this.getFreshValueHex=function(){return this.hV;};},tt.lang.extend(et.asn1.DERAbstractTime,et.asn1.ASN1Object),et.asn1.DERAbstractStructured=function(t){et.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t;},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t);},this.asn1Array=new Array(),void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array);},tt.lang.extend(et.asn1.DERAbstractStructured,et.asn1.ASN1Object),et.asn1.DERBoolean=function(){et.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff";},tt.lang.extend(et.asn1.DERBoolean,et.asn1.ASN1Object),et.asn1.DERInteger=function(t){et.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=et.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t);},this.setByInteger=function(t){var e=new I(String(t),10);this.setByBigInteger(e);},this.setValueHex=function(t){this.hV=t;},this.getFreshValueHex=function(){return this.hV;},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t["int"]?this.setByInteger(t["int"]):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex));},tt.lang.extend(et.asn1.DERInteger,et.asn1.ASN1Object),et.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=et.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex();}et.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t;},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var i="0"+t;this.hTLV=null,this.isModified=!0,this.hV=i+e;},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var i=0;i<=e;i++){t+="0";}var r="";for(i=0;i<t.length-1;i+=8){var n=t.substr(i,8),s=parseInt(n,2).toString(16);1==s.length&&(s="0"+s),r+=s;}this.hTLV=null,this.isModified=!0,this.hV="0"+e+r;},this.setByBooleanArray=function(t){for(var e="",i=0;i<t.length;i++){1==t[i]?e+="1":e+="0";}this.setByBinaryString(e);},this.newFalseArray=function(t){for(var e=new Array(t),i=0;i<t;i++){e[i]=!1;}return e;},this.getFreshValueHex=function(){return this.hV;},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array));},tt.lang.extend(et.asn1.DERBitString,et.asn1.ASN1Object),et.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=et.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex();}et.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04";},tt.lang.extend(et.asn1.DEROctetString,et.asn1.DERAbstractString),et.asn1.DERNull=function(){et.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500";},tt.lang.extend(et.asn1.DERNull,et.asn1.ASN1Object),et.asn1.DERObjectIdentifier=function(t){var a=function a(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e;},s=function s(t){var e="",i=new I(t,10).toString(2),r=7-i.length%7;7==r&&(r=0);for(var n="",s=0;s<r;s++){n+="0";}i=n+i;for(s=0;s<i.length-1;s+=7){var o=i.substr(s,7);s!=i.length-7&&(o="1"+o),e+=a(parseInt(o,2));}return e;};et.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t;},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var e="",i=t.split("."),r=40*parseInt(i[0])+parseInt(i[1]);e+=a(r),i.splice(0,2);for(var n=0;n<i.length;n++){e+=s(i[n]);}this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e;},this.setValueName=function(t){var e=et.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e);},this.getFreshValueHex=function(){return this.hV;},void 0!==t&&("string"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name));},tt.lang.extend(et.asn1.DERObjectIdentifier,et.asn1.ASN1Object),et.asn1.DEREnumerated=function(t){et.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=et.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t);},this.setByInteger=function(t){var e=new I(String(t),10);this.setByBigInteger(e);},this.setValueHex=function(t){this.hV=t;},this.getFreshValueHex=function(){return this.hV;},void 0!==t&&(void 0!==t["int"]?this.setByInteger(t["int"]):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex));},tt.lang.extend(et.asn1.DEREnumerated,et.asn1.ASN1Object),et.asn1.DERUTF8String=function(t){et.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c";},tt.lang.extend(et.asn1.DERUTF8String,et.asn1.DERAbstractString),et.asn1.DERNumericString=function(t){et.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12";},tt.lang.extend(et.asn1.DERNumericString,et.asn1.DERAbstractString),et.asn1.DERPrintableString=function(t){et.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13";},tt.lang.extend(et.asn1.DERPrintableString,et.asn1.DERAbstractString),et.asn1.DERTeletexString=function(t){et.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14";},tt.lang.extend(et.asn1.DERTeletexString,et.asn1.DERAbstractString),et.asn1.DERIA5String=function(t){et.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16";},tt.lang.extend(et.asn1.DERIA5String,et.asn1.DERAbstractString),et.asn1.DERUTCTime=function(t){et.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s);},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date(),this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV;},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date));},tt.lang.extend(et.asn1.DERUTCTime,et.asn1.DERAbstractTime),et.asn1.DERGeneralizedTime=function(t){et.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s);},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date(),this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV;},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0));},tt.lang.extend(et.asn1.DERGeneralizedTime,et.asn1.DERAbstractTime),et.asn1.DERSequence=function(t){et.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){t+=this.asn1Array[e].getEncodedHex();}return this.hV=t,this.hV;};},tt.lang.extend(et.asn1.DERSequence,et.asn1.DERAbstractStructured),et.asn1.DERSet=function(t){et.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array(),e=0;e<this.asn1Array.length;e++){var i=this.asn1Array[e];t.push(i.getEncodedHex());}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV;},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1);},tt.lang.extend(et.asn1.DERSet,et.asn1.DERAbstractStructured),et.asn1.DERTaggedObject=function(t){et.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,i){this.hT=e,this.isExplicit=t,this.asn1Object=i,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=i.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1);},this.getFreshValueHex=function(){return this.hV;},void 0!==t&&(void 0!==t.tag&&(this.hT=t.tag),void 0!==t.explicit&&(this.isExplicit=t.explicit),void 0!==t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)));},tt.lang.extend(et.asn1.DERTaggedObject,et.asn1.ASN1Object);var it=function(i){function r(t){var e=i.call(this)||this;return t&&("string"==typeof t?e.parseKey(t):(r.hasPrivateKeyProperty(t)||r.hasPublicKeyProperty(t))&&e.parsePropertiesFrom(t)),e;}return function(t,e){function i(){this.constructor=t;}_p(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i());}(r,i),r.prototype.parseKey=function(t){try{var e=0,i=0,r=/^\\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\\s*)+$/.test(t)?g(t):v.unarmor(t),n=w.decode(r);if(3===n.sub.length&&(n=n.sub[2].sub[0]),9===n.sub.length){e=n.sub[1].getHexStringValue(),this.n=V(e,16),i=n.sub[2].getHexStringValue(),this.e=parseInt(i,16);var s=n.sub[3].getHexStringValue();this.d=V(s,16);var o=n.sub[4].getHexStringValue();this.p=V(o,16);var a=n.sub[5].getHexStringValue();this.q=V(a,16);var h=n.sub[6].getHexStringValue();this.dmp1=V(h,16);var u=n.sub[7].getHexStringValue();this.dmq1=V(u,16);var c=n.sub[8].getHexStringValue();this.coeff=V(c,16);}else{if(2!==n.sub.length)return!1;var f=n.sub[1].sub[0];e=f.sub[0].getHexStringValue(),this.n=V(e,16),i=f.sub[1].getHexStringValue(),this.e=parseInt(i,16);}return!0;}catch(t){return!1;}},r.prototype.getPrivateBaseKey=function(){var t={array:[new et.asn1.DERInteger({"int":0}),new et.asn1.DERInteger({bigint:this.n}),new et.asn1.DERInteger({"int":this.e}),new et.asn1.DERInteger({bigint:this.d}),new et.asn1.DERInteger({bigint:this.p}),new et.asn1.DERInteger({bigint:this.q}),new et.asn1.DERInteger({bigint:this.dmp1}),new et.asn1.DERInteger({bigint:this.dmq1}),new et.asn1.DERInteger({bigint:this.coeff})]};return new et.asn1.DERSequence(t).getEncodedHex();},r.prototype.getPrivateBaseKeyB64=function(){return c(this.getPrivateBaseKey());},r.prototype.getPublicBaseKey=function(){var t=new et.asn1.DERSequence({array:[new et.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new et.asn1.DERNull()]}),e=new et.asn1.DERSequence({array:[new et.asn1.DERInteger({bigint:this.n}),new et.asn1.DERInteger({"int":this.e})]}),i=new et.asn1.DERBitString({hex:"00"+e.getEncodedHex()});return new et.asn1.DERSequence({array:[t,i]}).getEncodedHex();},r.prototype.getPublicBaseKeyB64=function(){return c(this.getPublicBaseKey());},r.wordwrap=function(t,e){if(!t)return t;var i="(.{1,"+(e=e||64)+"})( +|$\\n?)|(.{1,"+e+"})";return t.match(RegExp(i,"g")).join("\\n");},r.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\\n";return t+=r.wordwrap(this.getPrivateBaseKeyB64())+"\\n",t+="-----END RSA PRIVATE KEY-----";},r.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\\n";return t+=r.wordwrap(this.getPublicBaseKeyB64())+"\\n",t+="-----END PUBLIC KEY-----";},r.hasPublicKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e");},r.hasPrivateKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff");},r.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff);},r;}(J),rt=function(){function t(t){t=t||{},this.default_key_size=parseInt(t.default_key_size,10)||1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null;}return t.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new it(t);},t.prototype.setPrivateKey=function(t){this.setKey(t);},t.prototype.setPublicKey=function(t){this.setKey(t);},t.prototype.decrypt=function(t){try{return this.getKey().decrypt(f(t));}catch(t){return!1;}},t.prototype.encrypt=function(t){try{return c(this.getKey().encrypt(t));}catch(t){return!1;}},t.prototype.sign=function(t,e,i){try{return c(this.getKey().sign(t,e,i));}catch(t){return!1;}},t.prototype.verify=function(t,e,i){try{return this.getKey().verify(t,f(e),i);}catch(t){return!1;}},t.prototype.getKey=function(t){if(!this.key){if(this.key=new it(),t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent);}return this.key;},t.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey();},t.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64();},t.prototype.getPublicKey=function(){return this.getKey().getPublicKey();},t.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64();},t.version="3.0.0-rc.1",t;}();window.JSEncrypt=rt,t.JSEncrypt=rt,t["default"]=rt,Object.defineProperty(t,"__esModule",{value:!0});})(e);},252:function _(t,e,i){var r;r=function r(h){return function(n){var t=h,e=t.lib,i=e.WordArray,r=e.Hasher,s=t.algo,o=[],m=[];!function(){function t(t){for(var e=n.sqrt(t),i=2;i<=e;i++){if(!(t%i))return!1;}return!0;}function e(t){return 4294967296*(t-(0|t))|0;}for(var i=2,r=0;r<64;){t(i)&&(r<8&&(o[r]=e(n.pow(i,.5))),m[r]=e(n.pow(i,1/3)),r++),i++;}}();var b=[],a=s.SHA256=r.extend({_doReset:function _doReset(){this._hash=new i.init(o.slice(0));},_doProcessBlock:function _doProcessBlock(t,e){for(var i=this._hash.words,r=i[0],n=i[1],s=i[2],o=i[3],a=i[4],h=i[5],u=i[6],c=i[7],f=0;f<64;f++){if(f<16)b[f]=0|t[e+f];else{var l=b[f-15],p=(l<<25|l>>>7)^(l<<14|l>>>18)^l>>>3,d=b[f-2],g=(d<<15|d>>>17)^(d<<13|d>>>19)^d>>>10;b[f]=p+b[f-7]+g+b[f-16];}var v=r&n^r&s^n&s,_=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),y=c+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&h^~a&u)+m[f]+b[f];c=u,u=h,h=a,a=o+y|0,o=s,s=n,n=r,r=y+(_+v)|0;}i[0]=i[0]+r|0,i[1]=i[1]+n|0,i[2]=i[2]+s|0,i[3]=i[3]+o|0,i[4]=i[4]+a|0,i[5]=i[5]+h|0,i[6]=i[6]+u|0,i[7]=i[7]+c|0;},_doFinalize:function _doFinalize(){var t=this._data,e=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(64+r>>>9<<4)]=n.floor(i/4294967296),e[15+(64+r>>>9<<4)]=i,t.sigBytes=4*e.length,this._process(),this._hash;},clone:function clone(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t;}});t.SHA256=r._createHelper(a),t.HmacSHA256=r._createHmacHelper(a);}(Math),h.SHA256;},t.exports=r(i(253));},253:function _(t,e,i){var r;r=function r(){var c,i,t,e,r,f,n,s,o,a,h,u,l=l||(c=Math,i=Object.create||function(){function i(){}return function(t){var e;return i.prototype=t,e=new i(),i.prototype=null,e;};}(),e=(t={}).lib={},r=e.Base={extend:function extend(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments);}),(e.init.prototype=e).$super=this,e;},create:function create(){var t=this.extend();return t.init.apply(t,arguments),t;},init:function init(){},mixIn:function mixIn(t){for(var e in t){t.hasOwnProperty(e)&&(this[e]=t[e]);}t.hasOwnProperty("toString")&&(this.toString=t.toString);},clone:function clone(){return this.init.prototype.extend(this);}},f=e.WordArray=r.extend({init:function init(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length;},toString:function toString(t){return(t||s).stringify(this);},concat:function concat(t){var e=this.words,i=t.words,r=this.sigBytes,n=t.sigBytes;if(this.clamp(),r%4)for(var s=0;s<n;s++){var o=i[s>>>2]>>>24-s%4*8&255;e[r+s>>>2]|=o<<24-(r+s)%4*8;}else for(s=0;s<n;s+=4){e[r+s>>>2]=i[s>>>2];}return this.sigBytes+=n,this;},clamp:function clamp(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=c.ceil(e/4);},clone:function clone(){var t=r.clone.call(this);return t.words=this.words.slice(0),t;},random:function random(t){for(var e,i=[],r=function r(e){e=e;var i=987654321,r=4294967295;return function(){var t=((i=36969*(65535&i)+(i>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return t/=4294967296,(t+=.5)*(.5<c.random()?1:-1);};},n=0;n<t;n+=4){var s=r(4294967296*(e||c.random()));e=987654071*s(),i.push(4294967296*s()|0);}return new f.init(i,t);}}),n=t.enc={},s=n.Hex={stringify:function stringify(t){for(var e=t.words,i=t.sigBytes,r=[],n=0;n<i;n++){var s=e[n>>>2]>>>24-n%4*8&255;r.push((s>>>4).toString(16)),r.push((15&s).toString(16));}return r.join("");},parse:function parse(t){for(var e=t.length,i=[],r=0;r<e;r+=2){i[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;}return new f.init(i,e/2);}},o=n.Latin1={stringify:function stringify(t){for(var e=t.words,i=t.sigBytes,r=[],n=0;n<i;n++){var s=e[n>>>2]>>>24-n%4*8&255;r.push(String.fromCharCode(s));}return r.join("");},parse:function parse(t){for(var e=t.length,i=[],r=0;r<e;r++){i[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;}return new f.init(i,e);}},a=n.Utf8={stringify:function stringify(t){try{return decodeURIComponent(escape(o.stringify(t)));}catch(t){throw new Error("Malformed UTF-8 data");}},parse:function parse(t){return o.parse(unescape(encodeURIComponent(t)));}},h=e.BufferedBlockAlgorithm=r.extend({reset:function reset(){this._data=new f.init(),this._nDataBytes=0;},_append:function _append(t){"string"==typeof t&&(t=a.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes;},_process:function _process(t){var e=this._data,i=e.words,r=e.sigBytes,n=this.blockSize,s=r/(4*n),o=(s=t?c.ceil(s):c.max((0|s)-this._minBufferSize,0))*n,a=c.min(4*o,r);if(o){for(var h=0;h<o;h+=n){this._doProcessBlock(i,h);}var u=i.splice(0,o);e.sigBytes-=a;}return new f.init(u,a);},clone:function clone(){var t=r.clone.call(this);return t._data=this._data.clone(),t;},_minBufferSize:0}),e.Hasher=h.extend({cfg:r.extend(),init:function init(t){this.cfg=this.cfg.extend(t),this.reset();},reset:function reset(){h.reset.call(this),this._doReset();},update:function update(t){return this._append(t),this._process(),this;},finalize:function finalize(t){return t&&this._append(t),this._doFinalize();},blockSize:16,_createHelper:function _createHelper(i){return function(t,e){return new i.init(e).finalize(t);};},_createHmacHelper:function _createHmacHelper(i){return function(t,e){return new u.HMAC.init(i,e).finalize(t);};}}),u=t.algo={},t);return l;},t.exports=r();}},[249]);pbjsChunk([152],{288:function _(e,t,n){e.exports=n(289);},289:function _(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notifyTranslationModule=i,t.getTargeting=c;var r=n(79),s=n(37),g=n(0),l=n(3),T=n(2),_=n(62),o=n(17);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);}}return e;}).apply(this,arguments);}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;}function i(e){e.call(this,"freewheel");}function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.codes,r=e.callback;if(r){var n=function(t){return s.a.getAdUnits().filter(function(e){return Object(g.deepAccess)(e,"mediaTypes.video.context")===T.a;}).filter(function(e){return!(0<t.length)||-1!=t.indexOf(e.code);});}(t=t||[]),o=s.a.getBidsReceived(),i=l.config.getConfig("adpod.brandCategoryExclusion"),c=l.config.getConfig("adpod.deferCaching"),a="boolean"!=typeof c||c,u=function(e,t){var n=t.map(function(e){return e.code;});return e.filter(function(e){return-1!=n.indexOf(e.adUnitCode)&&e.video&&e.video.context===T.a;});}(o,n);(u=i||a?function(e){var t=e.map(function(e){return E({},e,v({},_.TARGETING_KEY_PB_CAT_DUR,e.adserverTargeting[_.TARGETING_KEY_PB_CAT_DUR]));});t=Object(g.groupBy)(t,_.TARGETING_KEY_PB_CAT_DUR);var n=[];return Object.keys(t).forEach(function(e){t[e].sort(Object(g.compareOn)("responseTimestamp")),n.push(t[e][0]);}),n;}(u):u).sort(_.sortByPricePerSecond);var d={};if(!1===a)n.forEach(function(t){var r=[],o=Object(g.deepAccess)(t,"mediaTypes.video.adPodDurationSec");u.filter(function(e){return e.adUnitCode===t.code;}).forEach(function(e,t,n){e.video.durationBucket<=o&&(r.push(v({},_.TARGETING_KEY_PB_CAT_DUR,e.adserverTargeting[_.TARGETING_KEY_PB_CAT_DUR])),o-=e.video.durationBucket),t===n.length-1&&0<r.length&&r.push(v({},_.TARGETING_KEY_CACHE_ID,e.adserverTargeting[_.TARGETING_KEY_CACHE_ID]));}),d[t.code]=r;}),r(null,d);else{var f=[];n.forEach(function(t){var n=Object(g.deepAccess)(t,"mediaTypes.video.adPodDurationSec");u.filter(function(e){return e.adUnitCode===t.code;}).forEach(function(e){e.video.durationBucket<=n&&(f.push(e),n-=e.video.durationBucket);});}),Object(_.callPrebidCacheAfterAuction)(f,function(e,t){if(e)r(e,null);else{var n=Object(g.groupBy)(t,"adUnitCode");Object.keys(n).forEach(function(e){var r=[];n[e].forEach(function(e,t,n){r.push(v({},_.TARGETING_KEY_PB_CAT_DUR,e.adserverTargeting[_.TARGETING_KEY_PB_CAT_DUR])),t===n.length-1&&0<r.length&&r.push(v({},_.TARGETING_KEY_CACHE_ID,e.adserverTargeting[_.TARGETING_KEY_CACHE_ID]));}),d[e]=r;}),r(null,d);}});}return d;}Object(g.logError)("No callback function was defined in the getTargeting call.  Aborting getTargeting().");}Object(o.a)("registerAdserver").before(i),Object(_.initAdpodHooks)(),Object(r.a)("freewheel",{getTargeting:c});}},[288]);pbjsChunk([0],{328:function _(e,r,t){e.exports=t(329);},329:function _(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",function(){return b;});var l=t(0),n=t(2),h=t(3),a=t(330),i=t.n(a),o=t(332),s=t.n(o),p=t(1);function g(e){return(g="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e);}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e);})(e);}var d=[n.b],c=100,f=35,m=!0,y={JPY:1};function u(e){return i()(e)&&2===e.length&&s()(e[0])&&s()(e[1]);}var b={code:"ix",supportedMediaTypes:d,isBidRequestValid:function isBidRequestValid(e){if(!u(e.params.size))return!1;if(!function(e,r){if(u(e))return e[0]===r[0]&&e[1]===r[1];for(var t=0;t<e.length;t++){if(e[t][0]===r[0]&&e[t][1]===r[1])return!0;}return!1;}(e.sizes,e.params.size))return!1;if(e.hasOwnProperty("mediaType")&&"banner"!==e.mediaType)return!1;if(e.hasOwnProperty("mediaTypes")&&!l.deepAccess(e,"mediaTypes.banner.sizes"))return!1;if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return!1;var r=e.params.hasOwnProperty("bidFloor"),t=e.params.hasOwnProperty("bidFloorCur");return!r&&!t||r&&t&&function(e,r){return Boolean("number"==typeof e&&"string"==typeof r&&r.match(/^[A-Z]{3}$/));}(e.params.bidFloor,e.params.bidFloorCur);},buildRequests:function buildRequests(e,r){for(var t,n,a=[],i=null,o=null,s="https://as-sec.casalemedia.com/cygnus",p=0;p<e.length;p++){i=e[p],n=void 0,(n={}).id=(t=i).bidId,n.banner={},n.banner.w=t.params.size[0],n.banner.h=t.params.size[1],n.banner.topframe=l.inIframe()?0:1,n.ext={},n.ext.siteID=t.params.siteId,!t.params.hasOwnProperty("id")||"string"!=typeof t.params.id&&"number"!=typeof t.params.id?n.ext.sid="".concat(t.params.size[0],"x").concat(t.params.size[1]):n.ext.sid=String(t.params.id),t.params.hasOwnProperty("bidFloor")&&t.params.hasOwnProperty("bidFloorCur")&&(n.bidfloor=t.params.bidFloor,n.bidfloorcur=t.params.bidFloorCur),o=n,a.push(o);}var d={};if(d.id=e[0].bidderRequestId,d.imp=a,d.site={},d.ext={},d.ext.source="prebid",document.referrer&&""!==document.referrer&&(d.site.ref=document.referrer),r){if(r.gdprConsent){var u=r.gdprConsent;u.hasOwnProperty("gdprApplies")&&(d.regs={ext:{gdpr:u.gdprApplies?1:0}}),u.hasOwnProperty("consentString")&&(d.user={ext:{consent:u.consentString||""}});}r.refererInfo&&(d.site.page=r.refererInfo.referer,r.refererInfo.referer&&0!==r.refererInfo.referer.indexOf("https")&&(s="http://as.casalemedia.com/cygnus"));}var c={},f=h.config.getConfig("ix");if(f){if("object"===g(f.firstPartyData)){var m=f.firstPartyData,y="?";for(var b in m){m.hasOwnProperty(b)&&(y+="".concat(encodeURIComponent(b),"=").concat(encodeURIComponent(m[b]),"&"));}y=y.slice(0,-1),d.site.page+=y;}"number"==typeof f.timeout&&(c.t=f.timeout);}return c.s=e[0].params.siteId,c.v=7.2,c.r=JSON.stringify(d),c.ac="j",c.sd=1,{method:"GET",url:s,data:c};},interpretResponse:function interpretResponse(e){var r=[],t=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return r;for(var n,a,i,o=e.body,s=o.seatbid,p=0;p<s.length;p++){if(s[p].hasOwnProperty("bid"))for(var d=s[p].bid,u=0;u<d.length;u++){n=d[u],a=o.cur,i=void 0,i={},y.hasOwnProperty(a)?i.cpm=n.price/y[a]:i.cpm=n.price/c,i.requestId=n.impid,i.width=n.w,i.height=n.h,i.ad=n.adm,i.dealId=l.deepAccess(n,"ext.dealid"),i.ttl=f,i.netRevenue=m,i.currency=a,i.creativeId=n.hasOwnProperty("crid")?n.crid:"-",i.meta={},i.meta.networkId=l.deepAccess(n,"ext.dspid"),i.meta.brandId=l.deepAccess(n,"ext.advbrandid"),i.meta.brandName=l.deepAccess(n,"ext.advbrand"),t=i,r.push(t);}}return r;},transformBidParams:function transformBidParams(e,r){return l.convertTypes({siteID:"number"},e);}};Object(p.registerBidder)(b);},330:function _(e,r,t){t(331),e.exports=t(14).Array.isArray;},331:function _(e,r,t){var n=t(13);n(n.S,"Array",{isArray:t(55)});},332:function _(e,r,t){t(333),e.exports=t(14).Number.isInteger;},333:function _(e,r,t){var n=t(13);n(n.S,"Number",{isInteger:t(334)});},334:function _(e,r,t){var n=t(16),a=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&a(e)===e;};}},[328]);pbjsChunk([107],{395:function _(e,t,n){e.exports=n(396);},396:function _(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetBoPixel=function(){l=!0;},n.d(t,"spec",function(){return h;});var c=n(3),r=n(1),d=n(0),u=n(24),p=n(2),m=n(11);function o(e,t){return function(e){if(Array.isArray(e))return e;}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0){;}}catch(e){a=!0,i=e;}finally{try{r||null==s["return"]||s["return"]();}finally{if(a)throw i;}}return n;}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}();}var a=[p.b,p.d],f="openx",i="hb_pb",s="2.1.6",l=!0;var h={code:f,supportedMediaTypes:a,isBidRequestValid:function isBidRequestValid(e){var t=e.params.delDomain||e.params.platform;return d.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||0<d.deepAccess(e,"mediaTypes.banner.sizes.length"):!(!e.params.unit||!t);},buildRequests:function buildRequests(e,t){if(0===e.length)return[];var n=[],r=o(function(e){return e.reduce(function(e,t){return!function(e){return d.deepAccess(e,"mediaTypes.video")||e.mediaType===p.d;}(t)?e[1].push(t):e[0].push(t),e;},[[],[]]);}(e),2),a=r[0],i=r[1];return 0<i.length&&n.push(function(e,t){var r=[],a=!1,n=v(e,t),i=d._map(e,function(e){return e.params.unit;});n.aus=d._map(e,function(e){return d.parseSizesInput(e.sizes).join(",");}).join("|"),n.divIds=d._map(e,function(e){return encodeURIComponent(e.adUnitCode);}).join(","),i.some(function(e){return e;})&&(n.auid=i.join(","));e.some(function(e){return e.params.doNotTrack;})&&(n.ns=1);e.some(function(e){return e.params.coppa;})&&(n.tfcd=1);e.forEach(function(t){if(t.params.customParams){var e=d._map(Object.keys(t.params.customParams),function(e){return function(e,t){var n=t[e];return d.isArray(n)&&(n=n.join(",")),(e.toLowerCase()+"="+n.toLowerCase()).replace("+",".").replace("/","_");}(e,t.params.customParams);}),n=window.btoa(e.join("&"));a=!0,r.push(n);}else r.push("");}),a&&(n.tps=r.join(","));var o=[],s=!1;e.forEach(function(e){e.params.customFloor?(o.push(Math.round(100*e.params.customFloor)/100*1e3),s=!0):o.push(0);}),s&&(n.aumfs=o.join(","));return{method:"GET",url:n.ph?"//u.openx.net/w/1.0/arj":"//".concat(e[0].params.delDomain,"/w/1.0/arj"),data:n,payload:{bids:e,startTime:new Date()}};}(i,t)),0<a.length&&a.forEach(function(e){n.push(function(e,t){var n=function(e,t){var n,r,a=v([e],t),i=d.deepAccess(e,"params.video")||{},o=d.deepAccess(e,"mediaTypes.video.context"),s=d.deepAccess(e,"mediaTypes.video.playerSize");d.isArray(e.sizes)&&2===e.sizes.length&&!d.isArray(e.sizes[0])?(n=parseInt(e.sizes[0],10),r=parseInt(e.sizes[1],10)):d.isArray(e.sizes)&&d.isArray(e.sizes[0])&&2===e.sizes[0].length?(n=parseInt(e.sizes[0][0],10),r=parseInt(e.sizes[0][1],10)):d.isArray(s)&&2===s.length&&(n=parseInt(s[0],10),r=parseInt(s[1],10));Object.keys(i).forEach(function(e){"openrtb"===e?(i[e].w=n||i[e].w,i[e].v=r||i[e].v,a[e]=JSON.stringify(i[e])):e in a||"url"===e||(a[e]=i[e]);}),a.auid=e.params.unit,a.vwd=n||i.vwd,a.vht=r||i.vht,"outstream"===o&&(a.vos="101");i.mimes&&(a.vmimes=i.mimes);return a;}(e,t);return{method:"GET",url:n.ph?"//u.openx.net/v/1.0/avjp":"//".concat(e.params.delDomain,"/v/1.0/avjp"),data:n,payload:{bid:e,startTime:new Date()}};}(e,t));}),n;},interpretResponse:function interpretResponse(e,t){var n=e.body;return function(e){return /avjp$/.test(e.url)?p.d:p.b;}(t)===p.d?function(e,t){var n=t.bid,r=t.startTime,a=[];if(void 0!==e&&""!==e.vastUrl&&""!==e.pub_rev){var i=Object(m.c)(e.vastUrl).search||{},o={};o.requestId=n.bidId,o.ttl=300,o.netRevenue=!0,o.currency=e.currency,o.cpm=Number(e.pub_rev)/1e3,o.width=e.width,o.height=e.height,o.creativeId=e.adid,o.vastUrl=e.vastUrl,o.mediaType=p.d,e.ph=i.ph,e.colo=i.colo,e.ts=i.ts,a.push(o),g(p.d,e,r);}return a;}(n,t.payload):function(e,t){for(var n=t.bids,r=t.startTime,a=e.ads.ad,i=[],o=0;o<a.length;o++){var s=a[o],c=parseInt(s.idx,10),d={};if(d.requestId=n[c].bidId,s.pub_rev){d.cpm=Number(s.pub_rev)/1e3;var u=s.creative[0];u&&(d.width=u.width,d.height=u.height),d.creativeId=u.id,d.ad=s.html,s.deal_id&&(d.dealId=s.deal_id),d.ttl=300,d.netRevenue=!0,d.currency=s.currency,s.tbd&&(d.tbd=s.tbd),d.ts=s.ts,d.meta={},s.brand_id&&(d.meta.brandId=s.brand_id),i.push(d),g(p.b,s,r);}}return i;}(n,t.payload);},getUserSyncs:function getUserSyncs(e,t){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:d.deepAccess(t,"0.body.ads.pixels")||d.deepAccess(t,"0.body.pixels")||"//u.openx.net/w/1.0/pd"}];},transformBidParams:function transformBidParams(e,t){return d.convertTypes({unit:"string",customFloor:"number"},e);}};function b(t){for(var e in t){t.hasOwnProperty(e)&&(t[e]||delete t[e]);}return d._map(Object.keys(t),function(e){return"".concat(e,"=").concat(t[e]);}).join("&");}function v(e,t){var n,r=d.inIframe();if(n={ju:c.config.getConfig("pageUrl")||d.getTopWindowUrl(),jr:d.getTopWindowReferrer(),ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:r,tz:new Date().getTimezoneOffset(),tws:function(e){var t,n,r,a=window,i=document,o=i.documentElement;if(e){try{a=window.top,i=window.top.document;}catch(e){return;}o=i.documentElement,r=i.body,t=a.innerWidth||o.clientWidth||r.clientWidth,n=a.innerHeight||o.clientHeight||r.clientHeight;}else o=i.documentElement,t=a.innerWidth||o.clientWidth,n=a.innerHeight||o.clientHeight;return"".concat(t,"x").concat(n);}(r),be:1,bc:e[0].params.bc||"".concat(i,"_").concat(s),dddid:d._map(e,function(e){return e.transactionId;}).join(","),nocache:new Date().getTime()},e[0].params.platform&&(n.ph=e[0].params.platform),d.deepAccess(t,"gdprConsent")){var a=t.gdprConsent;void 0!==a.consentString&&(n.gdpr_consent=a.consentString),void 0!==a.gdprApplies&&(n.gdpr=a.gdprApplies?1:0),"iab"===c.config.getConfig("consentManagement.cmpApi")&&(n.x_gdpr_f=1);}return e[0].crumbs&&e[0].crumbs.pubcid&&(n.pubcid=e[0].crumbs.pubcid),n;}function g(e,t,n){if(l){l=!1;var r,a=c.config.getConfig("bidderTimeout");window.PREBID_TIMEOUT&&(a=Math.min(window.PREBID_TIMEOUT,a));var i={bd:+new Date()-n,bp:t.pub_rev,br:"0",bs:d.getTopWindowLocation().hostname,bt:a,ts:t.ts};if(i.br=i.bt<i.bd?"t":"p",e===p.d){var o=Object(m.c)(t.colo);i.ph=t.ph,r="//".concat(o.hostname,"/w/1.0/bo?").concat(b(i));}else{var s=d.deepAccess(t,"creative.0.tracking.impression").match(/([^?]+\\/)ri\\?/);s&&1<s.length&&(r="".concat(s[1],"bo?").concat(b(i)));}r&&u.a.registerSync("image",f,r);}}Object(r.registerBidder)(h);}},[395]);pbjsChunk([14],{425:function _(e,r,t){e.exports=t(426);},426:function _(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.resetSyncedStatus=function(){E=!1;},r.PrebidServer=B;var i=t(45),l=t(22),f=t(0),u=t(5),b=t(4),p=(t.n(b),t(7)),n=t(3),v=t(2),g=t(1),d=t(9),m=t.n(d),a=t(8),h=t.n(a),c=t(427);function o(e,r){return function(e){if(Array.isArray(e))return e;}(e)||function(e,r){var t=[],i=!0,n=!1,d=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(t.push(a.value),!r||t.length!==r);i=!0){;}}catch(e){n=!0,d=e;}finally{try{i||null==c["return"]||c["return"]();}finally{if(n)throw d;}}return t;}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}();}function y(){return(y=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t){Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);}}return e;}).apply(this,arguments);}function _(e){return(_="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e);}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e);})(e);}var x,S=n.config.getConfig,I=b.S2S.SRC,E=!1,s={enabled:!1,timeout:1e3,maxBids:1,adapter:"prebidServer",adapterOptions:{},syncUrlModifier:{}};function T(e){if(0!==e.length){var r=e.pop();r.no_cookie?function(e,r,t,i){if(x.syncUrlModifier&&"function"==typeof x.syncUrlModifier[t]){var n=x.syncUrlModifier[t](e,r,t);U(e,n,t,i);}else U(e,r,t,i);}(r.usersync.type,r.usersync.url,r.bidder,f.bind.call(T,null,e)):T(e);}}function U(e,r,t,i){r?"image"===e||"redirect"===e?(f.logMessage(\'Invoking image pixel user sync for bidder: "\'.concat(t,\'"\')),f.triggerPixel(r,i)):"iframe"==e?(f.logMessage(\'Invoking iframe user sync for bidder: "\'.concat(t,\'"\')),f.insertUserSyncIframe(r,i)):(f.logError(\'User sync type "\'.concat(e,\'" not supported for bidder: "\').concat(t,\'"\')),i()):(f.logError(\'No sync url for bidder "\'.concat(t,\'": \').concat(r)),i());}function w(){var e,r=(e=window.DigiTrust&&(n.config.getConfig("digiTrustId")||window.DigiTrust.getUser({member:"T9QSFKPDN9"})))&&e.success&&e.identity||null;return!r||r.privacy&&r.privacy.optout?null:{id:r.id,keyv:r.keyv,pref:0};}function C(e){e&&("object"===_(n.config.getConfig("app"))?(e.app=n.config.getConfig("app"),e.app.publisher={id:x.accountId}):e.site={publisher:{id:x.accountId},page:f.getTopWindowUrl()},"object"===_(n.config.getConfig("device"))&&(e.device=n.config.getConfig("device")),e.device||(e.device={}),e.device.w||(e.device.w=window.innerWidth),e.device.h||(e.device.h=window.innerHeight));}n.config.setDefaults({s2sConfig:s}),S("s2sConfig",function(e){return function(r){if(r.defaultVendor){var t=r.defaultVendor,i=Object.keys(r);if(!c.a[t])return f.logError("Incorrect or unavailable prebid server default vendor option: "+t),!1;Object.keys(c.a[t]).forEach(function(e){s[e]!==r[e]&&h()(i,e)||(r[e]=c.a[t][e]);});}var n=Object.keys(r);0<["accountId","bidders","endpoint"].filter(function(e){return!h()(n,e)&&(f.logError(e+" missing in server to server config"),!0);}).length||(x=r);}(e.s2sConfig);});var O={buildRequest:function buildRequest(e,r,t){t.forEach(function(e){e.bids.forEach(function(e){var r=p["default"].bidderRegistry[e.bidder];r&&r.getSpec().transformBidParams&&(e.params=r.getSpec().transformBidParams(e.params,A()));});}),t.forEach(function(e){e.sizes=function(e){var i=[];return f.parseSizesInput(e.sizes).forEach(function(e){var r=e.split("x"),t={w:parseInt(r[0]),h:parseInt(r[1])};i.push(t);}),i;}(e);var r=f.deepAccess(e,"mediaTypes.video");r&&(e.video=y({},r),delete e.mediaTypes,e.media_types=[v.d]);});var i={account_id:x.accountId,tid:e.tid,max_bids:x.maxBids,timeout_millis:x.timeout,secure:x.secure,cache_markup:1===x.cacheMarkup||2===x.cacheMarkup?x.cacheMarkup:0,url:f.getTopWindowUrl(),prebid_version:"2.10.0",ad_units:t,is_debug:!!S("debug")};C(i);var n=w();return n&&(i.digiTrust=n),i;},interpretResponse:function interpretResponse(d,a,e){var c=[];return"OK"!==d.status&&"no_cookie"!==d.status||(d.bidder_status&&d.bidder_status.forEach(function(r){r.error&&f.logWarn("Prebid Server returned error: \'".concat(r.error,"\' for ").concat(r.bidder)),a.filter(function(e){return e.bidderCode===r.bidder;}).forEach(function(e){return(e.bids||[]).forEach(function(e){return e.serverResponseTimeMs=r.response_time_ms;});});}),d.bids&&d.bids.forEach(function(e){var r=f.getBidRequest(e.bid_id,a),t=e.price,i=0!==t?b.STATUS.GOOD:b.STATUS.NO_BID,n=Object(l.a)(i,r);n.source=I,n.creative_id=e.creative_id,n.bidderCode=e.bidder,n.cpm=t,e.cache_id&&(n.cache_id=e.cache_id),e.cache_url&&(n.cache_url=e.cache_url),e.media_type===v.d?(n.mediaType=v.d,e.adm&&(n.vastXml=e.adm),e.nurl&&(n.vastUrl=e.nurl),e.cache_id&&e.cache_url&&(n.videoCacheKey=e.cache_id,n.vastUrl=e.cache_url)):e.adm&&e.nurl?(n.ad=e.adm,n.ad+=f.createTrackPixelHtml(decodeURIComponent(e.nurl))):e.adm?n.ad=e.adm:e.nurl&&(n.adUrl=e.nurl),n.width=e.width,n.height=e.height,n.adserverTargeting=e.ad_server_targeting,e.deal_id&&(n.dealId=e.deal_id),n.requestId=r.bidId||r.bid_Id,n.creativeId=e.creative_id,n.ttl=e.ttl?e.ttl:60,n.currency=e.currency?e.currency:"USD",n.netRevenue=!e.netRevenue||e.netRevenue,d.burl&&(n.burl=d.burl),c.push({adUnit:e.code,bid:n});})),c;}},R={},j={buildRequest:function buildRequest(e,r,t){var c=[],s={};t.forEach(function(r){var e;(r.bids.forEach(function(e){R["".concat(r.code).concat(e.bidder)]=e.bid_id,p["default"].aliasRegistry[e.bidder]&&(s[e.bidder]=p["default"].aliasRegistry[e.bidder]);}),f.isEmpty(r.mediaTypes))&&(e={format:r.sizes.map(function(e){return{w:e[0],h:e[1]};})});var t,i=f.deepAccess(r,"mediaTypes.banner");i&&i.sizes&&(e={format:f.parseSizesInput(i.sizes).map(function(e){var r=o(e.split("x"),2),t=r[0],i=r[1];return{w:parseInt(t,10),h:parseInt(i,10)};})});var n=f.deepAccess(r,"mediaTypes.video");f.isEmpty(n)||(t=n);var d=r.bids.reduce(function(e,r){var t=p["default"].bidderRegistry[r.bidder];return t&&t.getSpec().transformBidParams&&(r.params=t.getSpec().transformBidParams(r.params,A())),e[r.bidder]=x.adapterOptions&&x.adapterOptions[r.bidder]?y({},r.params,x.adapterOptions[r.bidder]):r.params,e;},{}),a={id:r.code,ext:d,secure:x.secure};e&&(a.banner=e),t&&(a.video=t),c.push(a);});var i={id:e.tid,source:{tid:e.tid},tmax:x.timeout,imp:c,test:S("debug")?1:0,ext:{prebid:{targeting:{includewinners:!0,includebidderkeys:!1}}}};x.extPrebid&&"object"===_(x.extPrebid)&&(i.ext.prebid=y(i.ext.prebid,x.extPrebid)),C(i);var n=w();if(n&&(i.user={ext:{digitrust:n}}),f.isEmpty(s)||(i.ext.prebid.aliases=s),r&&r[0].userId&&"object"===_(r[0].userId)&&(i.user||(i.user={}),i.user.ext||(i.user.ext={}),i.user.ext.tpid||(i.user.ext.tpid={}),y(i.user.ext.tpid,r[0].userId)),r&&r[0].gdprConsent){var d;"boolean"==typeof r[0].gdprConsent.gdprApplies&&(d=r[0].gdprConsent.gdprApplies?1:0),i.regs?i.regs.ext?i.regs.ext.gdpr=d:i.regs.ext={gdpr:d}:i.regs={ext:{gdpr:d}};var a=r[0].gdprConsent.consentString;i.user?i.user.ext?i.user.ext.consent=a:i.user.ext={consent:a}:i.user={ext:{consent:a}};}return i;},interpretResponse:function interpretResponse(o,u,e){var p=[];return o.seatbid&&o.seatbid.forEach(function(s){(s.bid||[]).forEach(function(e){var r,t="".concat(e.impid).concat(s.seat);R[t]&&(r=f.getBidRequest(R[t],u));var i=e.price,n=0!==i?b.STATUS.GOOD:b.STATUS.NO_BID,d=Object(l.a)(n,r||{bidder:s.seat,src:I});d.cpm=i;var a=f.deepAccess(o,["ext","responsetimemillis",s.seat].join("."));r&&a&&(r.serverResponseTimeMs=a);var c=f.deepAccess(e,"ext.prebid.targeting");c&&"object"===_(c)&&(d.adserverTargeting=c),f.deepAccess(e,"ext.prebid.type")===v.d?(d.mediaType=v.d,e.ext.prebid.cache&&"object"===_(e.ext.prebid.cache.vastXml)&&e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(d.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,d.vastUrl=e.ext.prebid.cache.vastXml.url):c&&c.hb_uuid&&c.hb_cache_host&&c.hb_cache_path&&(d.videoCacheKey=c.hb_uuid,d.vastUrl="https://".concat(c.hb_cache_host).concat(c.hb_cache_path,"?uuid=").concat(c.hb_uuid)),e.adm&&(d.vastXml=e.adm),!d.vastUrl&&e.nurl&&(d.vastUrl=e.nurl)):e.adm&&e.nurl?(d.ad=e.adm,d.ad+=f.createTrackPixelHtml(decodeURIComponent(e.nurl))):e.adm?d.ad=e.adm:e.nurl&&(d.adUrl=e.nurl),d.width=e.w,d.height=e.h,e.dealid&&(d.dealId=e.dealid),d.requestId=r.bidId||r.bid_Id,d.creative_id=e.crid,d.creativeId=e.crid,e.burl&&(d.burl=e.burl),d.ttl=e.ttl?e.ttl:60,d.currency=e.currency?e.currency:"USD",d.netRevenue=!e.netRevenue||e.netRevenue,p.push({adUnit:e.impid,bid:d});});}),p;}},A=function A(){return~(x&&x.endpoint||"").indexOf("/openrtb2/");},k=function k(){return A()?j:O;};function B(){var e=new i.a("prebidServer");return e.callBids=function(e,r,t,i,n){var d=f.deepClone(e.ad_units).filter(function(e){return e.sizes&&e.sizes.length;}),a=d.map(function(e){return e.bids.map(function(e){return e.bidder;}).filter(f.uniques);}).reduce(f.flatten).filter(f.uniques);if(x&&x.syncEndpoint){var c=Array.isArray(r)&&0<r.length?r[0].gdprConsent:void 0;!function(e,r){if(!E){E=!0;var t={uuid:f.generateUUID(),bidders:e,account:x.accountId},i=x.userSyncLimit;f.isNumber(i)&&0<i&&(t.limit=i),r&&(void 0!==r.consentString&&(t.gdpr=r.gdprApplies?1:0),!1!==r.gdprApplies&&(t.gdpr_consent=r.consentString));var n=JSON.stringify(t);Object(u.a)(x.syncEndpoint,function(e){try{T((e=JSON.parse(e)).bidder_status);}catch(e){f.logError(e);}},n,{contentType:"text/plain",withCredentials:!0});}}(x.bidders,c);}var s=k().buildRequest(e,r,d),o=JSON.stringify(s);n(x.endpoint,{success:function success(e){return function(e,r,i,n,t){var d;try{d=JSON.parse(e),k().interpretResponse(d,i,r).forEach(function(e){var r=e.adUnit,t=e.bid;Object(g.isValid)(r,t,i)&&n(r,t);}),i.forEach(function(e){return m.a.emit(b.EVENTS.BIDDER_DONE,e);});}catch(e){f.logError(e);}(!d||d.status&&h()(d.status,"Error"))&&f.logError("error parsing response: ",d.status);t(),function(e){e.forEach(function(e){var r=p["default"].getBidAdapter(e);r&&r.registerSyncs&&r.registerSyncs([]);});}(r);}(e,a,r,t,i);},error:i},o,{contentType:"text/plain",withCredentials:!0});},y(this,{callBids:e.callBids,setBidderCode:e.setBidderCode,type:I});}p["default"].registerBidAdapter(new B(),"prebidServer");},427:function _(e,r,t){"use strict";t.d(r,"a",function(){return i;});var i={appnexus:{adapter:"prebidServer",enabled:!0,endpoint:"//prebid.adnxs.com/pbs/v1/openrtb2/auction",syncEndpoint:"//prebid.adnxs.com/pbs/v1/cookie_sync",timeout:1e3},rubicon:{adapter:"prebidServer",enabled:!0,endpoint:"//prebid-server.rubiconproject.com/openrtb2/auction",syncEndpoint:"//prebid-server.rubiconproject.com/cookie_sync",timeout:500}};}},[425]);pbjsChunk([76],{472:function _(e,r,t){e.exports=t(473);},473:function _(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"FASTLANE_ENDPOINT",function(){return s;}),t.d(r,"VIDEO_ENDPOINT",function(){return m;}),t.d(r,"SYNC_ENDPOINT",function(){return n;}),t.d(r,"spec",function(){return v;}),r.hasVideoMediaType=h,r.masSizeOrdering=_,r.determineRubiconVideoSizeId=A,r.getPriceGranularity=T,r.hasValidVideoParams=I,r.resetUserSync=function(){j=!1;};var c=t(0),i=t(1),d=t(3),u=t(2);function a(){return(a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t){Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);}}return e;}).apply(this,arguments);}function p(e,r){return function(e){if(Array.isArray(e))return e;}(e)||function(e,r){var t=[],i=!0,n=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(t.push(a.value),!r||t.length!==r);i=!0){;}}catch(e){n=!0,o=e;}finally{try{i||null==s["return"]||s["return"]();}finally{if(n)throw o;}}return t;}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}();}function l(e){return(l="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e);}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e);})(e);}function f(){return"https:"===location.protocol;}var s="//fastlane.rubiconproject.com/a/api/fastlane.json",m="//prebid-server.rubiconproject.com/openrtb2/auction",n="https://eus.rubiconproject.com/usync.html",g={1:"468x60",2:"728x90",5:"120x90",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",94:"970x310",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",229:"320x180",232:"580x400",257:"400x600"};c._each(g,function(e,r){return g[e]=r;});var v={code:"rubicon",supportedMediaTypes:[u.b,u.d],isBidRequestValid:function isBidRequestValid(e){if("object"!==l(e.params))return!1;for(var r=0,t=["accountId","siteId","zoneId"];r<t.length;r++){if(e.params[t[r]]=parseInt(e.params[t[r]]),isNaN(e.params[t[r]]))return c.logError("Rubicon bid adapter Error: wrong format of accountId or siteId or zoneId."),!1;}var i=x(e,!0);return!!i&&("video"!==i||I(e));},buildRequests:function buildRequests(e,o){var r=[],t=e.filter(function(e){return"video"===x(e);}).map(function(e){e.startTime=new Date().getTime();var r={id:e.transactionId,test:d.config.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:d.config.getConfig("TTL")||1e3,imp:[{exp:300,id:e.adUnitCode,secure:f()||e.params.secure?1:0,ext:{rubicon:e.params},video:c.deepAccess(e,"mediaTypes.video")||{}}],ext:{prebid:{cache:{vastxml:{returnCreative:!1}},targeting:{includewinners:!0,includebidderkeys:!1,priceGranularity:T(d.config)}}}};r.imp[0].ext.rubicon.video.size_id=A(e),function(r,t,e){if(!r)return;"object"===l(d.config.getConfig("app"))?r.app=d.config.getConfig("app"):r.site={page:y(t,e)};"object"===l(d.config.getConfig("device"))&&(r.device=d.config.getConfig("device"));t.params.video.language&&["site","device"].forEach(function(e){r[e]&&(r[e].content=a({language:t.params.video.language},r[e].content));});}(r,e,o),function(e,r){"object"===l(e.imp[0].video)&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=r.params.video.skip);"object"===l(e.imp[0].video)&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=r.params.video.skipdelay);"object"===l(e.imp[0].video)&&void 0===e.imp[0].video.pos&&(e.imp[0].video.pos="atf"===r.params.position?1:"btf"===r.params.position?3:0);var t=b(r,"video");e.imp[0].video.w=t[0],e.imp[0].video.h=t[1];}(r,e);var t=function(){var e=function(){var e=window.DigiTrust&&(d.config.getConfig("digiTrustId")||window.DigiTrust.getUser({member:"T9QSFKPDN9"}));return e&&e.success&&e.identity||null;}();if(!e||e.privacy&&e.privacy.optout)return null;return{id:e.id,keyv:e.keyv,pref:0};}();if(t&&(r.user={ext:{digitrust:t}}),o.gdprConsent){var i;"boolean"==typeof o.gdprConsent.gdprApplies&&(i=o.gdprConsent.gdprApplies?1:0),r.regs?r.regs.ext?r.regs.ext.gdpr=i:r.regs.ext={gdpr:i}:r.regs={ext:{gdpr:i}};var n=o.gdprConsent.consentString;r.user?r.user.ext?r.user.ext.consent=n:r.user.ext={consent:n}:r.user={ext:{consent:n}};}return{method:"POST",url:m,data:r,bidRequest:e};});if(!0!==d.config.getConfig("rubicon.singleRequest"))r=t.concat(e.filter(function(e){return"banner"===x(e);}).map(function(e){var i=v.createSlotParams(e,o);return{method:"GET",url:s,data:v.getOrderedParams(i).reduce(function(e,r){var t=i[r];return c.isStr(t)&&""!==t||c.isNumber(t)?"".concat(e).concat(r,"=").concat(encodeURIComponent(t),"&"):e;},"")+"slots=1&rand=".concat(Math.random()),bidRequest:e};}));else{var n=e.filter(function(e){return"banner"===x(e);}).reduce(function(e,r){return(e[r.params.siteId]=e[r.params.siteId]||[]).push(r),e;},{});r=t.concat(Object.keys(n).map(function(e){var r=n[e];10<r.length&&(c.logWarn("Rubicon bid adapter Warning: single request mode has a limit of 10 bids: ".concat(r.length-10," bids were not sent")),r=r.slice(0,10));var i=v.combineSlotUrlParams(r.map(function(e){return v.createSlotParams(e,o);}));return{method:"GET",url:s,data:v.getOrderedParams(i).reduce(function(e,r){var t=i[r];return c.isStr(t)&&""!==t||c.isNumber(t)?"".concat(e).concat(r,"=").concat(encodeURIComponent(t),"&"):e;},"")+"slots=".concat(r.length,"&rand=").concat(Math.random()),bidRequest:r};}));}return r;},getOrderedParams:function getOrderedParams(e){var r=/^tg_v/,t=/^tg_i/,i=["tpid_tdid","account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","rf","dt.id","dt.keyv","dt.pref","p_geo.latitude","p_geo.longitude","kw"].concat(Object.keys(e).filter(function(e){return r.test(e);})).concat(Object.keys(e).filter(function(e){return t.test(e);})).concat(["tk_flint","x_source.tid","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter(function(e){return-1===i.indexOf(e);}));},combineSlotUrlParams:function combineSlotUrlParams(n){if(1===n.length)return n[0];var i=n.reduce(function(r,t,i){return Object.keys(t).forEach(function(e){r.hasOwnProperty(e)||(r[e]=new Array(n.length)),r[e].splice(i,1,t[e]);}),r;},{}),o=new RegExp("^([^;]*)(;\\\\1)+$");return Object.keys(i).forEach(function(e){var r=i[e].join(";"),t=r.match(o);i[e]=t?t[1]:r;}),i;},createSlotParams:function createSlotParams(e,r){e.startTime=new Date().getTime();var t=e.params,i=b(e,"banner"),n=p(t.latLong||[],2),o=n[0],a=n[1],s={account_id:t.accountId,site_id:t.siteId,zone_id:t.zoneId,size_id:i[0],alt_size_ids:i.slice(1).join(",")||void 0,p_pos:"atf"===t.position||"btf"===t.position?t.position:"unknown",rp_floor:.01<(t.floor=parseFloat(t.floor))?t.floor:.01,rp_secure:f()?"1":"0",tk_flint:"pbjs_lite_v2.10.0","x_source.tid":e.transactionId,p_screen_res:[window.screen.width,window.screen.height].join("x"),kw:Array.isArray(t.keywords)?t.keywords.join(","):"",tk_user_key:t.userId,"p_geo.latitude":isNaN(parseFloat(o))?void 0:parseFloat(o).toFixed(4),"p_geo.longitude":isNaN(parseFloat(a))?void 0:parseFloat(a).toFixed(4),"tg_fl.eid":e.code,rf:y(e,r)};(e.userId||{}).tdid&&(s.tpid_tdid=e.userId.tdid),r.gdprConsent&&("boolean"==typeof r.gdprConsent.gdprApplies&&(s.gdpr=Number(r.gdprConsent.gdprApplies)),s.gdpr_consent=r.gdprConsent.consentString),null!==t.visitor&&"object"===l(t.visitor)&&Object.keys(t.visitor).forEach(function(e){null!=t.visitor[e]&&(s["tg_v.".concat(e)]=t.visitor[e].toString());}),null!==t.inventory&&"object"===l(t.inventory)&&Object.keys(t.inventory).forEach(function(e){null!=t.inventory[e]&&(s["tg_i.".concat(e)]=t.inventory[e].toString());});var c=function(){var e=function(){var e=window.DigiTrust&&(d.config.getConfig("digiTrustId")||window.DigiTrust.getUser({member:"T9QSFKPDN9"}));return e&&e.success&&e.identity||null;}();if(!e||e.privacy&&e.privacy.optout)return[];return{"dt.id":e.id,"dt.keyv":e.keyv,"dt.pref":0};}();return Object.keys(c).forEach(function(e){s[e]=c[e];}),s;},interpretResponse:function interpretResponse(a,e){var s=e.bidRequest;if(!(a=a.body)||"object"!==l(a))return[];if(a.seatbid){var r=c.deepAccess(a,"ext.errors.rubicon");Array.isArray(r)&&0<r.length&&r.forEach(function(e){c.logError("Got error from PBS Java openRTB: "+e);});var o=[];return a.seatbid.forEach(function(n){(n.bid||[]).forEach(function(e){var r={requestId:s.bidId,currency:a.cur||"USD",creativeId:e.crid,cpm:e.price||0,bidderCode:n.seat,ttl:300,netRevenue:d.config.getConfig("rubicon.netRevenue")||!1,width:e.w||c.deepAccess(s,"mediaTypes.video.w")||c.deepAccess(s,"params.video.playerWidth"),height:e.h||c.deepAccess(s,"mediaTypes.video.h")||c.deepAccess(s,"params.video.playerHeight")};e.dealid&&(r.dealId=e.dealid);var t=c.deepAccess(a,"ext.responsetimemillis.rubicon");if(s&&t&&(s.serverResponseTimeMs=t),c.deepAccess(e,"ext.prebid.type")===u.d){r.mediaType=u.d;var i=c.deepAccess(e,"ext.prebid.targeting");i&&"object"===l(i)&&(r.adserverTargeting=i),e.ext.prebid.cache&&"object"===l(e.ext.prebid.cache.vastXml)&&e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(r.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,r.vastUrl=e.ext.prebid.cache.vastXml.url):i&&i.hb_uuid&&i.hb_cache_host&&i.hb_cache_path&&(r.videoCacheKey=i.hb_uuid,r.vastUrl="https://".concat(i.hb_cache_host).concat(i.hb_cache_path,"?uuid=").concat(i.hb_uuid)),e.adm&&(r.vastXml=e.adm),e.nurl&&(r.vastUrl=e.nurl),!r.vastUrl&&e.nurl&&(r.vastUrl=e.nurl);}else c.logError("Prebid Server Java openRTB returns response with media type other than video for video request.");o.push(r);});}),o;}var t=a.ads;return"object"!==l(s)||Array.isArray(s)||"video"!==x(s)||"object"!==l(t)||(t=t[s.adUnitCode]),!Array.isArray(t)||t.length<1?[]:t.reduce(function(e,r,t){if("ok"!==r.status)return e;var i=Array.isArray(s)?s[t]:s;if(i&&"object"===l(i)){var n={requestId:i.bidId,currency:"USD",creativeId:r.creative_id||"".concat(r.network||"","-").concat(r.advertiser||""),cpm:r.cpm||0,dealId:r.deal,ttl:300,netRevenue:d.config.getConfig("rubicon.netRevenue")||!1,rubicon:{advertiserId:r.advertiser,networkId:r.network}};if(r.creative_type&&(n.mediaType=r.creative_type),r.creative_type===u.d)n.width=i.params.video.playerWidth,n.height=i.params.video.playerHeight,n.vastUrl=r.creative_depot_url,n.impression_id=r.impression_id,n.videoCacheKey=r.impression_id;else{n.ad=function(e,r){return"<html>\\n<head><script type=\'text/javascript\'>inDapIF=true;<\\/script></head>\\n<body style=\'margin : 0; padding: 0;\'>\\n\\x3c!-- Rubicon Project Ad Tag --\\x3e\\n<div data-rp-impression-id=\'".concat(r,"\'>\\n<script type=\'text/javascript\'>").concat(e,"<\\/script>\\n</div>\\n</body>\\n</html>");}(r.script,r.impression_id);var o=p(g[r.size_id].split("x").map(function(e){return Number(e);}),2);n.width=o[0],n.height=o[1];}n.rubiconTargeting=(Array.isArray(r.targeting)?r.targeting:[]).reduce(function(e,r){return e[r.key]=r.values[0],e;},{rpfl_elemid:i.adUnitCode}),e.push(n);}else c.logError("Rubicon bid adapter Error: bidRequest undefined at index position:".concat(t),s,a);return e;},[]).sort(function(e,r){return(r.cpm||0)-(e.cpm||0);});},getUserSyncs:function getUserSyncs(e,r,t){if(!j&&e.iframeEnabled){var i="";return t&&"string"==typeof t.consentString&&("boolean"==typeof t.gdprApplies?i+="?gdpr=".concat(Number(t.gdprApplies),"&gdpr_consent=").concat(t.consentString):i+="?gdpr_consent=".concat(t.consentString)),j=!0,{type:"iframe",url:n+i};}},transformBidParams:function transformBidParams(e,r){return c.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},e);}};function y(e,r){var t=d.config.getConfig("pageUrl");return e.params.referrer?t=e.params.referrer:t||(t=r.refererInfo.referer),e.params.secure?t.replace(/^http:/i,"https:"):t;}function b(e,r){var t=e.params;if("video"===r){var i=[];return t.video&&t.video.playerWidth&&t.video.playerHeight?i=[t.video.playerWidth,t.video.playerHeight]:Array.isArray(c.deepAccess(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?i=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(i=e.sizes[0]),i;}var n=[];return Array.isArray(t.sizes)?n=t.sizes:void 0!==c.deepAccess(e,"mediaTypes.banner.sizes")?n=o(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&0<e.sizes.length?n=o(e.sizes):c.logWarn("Warning: no sizes are setup or found"),_(n);}function o(e){return c.parseSizesInput(e).reduce(function(e,r){var t=parseInt(g[r],10);return t&&e.push(t),e;},[]);}function h(e){return"object"===l(c.deepAccess(e,"params.video"))&&void 0!==c.deepAccess(e,"mediaTypes.".concat(u.d));}function x(e){var r=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return h(e)?-1===["outstream","instream"].indexOf(c.deepAccess(e,"mediaTypes.".concat(u.d,".context")))?void(r&&c.logError("Rubicon bid adapter requires mediaTypes.video.context to be one of outstream or instream")):b(e,"video").length<2?void(r&&c.logError("Rubicon bid adapter could not determine the playerSize of the video\\nplayerWidth and playerHeight are inferred from one of params.playerWidth/playerHeight or mediaTypes.video.playerSize or adUnit.sizes, in that order")):(r&&c.logMessage("Rubicon bid adapter making video request for adUnit",e.adUnitCode),"video"):0===b(e,"banner").length?void(r&&c.logError("Rubicon bid adapter could not determine the sizes for a banner request\\nThey are inferred from one of params.sizes or mediaTypes.banner.sizes or adUnit.sizes, in that order")):(r&&c.logMessage("Rubicon bid adapter making banner request for adUnit",e.adUnitCode),"banner");}function _(e){var n=[15,2,9];return e.sort(function(e,r){var t=n.indexOf(e),i=n.indexOf(r);return-1<t||-1<i?-1===t?1:-1===i?-1:t-i:e-r;});}function A(e){var r=parseInt(c.deepAccess(e,"params.video.size_id"));return isNaN(r)?"outstream"===c.deepAccess(e,"mediaTypes.".concat(u.d,".context"))?203:201:r;}function T(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]};}function I(r){var t=!0,e=Object.prototype.toString.call([]),i=Object.prototype.toString.call(0),n={mimes:e,protocols:e,maxduration:i,linearity:i,api:e};return Object.keys(n).forEach(function(e){Object.prototype.toString.call(c.deepAccess(r,"mediaTypes.video."+e))!==n[e]&&(t=!1,c.logError("Rubicon Bid Adapter: mediaTypes.video."+e+" is required and must be of type: "+n[e]));}),t;}var j=!1;Object(i.registerBidder)(v);}},[472]);pbjs.processQueue();}/*\n    Prebid Module - Version 3.3.0\n    @3.3.0: - Removal of Native Bidding\n            - Protection against multiple requests\n            - CSD-1916: consentManangement configuration fix\n*/(function createPrebidAdFuelModule(){\'use strict\';var MODULE_NAME=\'Prebid Module\';var MODULE_VERSION=\'v3.3.0\';var logger=window.AdFuelUtils.getLogger(MODULE_NAME,MODULE_VERSION,\'prebid\',\'color: #58f53f; padding: 2px\');var isIntl=window.AdFuelUtils.isIntl||false;var cdnRoot=window.AdFuelUtils.cdnRoot||\'i.cdn.turner.com\';var libraryConfigured=false;var PREBID_TIMEOUT=window.AdFuelUtils.isMobile.any?window.AdFuelOptions.PREBID.MOBILE_TIMEOUT||window.AdFuelOptions.PREBID.TIMEOUT:window.AdFuelOptions.PREBID.DESKTOP_TIMEOUT||window.AdFuelOptions.PREBID.TIMEOUT;var PREBID_VIDEO_TIMEOUT=500;var PREBID_VIDEO_REFRESH_TIMEOUT=1000;var DOM_BIDDERS=window.AdFuelOptions.PREBID.DOM_BIDDERS;var INTL_BIDDERS=window.AdFuelOptions.PREBID.INTL_BIDDERS;var DOM_ACCOUNT_IDS=window.AdFuelOptions.PREBID.DOM_ACCOUNT_IDS;var INTL_ACCOUNT_IDS=window.AdFuelOptions.PREBID.INTL_ACCOUNT_IDS;var RUBICON_ACCOUNT_ID=isIntl?INTL_ACCOUNT_IDS.rubicon:DOM_ACCOUNT_IDS.rubicon;var APPNEXUS_ACCOUNT_ID=isIntl?INTL_ACCOUNT_IDS.appnexus:DOM_ACCOUNT_IDS.appnexus;var PANGAEA_ACCOUNT_ID=isIntl?INTL_ACCOUNT_IDS.pangaea:\'\';var RUBICON_DOM_DESKTOP_SITE_ID=window.AdFuelOptions.PREBID.RUBICON_DOM_DESKTOP_SITE_ID;var RUBICON_INTL_DESKTOP_SITE_ID=window.AdFuelOptions.PREBID.RUBICON_INTL_DESKTOP_SITE_ID;var RUBICON_DOM_MOBILE_SITE_ID=window.AdFuelOptions.PREBID.RUBICON_DOM_MOBILE_SITE_ID;var RUBICON_INTL_MOBILE_SITE_ID=window.AdFuelOptions.PREBID.RUBICON_INTL_MOBILE_SITE_ID;var RUBICON_DOM_DESKTOP_HP_ZONE_MAPPING=window.AdFuelOptions.PREBID.RUBICON_DOM_DESKTOP_HP_ZONE_MAPPING;var RUBICON_DOM_DESKTOP_ROS_ZONE_MAPPING=window.AdFuelOptions.PREBID.RUBICON_DOM_DESKTOP_ROS_ZONE_MAPPING;var RUBICON_DOM_MOBILE_ZONE_MAPPING=window.AdFuelOptions.PREBID.RUBICON_DOM_MOBILE_ZONE_MAPPING;var RUBICON_INTL_DESKTOP_HP_ZONE_MAPPING=window.AdFuelOptions.PREBID.RUBICON_INTL_DESKTOP_HP_ZONE_MAPPING;var RUBICON_INTL_DESKTOP_ROS_ZONE_MAPPING=window.AdFuelOptions.PREBID.RUBICON_INTL_DESKTOP_ROS_ZONE_MAPPING;var RUBICON_INTL_MOBILE_ZONE_MAPPING=window.AdFuelOptions.PREBID.RUBICON_INTL_MOBILE_ZONE_MAPPING;var RUBICON_SIZE_MAPPING={\'728x90\':2,\'160x600\':9,\'300x600\':10,\'300x250\':15,\'320x50\':43,\'970x90\':55,\'970x250\':57};var PREBID_VIDEO_TARGETING={hb_uuid:\'\',hb_bidder:\'\',hb_adid:\'\',hb_pb:\'\',hb_size:\'\',hb_source:\'\'};var PREBID_VIDEO_REFRESHED_TARGETING={hb_uuid:\'\',hb_bidder:\'\',hb_adid:\'\',hb_pb:\'\',hb_size:\'\',hb_source:\'\'};var PREBID_MIDROLL_VIDEO_TARGETING={hb_cache_id:\'\'};window.pbjs=window.pbjs||{};window.pbjs.que=window.pbjs.que||[];var REQUESTED_AD_UNITS={banner:[]};function getVideoBids(){return new Promise(function(resolve){logger.log("Building Video AdUnit...");var videoBid={code:\'video1\',mediaTypes:{video:{context:\'instream\',playerSize:[640,480]}},bids:[{bidder:\'appnexus\',params:{invCode:\'cnn_homepage_video1\',member:APPNEXUS_ACCOUNT_ID,video:{skippable:true,playback_methods:[\'auto_play_sound_off\']}}}]};logger.log("Adding Video AdUnit: ",videoBid);window.pbjs.que.push(function(){window.pbjs.addAdUnits(videoBid);logger.log(\'Requesting Video Bids...\',videoBid);var videoBidsBackHandler=function videoBidsBackHandler(bids){try{var highestCmpBids=window.pbjs.getHighestCpmBids([\'video1\']);var uuid=\'\';if(highestCmpBids.length>0){logger.log(\'Found highest cmp bid for \\\'video\\\'...\');var targetBid=highestCmpBids[0];if(targetBid.videoCacheKey){logger.log(\'Returning Video Cache Key...\');uuid=targetBid.videoCacheKey;}}}catch(err){logger.warn(\'Could not get highest cmp bid for \\\'video1\\\'...\',err);}if(Object.keys(bids).length>0){logger.log(\'Received Bids...\');PREBID_VIDEO_TARGETING=window.pbjs.getAdserverTargeting().video1;PREBID_VIDEO_TARGETING.hb_uuid=uuid;}resolve(PREBID_VIDEO_TARGETING);};window.pbjs.requestBids({adUnitCodes:[\'video1\'],bidsBackHandler:videoBidsBackHandler,timeout:PREBID_VIDEO_TIMEOUT});logger.log(\'Removing Video Ad Unit: \',videoBid);});});}function getRefreshedVideoBids(){return new Promise(function(resolve){logger.log("Building Video AdUnit...");var videoBid={code:\'video1\',mediaTypes:{video:{context:\'instream\',playerSize:[640,480]}},bids:[{bidder:\'appnexus\',params:{invCode:\'cnn_homepage_video1\',member:APPNEXUS_ACCOUNT_ID,video:{skippable:true,playback_methods:[\'auto_play_sound_off\']}}}]};window.pbjs.que.push(function(){logger.log(\'Requesting Video Bids...\',videoBid);var videoBidsBackHandler=function videoBidsBackHandler(bids){try{var highestCmpBids=window.pbjs.getHighestCpmBids([\'video1\']);var uuid=\'\';if(highestCmpBids.length>0){logger.log(\'Found highest cmp bid for \\\'video\\\'...\');var targetBid=highestCmpBids[0];if(targetBid.videoCacheKey){logger.log(\'Returning Video Cache Key...\');uuid=targetBid.videoCacheKey;}}}catch(err){logger.warn(\'Could not get highest cmp bid for \\\'video1\\\'...\',err);}if(Object.keys(bids).length>0){logger.log(\'Received Bids...\');PREBID_VIDEO_REFRESHED_TARGETING=window.pbjs.getAdserverTargeting().video1;PREBID_VIDEO_REFRESHED_TARGETING.hb_uuid=uuid;}resolve(PREBID_VIDEO_REFRESHED_TARGETING);};window.pbjs.requestBids({adUnitCodes:[\'video1\'],bidsBackHandler:videoBidsBackHandler,timeout:PREBID_VIDEO_REFRESH_TIMEOUT});logger.log(\'Removing Video Ad Unit: \',videoBid);window.pbjs.removeAdUnit(\'video1\');});});}function getMidrollVideoBids(){return new Promise(function(resolve,reject){logger.log("Building Video AdUnit...");var videoBid={code:\'video1\',mediaTypes:{video:{context:\'adpod\',playerSize:[640,480],adPodDurationSec:30,durationRangeSec:[15,30]}},bids:[{bidder:\'appnexus\',params:{invCode:\'cnn_homepage_midroll\',member:APPNEXUS_ACCOUNT_ID,video:{skippable:true,playback_methods:[\'auto_play_sound_off\']}}}]};logger.log("Adding Video AdUnit: ",videoBid);var innerFunc=function innerFunc(){window.pbjs.addAdUnits(videoBid);logger.log(\'Requesting Video Bids...\',videoBid);var videoBidsBackHandler=function videoBidsBackHandler(){logger.log(\'Calling pbjs.adServers.freewheel.getTargeting...\');window.pbjs.adServers.freewheel.getTargeting({codes:[\'video1\'],callback:function callback(err,targeting){if(err){logger.error("Freewheel Targeting Error: ",err);reject(err);}logger.log("FreewheelTargeting: ",targeting);PREBID_MIDROLL_VIDEO_TARGETING=targeting.video1;resolve(PREBID_MIDROLL_VIDEO_TARGETING);}});};window.pbjs.requestBids({adUnitCodes:[\'video1\'],bidsBackHandler:videoBidsBackHandler,timeout:PREBID_VIDEO_TIMEOUT});};logger.log(\'LibraryConfigured: \',libraryConfigured);libraryConfigured.then(function(){window.pbjs.que.push(innerFunc);});});}function buildPrebidAdUnits(asset){var bannerAdUnits=[];for(var x=0;x<asset.length;x++){var invCodeArray=asset[x].rktr_ad_id.split(\'/\');var pos=asset[x].targeting[0][1][0];logger.log(\'Pos: \',pos);var invCode=invCodeArray[0].toLowerCase()+(invCodeArray[1]?\'_\'+invCodeArray[1].toLowerCase():\'\');var bannerAdUnitMock={code:\'\',mediaTypes:{banner:{sizes:[]}},bids:[]};var bidMocks={rubicon:{bidder:\'rubicon\',// Fastlane (US and EU) and AppNexus (EU ONLY)\nparams:{accountId:RUBICON_ACCOUNT_ID,// Toggle based on location\nsiteId:26792,// Get From Mapping\nzoneId:231942,// Get From Mapping\nposition:"btf"// Parse from Div Id\n}},appnexus:{bidder:\'appnexus\',params:{invCode:invCode,// Optional - Supplied from AppNexus\nmember:APPNEXUS_ACCOUNT_ID// Optional - Supplied from AppNexus\n}},pangaea:{bidder:\'pangaea\',params:{invCode:invCode,member:PANGAEA_ACCOUNT_ID}}};if(asset[x].monetization.isMonetized){var buildBidsForAdUnitMock=function buildBidsForAdUnitMock(){var BIDDERS=isIntl?INTL_BIDDERS:DOM_BIDDERS;for(var bIndex=0;bIndex<BIDDERS.length;bIndex++){var bidder=BIDDERS[bIndex];var bannerBidMock=Object.assign({},bidMocks[bidder]);bannerAdUnitMock.code=asset[x].originalElementId||asset[x].rktr_slot_id;switch(bidder){case\'appnexus\':bannerBidMock.params.invCode=invCode+\'_\'+posValue;break;case\'pangaea\':bannerBidMock.params.invCode=invCode+\'_\'+posValue;break;case\'rubicon\':bannerBidMock.params.siteId=isIntl?window.AdFuelUtils.isMobile.any?RUBICON_INTL_MOBILE_SITE_ID:RUBICON_INTL_DESKTOP_SITE_ID:window.AdFuelUtils.isMobile.any?RUBICON_DOM_MOBILE_SITE_ID:RUBICON_DOM_DESKTOP_SITE_ID;if(window.AdFuelUtils.isMobile.any){bannerBidMock.params.zoneId=isIntl?RUBICON_INTL_MOBILE_ZONE_MAPPING[position]?RUBICON_INTL_MOBILE_ZONE_MAPPING[position]:RUBICON_INTL_MOBILE_ZONE_MAPPING:RUBICON_DOM_MOBILE_ZONE_MAPPING[position]?RUBICON_DOM_MOBILE_ZONE_MAPPING[position]:RUBICON_DOM_MOBILE_ZONE_MAPPING;}else{if(isHomepage){bannerBidMock.params.zoneId=isIntl?RUBICON_INTL_DESKTOP_HP_ZONE_MAPPING[position]?RUBICON_INTL_DESKTOP_HP_ZONE_MAPPING[position]:RUBICON_INTL_DESKTOP_HP_ZONE_MAPPING:RUBICON_DOM_DESKTOP_HP_ZONE_MAPPING[position]?RUBICON_DOM_DESKTOP_HP_ZONE_MAPPING[position]:RUBICON_DOM_DESKTOP_HP_ZONE_MAPPING;}else{bannerBidMock.params.zoneId=isIntl?RUBICON_INTL_DESKTOP_ROS_ZONE_MAPPING[position]?RUBICON_INTL_DESKTOP_ROS_ZONE_MAPPING[position]:RUBICON_INTL_DESKTOP_ROS_ZONE_MAPPING:RUBICON_DOM_DESKTOP_ROS_ZONE_MAPPING[position]?RUBICON_DOM_DESKTOP_ROS_ZONE_MAPPING[position]:RUBICON_DOM_DESKTOP_ROS_ZONE_MAPPING;}}bannerBidMock.params.position=position;bannerBidMock.params.sizes=sizeMapArray;break;default:break;}bannerAdUnitMock.bids.push(bannerBidMock);}};var sizeMapArray=[];for(var sIndex=0;sIndex<asset[x].monetization.filteredSizes.length;sIndex++){sizeMapArray.push(RUBICON_SIZE_MAPPING[asset[x].monetization.filteredSizes[sIndex].join(\'x\')]);}var posValue=\'\';var position=\'atf\';var slotTargets=asset[x].targeting||[];for(var tIndex=0;tIndex<slotTargets.length;tIndex++){var target=slotTargets[tIndex];if(target[0]===\'pos\'){if(Array.isArray(target[1])){posValue=target[1][0];position=target[1][0].split(\'_\')[1];}else{posValue=target[1];position=target[1].split(\'_\')[1];}}}var isHomepage=asset[x].rktr_ad_id.indexOf(\'/homepage\')>=0||asset[x].rktr_ad_id.indexOf(\'/business/landing\')>=0;bannerAdUnitMock.code=asset[x].originalElementId||asset[x].rktr_slot_id;bannerAdUnitMock.mediaTypes.banner.sizes=asset[x].monetization.filteredSizes;buildBidsForAdUnitMock(isIntl);bannerAdUnits.push(bannerAdUnitMock);}}logger.log("Built Ad Units: ",JSON.parse(JSON.stringify({banner:bannerAdUnits})));return{banner:bannerAdUnits};}function preQueueCallback(asset,done){var callbackExecuted=false;if(asset.length>0){var pbQueueFunction=function pbQueueFunction(){if(adUnits.banner.length>0){logger.log("Adding Banner Ad Units...",JSON.parse(JSON.stringify(adUnits.banner)));window.pbjs.addAdUnits(adUnits.banner);}logger.log("Requesting Bids...");var bidsBackHandlerFunc=function bidsBackHandlerFunc(bids){var ast=window.pbjs.getAdserverTargeting();logger.log("Display Bids: ",bids,ast);clearTimeout(window.fallbackTimeout);if(!callbackExecuted){callbackExecuted=true;done();}};window.pbjs.aliasBidder(\'appnexus\',\'pangaea\');if(adUnits.banner.length>0){REQUESTED_AD_UNITS=adUnits;window.pbjs.requestBids({adUnitCodes:adUnits.banner.map(function(adUnit){return adUnit.code;}),timeout:PREBID_TIMEOUT,bidsBackHandler:bidsBackHandlerFunc});window.fallbackTimeout=setTimeout(function(){logger.log("Timed out...");clearTimeout(window.fallbackTimeout);if(!callbackExecuted){callbackExecuted=true;done();}},PREBID_TIMEOUT);adUnits.banner.length=0;}};var adUnits=buildPrebidAdUnits(asset);adUnits.banner=adUnits.banner.filter(function(adUnit){return REQUESTED_AD_UNITS.banner.indexOf(adUnit)==-1;});window.pbjs.que.push(pbQueueFunction);}else{if(!callbackExecuted){callbackExecuted=true;done();}}}function preDispatchCallback(asset,done){logger.log("Setting Targeting...");function innerFunc(){logger.log("Page Slots: ",Object.keys(window.AdFuel.pageSlots));window.pbjs.que.push(function(){window.pbjs.setTargetingForGPTAsync(Object.keys(window.AdFuel.pageSlots));});done();}window.googletag.cmd.push(innerFunc);}function preRefreshCallback(asset,done){var callbackExecuted=false;if(asset.length>0){var pbQueueFunction=function pbQueueFunction(){if(adUnits.banner.length>0){var adUnitCodes=adUnits.banner.map(function(adUnit){return adUnit.code;});logger.log("Requesting Bids...",adUnitCodes);window.pbjs.requestBids({adUnitCodes:adUnitCodes,timeout:PREBID_TIMEOUT,bidsBackHandler:function bidsBackHandler(bids){clearTimeout(window.fallbackTimeout);logger.log("GOT BIDS: ",bids,adUnitCodes);window.pbjs.setTargetingForGPTAsync(adUnitCodes);if(!callbackExecuted){callbackExecuted=true;done();}}});window.fallbackTimeout=setTimeout(function(){logger.log("Timed out...");clearTimeout(window.fallbackTimeout);if(!callbackExecuted){callbackExecuted=true;done();}},PREBID_TIMEOUT);}};var adUnits=buildPrebidAdUnits(asset);logger.log(\'Pre-Refresh Asset: \',asset);var refreshedPageSlots=asset.map(function(pageSlot){logger.log(\'Page Slot: \',pageSlot,pageSlot.rktr_slot_id);return pageSlot.rktr_slot_id;});logger.log(\'Refreshed Page Slots: \',refreshedPageSlots);window.pbjs.que.push(pbQueueFunction);}else{if(!callbackExecuted){callbackExecuted=true;done();}}}function setGeoTargeting(forceIntl){logger.log("Setting GeoTargeting... ",window.AdFuelUtils.isIntl);function setGeoTarget(){if(window.AdFuelUtils.isIntl){logger.log(\'Setting Geo Target: EU\');window.AdFuel.addPageLevelTarget(\'hbg\',\'EU\');}else if(forceIntl){logger.log(\'Setting Geo Target: EU\');window.AdFuel.addPageLevelTarget(\'hbg\',\'EU\');}else{logger.log(\'Setting Geo Target: US\');window.AdFuel.addPageLevelTarget(\'hbg\',\'US\');}}window.googletag.cmd.push(setGeoTarget);}function registerModuleWithAdFuel(){logger.log(\'Registering \'+MODULE_NAME+\' module with AdFuel\');window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:PREBID_TIMEOUT});window.AdFuel.registerModule(MODULE_NAME,{preQueueCallback:preQueueCallback,preDispatchCallback:preDispatchCallback,preRefreshCallback:preRefreshCallback},MODULE_VERSION,window.AdFuelOptions.PREBID);}function configurePrebidLibrary(){if(!libraryConfigured){libraryConfigured=true;var priceBuckets={buckets:[{\'precision\':2,\'min\':0,\'max\':5,\'increment\':0.01},{\'precision\':2,\'min\':5,\'max\':30,\'increment\':0.05},{\'precision\':2,\'min\':30,\'max\':50,\'increment\':1.00}]};var sendAllBids=true;//isIntl ? false : true;\nvar innerFunc=function innerFunc(){var prebidConfig={priceGranularity:priceBuckets,debug:false,enableSendAllBids:sendAllBids,bidderTimeout:PREBID_TIMEOUT,cache:{url:\'https://prebid.adnxs.com/pbc/v1/cache\'},adpod:{brandCategoryExclusion:true},userSync:{filterSettings:{iframe:{bidders:\'*\',// \'*\' means all bidders\nfilter:\'include\'}}}};window.AdFuelOptions.GDPR.APPLIES.then(function(applies){if(applies){logger.log(\'Setting consentManagement config...\');prebidConfig.consentManagement={cmpApi:\'iab\',timeout:250,allowAuctionWithoutConsent:false};};logger.log("Setting config...",prebidConfig);window.pbjs.setConfig(prebidConfig);if(!isIntl){window.pbjs.bidderSettings={rubicon:{alwaysUseBid:true,adserverTargeting:[{key:"hb_db_rubicon",val:function val(bidResponse){var keyvalue;if(bidResponse.adserverTargeting&&bidResponse.adserverTargeting[\'rpfl_\'+(isIntl?INTL_ACCOUNT_IDS[\'rubicon\']:DOM_ACCOUNT_IDS[\'rubicon\'])]){keyvalue=bidResponse.adserverTargeting[\'rpfl_\'+(isIntl?INTL_ACCOUNT_IDS[\'rubicon\']:DOM_ACCOUNT_IDS[\'rubicon\'])];}else if(bidResponse.rubiconTargeting&&bidResponse.rubiconTargeting[\'rpfl_\'+(isIntl?INTL_ACCOUNT_IDS[\'rubicon\']:DOM_ACCOUNT_IDS[\'rubicon\'])]){keyvalue=bidResponse.rubiconTargeting[\'rpfl_\'+(isIntl?INTL_ACCOUNT_IDS[\'rubicon\']:DOM_ACCOUNT_IDS[\'rubicon\'])];}else{return;}var deal_tier=keyvalue.substring(keyvalue.indexOf(\'_\')+1);return deal_tier;}}]}};}setGeoTargeting();});};window.pbjs.que.push(innerFunc);window.AdFuelVideoAPI=window.AdFuelVideoAPI||{};window.AdFuelVideoAPI.Prebid=window.PrebidVideoAPI={getTargetingData:function getTargetingData(){window.PrebidVideoAPI._targetingPromise=new Promise(function(resolve){getVideoBids().then(function(results){resolve(results);});});return window.PrebidVideoAPI._targetingPromise;},getRefreshedTargetingData:function getRefreshedTargetingData(){window.PrebidVideoAPI._refreshedTargetingPromise=new Promise(function(resolve){getRefreshedVideoBids().then(function(){resolve(PREBID_VIDEO_TARGETING);});});return window.PrebidVideoAPI._refreshedTargetingPromise;},getPreRollTargetingData:function getPreRollTargetingData(){window.PrebidVideoAPI._preRollTargetingPromise=new Promise(function(resolve){getVideoBids().then(function(){resolve(PREBID_VIDEO_TARGETING);});});return window.PrebidVideoAPI._preRollTargetingPromise;},getMidRollTargetingData:function getMidRollTargetingData(){window.PrebidVideoAPI._midRollTargetingPromise=new Promise(function(resolve){getMidrollVideoBids().then(function(){resolve(PREBID_MIDROLL_VIDEO_TARGETING);});});return window.PrebidVideoAPI._midRollTargetingPromise;},getRefreshedPreRollTargetingData:function getRefreshedPreRollTargetingData(){window.PrebidVideoAPI._refreshedPreRollTargetingPromise=new Promise(function(resolve){getRefreshedVideoBids().then(function(){resolve(PREBID_VIDEO_TARGETING);});});return window.PrebidVideoAPI._refreshedPreRollTargetingPromise;},getRefreshedMidRollTargetingData:function getRefreshedMidRollTargetingData(){window.PrebidVideoAPI._refreshedMidRollTargetingPromise=new Promise(function(resolve){getMidrollVideoBids().then(function(){resolve(PREBID_MIDROLL_VIDEO_TARGETING);});});return window.PrebidVideoAPI._refreshedMidRollTargetingPromise;},__VERSION__:MODULE_VERSION};if(!document.getElementById(\'PrebidScript\')){var a=document;var b=a.createElement(\'script\');var c=a.getElementsByTagName(\'script\')[0];b.type=\'text/javascript\';b.id="PrebidScript";b.src=\'//\'+cdnRoot+\'/ads/adfuel/modules/prebid2.10.0-GDPR.js\';c.parentNode.insertBefore(b,c);}var timeoutOverride=window.AdFuelUtils.getURLParam(\'mdt\');if(timeoutOverride){PREBID_TIMEOUT=timeoutOverride;logger.log(\'Overriding Max Duration Time: \',PREBID_TIMEOUT);}}}function init(){configurePrebidLibrary();if(window.AdFuel&&window.AdFuel.cmd){//AdFuel loaded first\nwindow.AdFuel.cmd.push(registerModuleWithAdFuel);}else if(window.AdFuel){registerModuleWithAdFuel();}else{window.AdFuelUtils.addEvent(document,\'AdFuelCreated\',registerModuleWithAdFuel);}}logger.log(\'Initializing Module...\');init();})();}(function createGUIDModule(){var MODULE_NAME=\'Turner GUID Module\';var MODULE_VERSION=\'v3.1.1\';// Stub out AdFuelUtils in case it\'s not on the page.\nwindow.AdFuelUtils=window.AdFuelUtils||{addEvent:function addEvent(){},getLogger:function getLogger(){},readCookie:function readCookie(){}};// Stub out AdFuelOptions in case it\'s not on the page.\nwindow.AdFuelOptions=window.AdFuelOptions||{};window.AdFuelOptions.GUID=window.AdFuelOptions.GUID||{};var logger=window.AdFuelUtils.getLogger(MODULE_NAME,MODULE_VERSION,\'guid\',\'color: #d2b000; padding: 2px\');var enableGuid=true;window.AdFuelOptions.GDPR?window.AdFuelOptions.GDPR.APPLIES.then(function(applies){if(applies&&!window.AdFuelUtils.getConsent()){logger.log(\'Disabling GUID due to GDPR restrictions.\');enableGuid=false;}if(enableGuid){var processCookie=function processCookie(){if(window){window.turner_getGuid=t_getGuid;}function registerModuleWithAdFuel(){//todo: remove AdFuel.readCookie("ug") once everyone is on new ais.js\nwindow.AdFuel.registerModule(MODULE_NAME,{},MODULE_VERSION,window.AdFuelOptions.GUID);var guid=window.turner_getGuid();logger.log(\'setting guid targeting\',{guid:guid});window.AdFuel.addPageLevelTarget(\'guid\',guid);}if(window.AdFuel){//AdFuel loaded first\nregisterModuleWithAdFuel();}else{//wait for AdFuel to load\nwindow.AdFuelUtils.addEvent(document,\'AdFuelCreated\',registerModuleWithAdFuel);}};var init=function init(){logger.log(\'Initializing Module...\');if(window.AdFuelUtils.hasCookie(\'ugs\')){processCookie();}else{//execute script to set cookie\nvar guid_url=\'//www.ugdturner.com/xd.sjs\';var a=document;var b=a.createElement(\'script\');var c=a.getElementsByTagName(\'script\')[0];var d=/^(complete|loaded)$/;var e=false;b.type=\'text/javascript\';b.async=true;b.src=guid_url;b.onload=b.onreadystatechange=function(){if(!e&&!(\'readyState\'in b&&d.test(b.readyState))){b.onload=b.onreadystatechange=null;e=true;processCookie();}};c.parentNode.insertBefore(b,c);}};//used by freewheel helper\nvar t_getGuid=function t_getGuid(){return window.AdFuelUtils.readCookie(\'ug\');};init();}}):\'\';})();(function createTransactionIDModule(){var MODULE_NAME=\'Transaction ID Module\';var MODULE_VERSION=\'v3.1.1\';// Stub out AdFuelUtils in case it\'s not on the page.\nwindow.AdFuelUtils=window.AdFuelUtils||{addEvent:function addEvent(){},getLogger:function getLogger(){}};// Stub out AdFuelOptions in case it\'s not on the page.\nwindow.AdFuelOptions=window.AdFuelOptions||{};window.AdFuelOptions.TRANSACTIONID=window.AdFuelOptions.TRANSACTIONID||{};var logger=window.AdFuelUtils.getLogger(MODULE_NAME,MODULE_VERSION,\'transid\',\'color: #d2b000; padding: 2px\');window.cnnad_transactionID=null;//referenced by registries\nwindow.cnnad_getTransactionID=function cnnad_getTransactionID(){if(!window.cnnad_transactionID){window.cnnad_transactionID=Math.round(new Date().getTime()/1000)+\'\'+Math.floor(Math.random()*9007199254740992);}return window.cnnad_transactionID;};window.turner_getTransactionId=window.cnnad_getTransactionID;window.turner_getTransactionId();function registerModuleWithAdfuel(){var transId=window.turner_getTransactionId();logger.log(\'setting transid targeting\',{transId:transId});window.AdFuel.registerModule(MODULE_NAME,{},MODULE_VERSION,{});window.AdFuel.addPageLevelTarget(\'transId\',transId);}var init=function init(){window.AdFuelOptions.GDPR?window.AdFuelOptions.GDPR.APPLIES.then(function(applies){if(applies&&!window.AdFuelUtils.getConsent()){logger.log(\'Disabling Transaction ID due to GDPR restrictions.\');}else{logger.log(\'Initializing Module...\');if(window.AdFuel){//AdFuel loaded first\nregisterModuleWithAdfuel();}else{//wait for AdFuel to load\nwindow.AdFuelUtils.addEvent(document,\'AdFuelCreated\',registerModuleWithAdfuel);}}}):\'\';};init();})();if(CNN.Features.enableCreativeReview===true){if(CNN.Features.enableLocalKeypress!==false){/*\n Keypress\n https://dmauro.github.io/Keypress/\n */(function(){var d,j,a,k,e,h,l,o,p,m,t,u,f,b,i,x,r,v,g,s,w,q,n={}.hasOwnProperty,c=[].indexOf||function(A){for(var z=0,y=this.length;z<y;z++){if(z in this&&this[z]===A){return z;}}return-1;};p={is_unordered:false,is_counting:false,is_exclusive:false,is_solitary:false,prevent_default:false,prevent_repeat:false};w=["meta","alt","option","ctrl","shift","cmd"];g="ctrl";j={};j.debug=false;d=function(){function y(B){var A,z;for(A in B){if(!n.call(B,A)){continue;}z=B[A];if(z!==false){this[A]=z;}}this.keys=this.keys||[];this.count=this.count||0;}y.prototype.allows_key_repeat=function(){return!this.prevent_repeat&&typeof this.on_keydown==="function";};y.prototype.reset=function(){this.count=0;return this.keyup_fired=null;};return y;}();j.Listener=function(){function y(z,D){var A,C,B;if(typeof jQuery!=="undefined"&&jQuery!==null&&z instanceof jQuery){if(z.length!==1){v("Warning: your jQuery selector should have exactly one object.");}z=z[0];}this.should_suppress_event_defaults=false;this.should_force_event_defaults=false;this.sequence_delay=800;this._registered_combos=[];this._keys_down=[];this._active_combos=[];this._sequence=[];this._sequence_timer=null;this._prevent_capture=false;this._defaults=D||{};for(C in p){if(!n.call(p,C)){continue;}B=p[C];this._defaults[C]=this._defaults[C]||B;}this.element=z||document.body;A=function A(G,F,E){if(G.addEventListener){G.addEventListener(F,E);}else{if(G.attachEvent){G.attachEvent("on"+F,E);}}return E;};this.keydown_event=A(this.element,"keydown",function(E){return function(F){F=F||window.event;E._receive_input(F,true);return E._bug_catcher(F);};}(this));this.keyup_event=A(this.element,"keyup",function(E){return function(F){F=F||window.event;return E._receive_input(F,false);};}(this));this.blur_event=A(window,"blur",function(E){return function(){var G,I,F,H;H=E._keys_down;for(I=0,F=H.length;I<F;I++){G=H[I];E._key_up(G,{});}return E._keys_down=[];};}(this));}y.prototype.destroy=function(){var z;z=function z(C,B,A){if(C.removeEventListener!=null){return C.removeEventListener(B,A);}else{if(C.removeEvent!=null){return C.removeEvent("on"+B,A);}}};z(this.element,"keydown",this.keydown_event);z(this.element,"keyup",this.keyup_event);return z(window,"blur",this.blur_event);};y.prototype._bug_catcher=function(A){var z;if(g==="cmd"&&c.call(this._keys_down,"cmd")>=0&&(z=h(A.keyCode))!=="cmd"&&z!=="shift"&&z!=="alt"&&z!=="caps"&&z!=="tab"){return this._receive_input(A,false);}};y.prototype._cmd_bug_check=function(z){if(g==="cmd"&&c.call(this._keys_down,"cmd")>=0&&c.call(z,"cmd")<0){return false;}return true;};y.prototype._prevent_default=function(A,z){if((z||this.should_suppress_event_defaults)&&!this.should_force_event_defaults){if(A.preventDefault){A.preventDefault();}else{A.returnValue=false;}if(A.stopPropagation){return A.stopPropagation();}}};y.prototype._get_active_combos=function(z){var B,A;B=[];A=m(this._keys_down,function(C){return C!==z;});A.push(z);this._match_combo_arrays(A,function(C){return function(D){if(C._cmd_bug_check(D.keys)){return B.push(D);}};}(this));this._fuzzy_match_combo_arrays(A,function(C){return function(D){if(c.call(B,D)>=0){return;}if(!(D.is_solitary||!C._cmd_bug_check(D.keys))){return B.push(D);}};}(this));return B;};y.prototype._get_potential_combos=function(B){var E,z,D,A,C;z=[];C=this._registered_combos;for(D=0,A=C.length;D<A;D++){E=C[D];if(E.is_sequence){continue;}if(c.call(E.keys,B)>=0&&this._cmd_bug_check(E.keys)){z.push(E);}}return z;};y.prototype._add_to_active_combos=function(A){var O,B,D,N,L,J,E,K,H,G,C,M,z,I,F;K=false;E=true;N=false;if(c.call(this._active_combos,A)>=0){return true;}else{if(this._active_combos.length){for(J=H=0,I=this._active_combos.length;0<=I?H<I:H>I;J=0<=I?++H:--H){O=this._active_combos[J];if(!(O&&O.is_exclusive&&A.is_exclusive)){continue;}D=O.keys;if(!K){for(G=0,M=D.length;G<M;G++){B=D[G];K=true;if(c.call(A.keys,B)<0){K=false;break;}}}if(E&&!K){F=A.keys;for(C=0,z=F.length;C<z;C++){L=F[C];E=false;if(c.call(D,L)<0){E=true;break;}}}if(K){if(N){O=this._active_combos.splice(J,1)[0];if(O!=null){O.reset();}}else{O=this._active_combos.splice(J,1,A)[0];if(O!=null){O.reset();}N=true;}E=false;}}}}if(E){this._active_combos.unshift(A);}return K||E;};y.prototype._remove_from_active_combos=function(D){var A,z,C,B;for(z=C=0,B=this._active_combos.length;0<=B?C<B:C>B;z=0<=B?++C:--C){A=this._active_combos[z];if(A===D){D=this._active_combos.splice(z,1)[0];D.reset();break;}}};y.prototype._get_possible_sequences=function(){var z,I,G,K,J,D,F,E,B,L,H,C,A;J=[];H=this._registered_combos;for(F=0,L=H.length;F<L;F++){z=H[F];for(G=E=1,C=this._sequence.length;1<=C?E<=C:E>=C;G=1<=C?++E:--E){D=this._sequence.slice(-G);if(!z.is_sequence){continue;}if(c.call(z.keys,"shift")<0){D=m(D,function(M){return M!=="shift";});if(!D.length){continue;}}for(I=B=0,A=D.length;0<=A?B<A:B>A;I=0<=A?++B:--B){if(z.keys[I]===D[I]){K=true;}else{K=false;break;}}if(K){J.push(z);}}}return J;};y.prototype._add_key_to_sequence=function(A,E){var D,B,C,z;this._sequence.push(A);B=this._get_possible_sequences();if(B.length){for(C=0,z=B.length;C<z;C++){D=B[C];this._prevent_default(E,D.prevent_default);}if(this._sequence_timer){clearTimeout(this._sequence_timer);}if(this.sequence_delay>-1){this._sequence_timer=setTimeout(function(){return this._sequence=[];},this.sequence_delay);}}else{this._sequence=[];}};y.prototype._get_sequence=function(M){var z,I,G,J,K,E,F,D,B,L,H,C,A;H=this._registered_combos;for(F=0,L=H.length;F<L;F++){z=H[F];if(!z.is_sequence){continue;}for(G=D=1,C=this._sequence.length;1<=C?D<=C:D>=C;G=1<=C?++D:--D){E=m(this._sequence,function(N){if(c.call(z.keys,"shift")>=0){return true;}return N!=="shift";}).slice(-G);if(z.keys.length!==E.length){continue;}for(I=B=0,A=E.length;0<=A?B<A:B>A;I=0<=A?++B:--B){K=E[I];if(c.call(z.keys,"shift")<0){if(K==="shift"){continue;}}if(M==="shift"&&c.call(z.keys,"shift")<0){continue;}if(z.keys[I]===K){J=true;}else{J=false;break;}}}if(J){;if(z.is_exclusive){this._sequence=[];}return z;}}return false;};y.prototype._receive_input=function(A,B){var z;if(this._prevent_capture){if(this._keys_down.length){this._keys_down=[];}return;}z=h(A.keyCode);if(!B&&!this._keys_down.length&&(z==="alt"||z===g)){return;}if(!z){return;}if(B){return this._key_down(z,A);}else{return this._key_up(z,A);}};y.prototype._fire=function(B,C,z,A){if(typeof C["on_"+B]==="function"){this._prevent_default(z,C["on_"+B].call(C["this"],z,C.count,A)!==true);}if(B==="release"){C.count=0;}if(B==="keyup"){return C.keyup_fired=true;}};y.prototype._match_combo_arrays=function(A,C){var z,E,B,D;D=this._registered_combos;for(E=0,B=D.length;E<B;E++){z=D[E];if(!z.is_unordered&&e(A,z.keys)||z.is_unordered&&k(A,z.keys)){C(z);}}};y.prototype._fuzzy_match_combo_arrays=function(A,C){var z,E,B,D;D=this._registered_combos;for(E=0,B=D.length;E<B;E++){z=D[E];if(!z.is_unordered&&f(z.keys,A)||z.is_unordered&&u(z.keys,A)){C(z);}}};y.prototype._keys_remain=function(E){var A,D,C,z,B;B=E.keys;for(C=0,z=B.length;C<z;C++){A=B[C];if(c.call(this._keys_down,A)>=0){D=true;break;}}return D;};y.prototype._key_down=function(N,J){var C,P,z,H,K,A,M,I,O,F,E,D,L,B,G;O=l(N,J);if(O){N=O;}this._add_key_to_sequence(N,J);I=this._get_sequence(N);if(I){this._fire("keydown",I,J);}for(K in s){z=s[K];if(!J[z]){continue;}if(K===N||c.call(this._keys_down,K)>=0){continue;}this._keys_down.push(K);}for(K in s){z=s[K];if(K===N){continue;}if(c.call(this._keys_down,K)>=0&&!J[z]){if(K==="cmd"&&g!=="cmd"){continue;}for(H=F=0,G=this._keys_down.length;0<=G?F<G:F>G;H=0<=G?++F:--F){if(this._keys_down[H]===K){this._keys_down.splice(H,1);}}}}P=this._get_active_combos(N);M=this._get_potential_combos(N);for(E=0,L=P.length;E<L;E++){C=P[E];this._handle_combo_down(C,M,N,J);}if(M.length){for(D=0,B=M.length;D<B;D++){A=M[D];this._prevent_default(J,A.prevent_default);}}if(c.call(this._keys_down,N)<0){this._keys_down.push(N);}};y.prototype._handle_combo_down=function(A,G,H,D){var C,z,E,I,B,F;if(c.call(A.keys,H)<0){return false;}this._prevent_default(D,A&&A.prevent_default);C=false;if(c.call(this._keys_down,H)>=0){C=true;if(!A.allows_key_repeat()){return false;}}I=this._add_to_active_combos(A,H);A.keyup_fired=false;z=false;if(A.is_exclusive){for(B=0,F=G.length;B<F;B++){E=G[B];if(E.is_exclusive&&E.keys.length>A.keys.length){z=true;break;}}}if(!z){if(A.is_counting&&typeof A.on_keydown==="function"){A.count+=1;}if(I){return this._fire("keydown",A,D,C);}}};y.prototype._key_up=function(T,O){var L,K,P,G,N,J,M,H,D,B,A,z,Q,S,R,I,F,E,C;H=T;M=l(T,O);if(M){T=M;}M=r[H];if(O.shiftKey){if(!(M&&c.call(this._keys_down,M)>=0)){T=H;}}else{if(!(H&&c.call(this._keys_down,H)>=0)){T=M;}}J=this._get_sequence(T);if(J){this._fire("keyup",J,O);}if(c.call(this._keys_down,T)<0){return false;}for(N=D=0,I=this._keys_down.length;0<=I?D<I:D>I;N=0<=I?++D:--D){if((F=this._keys_down[N])===T||F===M||F===H){this._keys_down.splice(N,1);break;}}K=this._active_combos.length;G=[];E=this._active_combos;for(B=0,Q=E.length;B<Q;B++){L=E[B];if(c.call(L.keys,T)>=0){G.push(L);}}for(A=0,S=G.length;A<S;A++){P=G[A];this._handle_combo_up(P,O,T);}if(K>1){C=this._active_combos;for(z=0,R=C.length;z<R;z++){L=C[z];if(L===void 0||c.call(G,L)>=0){continue;}if(!this._keys_remain(L)){this._remove_from_active_combos(L);}}}};y.prototype._handle_combo_up=function(D,C,z){var A,B;this._prevent_default(C,D&&D.prevent_default);B=this._keys_remain(D);if(!D.keyup_fired){A=this._keys_down.slice();A.push(z);if(!D.is_solitary||k(A,D.keys)){this._fire("keyup",D,C);if(D.is_counting&&typeof D.on_keyup==="function"&&typeof D.on_keydown!=="function"){D.count+=1;}}}if(!B){this._fire("release",D,C);this._remove_from_active_combos(D);}};y.prototype.simple_combo=function(z,A){return this.register_combo({keys:z,on_keydown:A});};y.prototype.counting_combo=function(A,z){return this.register_combo({keys:A,is_counting:true,is_unordered:false,on_keydown:z});};y.prototype.sequence_combo=function(z,A){return this.register_combo({keys:z,on_keydown:A,is_sequence:true,is_exclusive:true});};y.prototype.register_combo=function(D){var C,B,A,z;if(typeof D.keys==="string"){D.keys=D.keys.split(" ");}z=this._defaults;for(B in z){if(!n.call(z,B)){continue;}A=z[B];if(D[B]===void 0){D[B]=A;}}C=new d(D);if(q(C)){this._registered_combos.push(C);return C;}};y.prototype.register_many=function(D){var C,B,A,z;z=[];for(B=0,A=D.length;B<A;B++){C=D[B];z.push(this.register_combo(C));}return z;};y.prototype.unregister_combo=function(C){var F,z,E,B,D,A;if(!C){return false;}z=function(G){return function(L){var I,K,J,H;H=[];for(I=K=0,J=G._registered_combos.length;0<=J?K<J:K>J;I=0<=J?++K:--K){if(L===G._registered_combos[I]){G._registered_combos.splice(I,1);break;}else{H.push(void 0);}}return H;};}(this);if(C instanceof d){return z(C);}else{if(typeof C==="string"){C=C.split(" ");}D=this._registered_combos;A=[];for(E=0,B=D.length;E<B;E++){F=D[E];if(F==null){continue;}if(F.is_unordered&&k(C,F.keys)||!F.is_unordered&&e(C,F.keys)){A.push(z(F));}else{A.push(void 0);}}return A;}};y.prototype.unregister_many=function(D){var C,B,A,z;z=[];for(B=0,A=D.length;B<A;B++){C=D[B];z.push(this.unregister_combo(C));}return z;};y.prototype.get_registered_combos=function(){return this._registered_combos;};y.prototype.reset=function(){return this._registered_combos=[];};y.prototype.listen=function(){return this._prevent_capture=false;};y.prototype.stop_listening=function(){return this._prevent_capture=true;};y.prototype.get_meta_key=function(){return g;};return y;}();o=function o(){if(navigator.userAgent.indexOf("Mac OS X")!==-1){g="cmd";}};a=function a(){if(navigator.userAgent.indexOf("Opera")!==-1){x["17"]="cmd";}};h=function h(y){return x[y];};m=function m(A,z){var y;if(A.filter){return A.filter(z);}else{return function(){var D,C,B;B=[];for(D=0,C=A.length;D<C;D++){y=A[D];if(z(y)){B.push(y);}}return B;}();}};k=function k(A,y){var B,C,z;if(A.length!==y.length){return false;}for(C=0,z=A.length;C<z;C++){B=A[C];if(c.call(y,B)>=0){continue;}return false;}return true;};e=function e(z,y){var A,C,B;if(z.length!==y.length){return false;}for(A=C=0,B=z.length;0<=B?C<B:C>B;A=0<=B?++C:--C){if(z[A]!==y[A]){return false;}}return true;};u=function u(A,y){var B,C,z;for(C=0,z=A.length;C<z;C++){B=A[C];if(c.call(y,B)<0){return false;}}return true;};t=Array.prototype.indexOf||function(y,A){var z,C,B;for(z=C=0,B=y.length;0<=B?C<=B:C>=B;z=0<=B?++C:--C){if(y[z]===A){return z;}}return-1;};f=function f(A,y){var B,D,C,E,z;C=0;for(E=0,z=A.length;E<z;E++){D=A[E];B=t.call(y,D);if(B>=C){C=B;}else{return false;}}return true;};v=function v(){if(j.debug){return console.log.apply(console,arguments);}};b=function b(z){var A,B,y;A=false;for(y in x){B=x[y];if(z===B){A=true;break;}}if(!A){for(y in r){B=r[y];if(z===B){A=true;break;}}}return A;};q=function q(A){var H,G,N,I,K,M,z,L,E,D,B,J,y,F,C;z=true;if(!A.keys.length){v("You\'re trying to bind a combo with no keys:",A);}for(G=E=0,F=A.keys.length;0<=F?E<F:E>F;G=0<=F?++E:--E){N=A.keys[G];H=i[N];if(H){N=A.keys[G]=H;}if(N==="meta"){A.keys.splice(G,1,g);}if(N==="cmd"){v(\'Warning: use the "meta" key rather than "cmd" for Windows compatibility\');}}C=A.keys;for(D=0,J=C.length;D<J;D++){N=C[D];if(!b(N)){v(\'Do not recognize the key "\'+N+\'"\');z=false;}}if(c.call(A.keys,"meta")>=0||c.call(A.keys,"cmd")>=0){K=A.keys.slice();for(B=0,y=w.length;B<y;B++){I=w[B];if((G=t.call(K,I))>-1){K.splice(G,1);}}if(K.length>1){v("META and CMD key combos cannot have more than 1 non-modifier keys",A,K);z=false;}}for(M in A){L=A[M];if(p[M]==="undefined"){v("The property "+M+" is not a valid combo property. Your combo has still been registered.");}}return z;};l=function l(z,A){var y;if(!A.shiftKey){return false;}y=r[z];if(y!=null){return y;}return false;};s={cmd:"metaKey",ctrl:"ctrlKey",shift:"shiftKey",alt:"altKey"};i={escape:"esc",control:"ctrl",command:"cmd","break":"pause",windows:"cmd",option:"alt",caps_lock:"caps",apostrophe:"\'",semicolon:";",tilde:"~",accent:"`",scroll_lock:"scroll",num_lock:"num"};r={"/":"?",".":">",",":"<","\'":\'"\',";":":","[":"{","]":"}","\\\\":"|","`":"~","=":"+","-":"_","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")"};x={0:"\\\\",8:"backspace",9:"tab",12:"num",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",44:"print",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"cmd",92:"cmd",93:"cmd",96:"num_0",97:"num_1",98:"num_2",99:"num_3",100:"num_4",101:"num_5",102:"num_6",103:"num_7",104:"num_8",105:"num_9",106:"num_multiply",107:"num_add",108:"num_enter",109:"num_subtract",110:"num_decimal",111:"num_divide",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",124:"print",144:"num",145:"scroll",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\\\",221:"]",222:"\'",223:"`",224:"cmd",225:"alt",57392:"ctrl",63289:"num",59:";",61:"=",173:"-"};j._keycode_dictionary=x;j._is_array_in_array_sorted=f;o();a();if(typeof define==="function"&&define.amd){define([],function(){return j;});}else{if(typeof exports!=="undefined"&&exports!==null){exports.keypress=j;}else{window.keypress=j;}}}).call(this);window.keypressLoaded=true;}(function createCreativeReviewModule(){var MODULE_NAME=\'Creative Review Module\';var MODULE_VERSION=\'v3.0.5\';// Stub out AdFuelUtils in case it\'s not on the page.\nwindow.AdFuelUtils=window.AdFuelUtils||{addEvent:function addEvent(){},getViewport:function getViewport(){},getBrowser:function getBrowser(){},getURLParam:function getURLParam(){},getLogger:function getLogger(){},metricApi:{addMetric:function addMetric(){}}};// Stub out AdFuelOptions in case it\'s not on the page.\nwindow.AdFuelOptions=window.AdFuelOptions||{};window.AdFuelOptions.CREATIVE_REVIEW=window.AdFuelOptions.CREATIVE_REVIEW||{HOTKEY:\'^ d o h $\'};var logger=window.AdFuelUtils.getLogger(MODULE_NAME,MODULE_VERSION,\'adreview\',\'color: #00e1e1; padding: 2px\');function checkHash(){if(location.hash.indexOf(\'doh\')>=0){if(toolRendered){_renderTool();}_renderTool();}else if(toolRendered){_renderTool();}}var deviceInfo=null;var locationInfo=null;function setDevice(){if(deviceInfo!==null){return deviceInfo;}logger.time(\'Getting Device Information\');var viewport=window.AdFuelUtils.getViewport();deviceInfo={availHeight:screen.availHeight,availLeft:screen.availLeft,availTop:screen.availTop,availWidth:screen.availWidth,colorDepth:screen.colorDepth,height:screen.height,orientation:{angle:screen.orientation?screen.orientation.angle:0,onchange:screen.orientation?screen.orientation.onchange:null,type:screen.orientation?screen.orientation.type:null},pixelDepth:screen.pixelDepth,width:screen.width,os:window.navigator.platform?window.navigator.platform:\'Unknown\',browser:window.AdFuelUtils.getBrowser(),"class":\'Desktop\',viewport:viewport.join(\'x\')};if(window.AdFuelUtils.isMobile.amazon.device){deviceInfo.os=\'Amazon\';if(window.AdFuelUtils.isMobile.amazon.phone){deviceInfo["class"]=\'Phone\';}if(window.AdFuelUtils.isMobile.amazon.tablet){deviceInfo["class"]=\'Tablet\';}}if(window.AdFuelUtils.isMobile.android.device){deviceInfo.os=\'Android\';if(window.AdFuelUtils.isMobile.android.phone){deviceInfo["class"]=\'Phone\';}if(window.AdFuelUtils.isMobile.android.tablet){deviceInfo["class"]=\'Tablet\';}}if(window.AdFuelUtils.isMobile.apple.device){deviceInfo.os=\'iOS\';if(window.AdFuelUtils.isMobile.apple.ipod){deviceInfo["class"]=\'iPod\';}if(window.AdFuelUtils.isMobile.apple.phone){deviceInfo["class"]=\'Phone\';}if(window.AdFuelUtils.isMobile.apple.tablet){deviceInfo["class"]=\'Tablet\';}}if(window.AdFuelUtils.isMobile.windows.device){deviceInfo.os=\'Windows\';if(window.AdFuelUtils.isMobile.windows.phone){deviceInfo["class"]=\'Phone\';}if(window.AdFuelUtils.isMobile.windows.tablet){deviceInfo["class"]=\'Tablet\';}}if(window.AdFuelUtils.isMobile.other.blackberry){deviceInfo.os=\'Blackberry\';deviceInfo["class"]=\'Phone\';}if(window.AdFuelUtils.isMobile.other.blackberry10){deviceInfo.os=\'Blackberry10\';deviceInfo["class"]=\'Phone\';}if(window.AdFuelUtils.isMobile.other.chrome){deviceInfo.os=\'Chrome\';deviceInfo["class"]=\'Phone\';}if(window.AdFuelUtils.isMobile.other.firefox){deviceInfo.os=\'Firefox\';deviceInfo["class"]=\'Phone\';}if(window.AdFuelUtils.isMobile.other.opera){deviceInfo.os=\'Opera\';deviceInfo["class"]=\'Phone\';}window.AdFuelUtils.metricApi.addMetric({type:\'modules\',id:\'User Sciences\',data:deviceInfo});logger.timeEnd(\'Getting Device Information\');return deviceInfo;}// var hostname = document.location.hostname;\nvar cdnRoot=/*hostname.indexOf(\'cnn.com\') >= 0 ? \'www.i.cdn.cnn.com\' : */\'i.cdn.turner.com\';var fileUploadOK=window.File&&window.FileReader&&window.FileList&&window.Blob;var toolRendered=false;var _appliedTargeting=[];var sites=[\'\',\'Adult Swim\',\'Bleacher Report\',\'Cartoon Network\',\'CNN\',\'CNN Arabic\',\'CNN Espanol\',\'CNN International\',\'CNN Money\',\'ELEAGUE\',\'Great Big Story\',\'HLN\',\'NBA\',\'NBA International\',\'NCAA\',\'PGA\',\'Ryder Cup\',\'TBS\',\'TCM\',\'Team Coco\',\'TNT\',\'TruTV\'];var firstPanelElements=[{type:\'inputText\',name:\'Name\',value:\'\',label:\'Your Name\',required:true},{type:\'inputEmail\',name:\'Email\',value:\'\',label:\'Your Email\',required:true},{type:\'fileUpload\',name:\'Screenshot\',value:\'\',label:\'Upload Screenshot\',required:false}];var secondPanelElements=[{type:\'listLabel\',name:\'Reason\',label:\'Issue Being Reported\',required:false},{type:\'list\',name:\'Issue(s)\',required:false,items:[{type:\'checkbox\',name:\'Issue\',value:\'block list violation\',label:\'Ad violates block list\',required:false},{type:\'checkbox\',name:\'Issue\',value:\'video plays in display ad\',label:\'Video plays in ad\',required:false},{type:\'checkbox\',name:\'Issue\',value:\'ad disrupts content\',label:\'Ad disrupts content\',required:false},{type:\'checkbox\',name:\'Issue\',value:\'ad incorrectly sized\',label:\'Ad incorrectly sized\',required:false},{type:\'checkbox\',name:\'Issue\',value:\'download initiated\',label:\'Ad initiates download\',required:false},{type:\'checkbox\',name:\'Issue\',value:\'blank ad\',label:\'Blank ad\',required:false},{type:\'checkbox\',name:\'Issue\',value:\'low quality\',label:\'Low-quality ad\',required:false},{type:\'checkbox\',name:\'Issue\',value:\'audio auto-starts\',label:\'Audio auto-starts\',required:false},{type:\'checkbox\',name:\'Issue\',value:\'broken ad\',label:\'Broken ad\',required:false}]}];var thirdPanelElements=[{type:\'select\',name:\'Brand\',label:\'Affected Brand\',required:true,options:sites},{type:\'textarea\',name:\'Comments\',label:\'Issue Description\',required:true}];var head=document.getElementsByTagName(\'head\')[0];var body=document.getElementsByTagName(\'body\')[0];function checkbox(name,value,text){var el=document.createElement(\'div\');var cb=document.createElement(\'input\');cb.type=\'checkbox\';cb.name=name;cb.id=name+\'_\'+value;cb.style[\'float\']=\'left\';cb.style[\'margin-right\']=\'2px\';cb.style[\'position\']=\'relative\';cb.style[\'top\']=\'3px\';cb.value=value;var lab=document.createElement(\'div\');lab.style.width=\'calc(100% - 18px)\';lab.appendChild(document.createTextNode(text));el.appendChild(cb);el.appendChild(lab);return el;}function element(name,text,className){var el=document.createElement(name);el.innerHTML=text;el.className=className;return el;}function button(item){var el=document.createElement(\'button\');el.onclick=item.action;el.id=item.name;el.appendChild(document.createTextNode(item.value));el.className=\'btn btn-sm btn-primary\';return el;}function _renderTool(){var container,iconStylesheet,toolContainer,toolFiller,toolStylesheet;if(!toolRendered){// Load stylesheets and add elements to page.\nbody=document.getElementsByTagName(\'body\')[0];var isSecure=\'https:\'===document.location.protocol;iconStylesheet=document.createElement(\'link\');iconStylesheet.type=\'text/css\';iconStylesheet.rel=\'stylesheet\';iconStylesheet.href=(isSecure?\'https:\':\'http:\')+\'//fonts.googleapis.com/icon?family=Material+Icons\';iconStylesheet.id=\'material-icons-font\';toolStylesheet=document.createElement(\'link\');toolStylesheet.rel=\'stylesheet\';toolStylesheet.href=(isSecure?\'https:\':\'http:\')+\'//\'+cdnRoot+\'/ads/adfuel/css/creativeReview-3.0.css\';// toolStylesheet.href = \'/css/creativeReview-3.0.css\';\ntoolStylesheet.id=\'adfuel-creative-review-stylesheet\';container=document.createElement(\'div\');container.className=\'adfuel-creative-review-button-container adfuel-open-creative-review-button-container\';var actionButton=document.createElement(\'a\');actionButton.className=\'adfuel-creative-review-button\';var buttonIcon=document.createElement(\'i\');buttonIcon.className=\'adfuel-creative-review-button-icon material-icons\';buttonIcon.innerHTML=\'view_module\';buttonIcon.innerText=\'view_module\';toolFiller=document.createElement(\'div\');toolFiller.className=\'adfuel-creative-review-filler\';toolContainer=document.createElement(\'div\');toolContainer.className=\'adfuel-creative-review\';actionButton.appendChild(buttonIcon);container.appendChild(actionButton);head.appendChild(iconStylesheet);head.appendChild(toolStylesheet);body.appendChild(container);body.appendChild(toolFiller);body.appendChild(toolContainer);if(locationInfo===null){(function(callback){\'use strict\';var a=document,b=a.createElement(\'script\'),c=a.getElementsByTagName(\'script\')[0],d=/^(complete|loaded)$/,e=false,f=\'https:\'===document.location.protocol;b.type=\'text/javascript\';b.async=true;b.src=(f?\'https:\':\'http:\')+\'//www.geoplugin.net/javascript.gp\';b.onload=b.onreadystatechange=function(){if(!e&&!(\'readyState\'in b&&d.test(b.readyState))){b.onload=b.onreadystatechange=null;e=true;callback();}};c.parentNode.insertBefore(b,c);})(function(){var geoCountry,geoCity,geoRegion,geoLat,geoLong;var valueSet=false;if(window.geoplugin_countryCode){geoCountry=window.geoplugin_countryCode();valueSet=true;}if(window.geoplugin_city){geoCity=window.geoplugin_city();valueSet=true;}if(window.geoplugin_region){geoRegion=window.geoplugin_region();valueSet=true;}if(window.geoplugin_latitude){geoLat=window.geoplugin_latitude();valueSet=true;}if(window.geoplugin_longitude){geoLong=window.geoplugin_longitude();valueSet=true;}if(valueSet===true){locationInfo={city:geoCity,region:geoRegion,country:geoCountry,latitude:geoLat,longitude:geoLong};window.AdFuelUtils.metricApi.addMetric({type:\'configuration\',id:\'actual_user_location\',data:{city:geoCity,region:geoRegion,country:geoCountry,latitude:geoLat,longitude:geoLong}});}});}_buildToolContainer(toolContainer);window.AdFuelUtils.addEvent(actionButton,\'click\',_openTool);toolRendered=true;}else{// Remove stylesheets and elements from page.\niconStylesheet=document.getElementById(\'material-icons-font\');toolStylesheet=document.getElementById(\'adfuel-creative-review-stylesheet\');container=document.querySelector(\'div.adfuel-creative-review-button-container\');toolFiller=document.querySelector(\'div.adfuel-creative-review-filler\');toolContainer=document.querySelector(\'div.adfuel-creative-review\');head.removeChild(iconStylesheet);head.removeChild(toolStylesheet);body.removeChild(container);body.removeChild(toolFiller);body.removeChild(toolContainer);toolRendered=false;}}function _buildToolContainer(container){var closeContainer=document.createElement(\'div\');closeContainer.className=\'adfuel-creative-review-button-container\';closeContainer.id=\'adfuel-close-creative-review-button-container\';var actionButton=document.createElement(\'a\');actionButton.className=\'adfuel-creative-review-button-plain\';actionButton.id=\'adfuel-close-creative-review-button\';var buttonIcon=document.createElement(\'i\');buttonIcon.className=\'adfuel-creative-review-button-icon material-icons\';buttonIcon.innerHTML=buttonIcon.innerText=\'close\';var consoleBanner=document.createElement(\'div\');consoleBanner.id=\'adfuel-creative-review-banner\';var consoleTabContainer=document.createElement(\'div\');consoleTabContainer.className=\'adfuel-creative-review-tab-link-container\';actionButton.appendChild(buttonIcon);closeContainer.appendChild(actionButton);window.AdFuelUtils.addEvent(actionButton,\'click\',_closeTool);consoleBanner.appendChild(closeContainer);var title=document.createElement(\'div\');title.className=\'adfuel-creative-review-banner-title\';var titleText=\'AdFuel Creative Review\';var titleContainer=document.createElement(\'div\');titleContainer.appendChild(document.createTextNode(titleText));var subtitle=document.createElement(\'div\');subtitle.className=\'adfuel-creative-review-banner-subtitle\';subtitle.innerHTML=\'Report an issue on this page by submitting the form below.&nbsp;&nbsp;&nbsp;A copy will be sent to the email address provided.\';titleContainer.appendChild(subtitle);title.appendChild(titleContainer);consoleBanner.appendChild(title);consoleBanner.appendChild(consoleTabContainer);container.appendChild(consoleBanner);return;}function _openTool(){var toolFiller=document.querySelector(\'div.adfuel-creative-review-filler\');var toolContainer=document.querySelector(\'div.adfuel-creative-review\');var openContainer=document.querySelector(\'div.adfuel-creative-review-button-container\');var closeContainer=document.querySelector(\'div#adfuel-close-creative-review-button-container\');openContainer.style.display=\'none\';closeContainer.style.display=\'inline-block\';toolFiller.style.display=\'block\';toolContainer.style.display=\'inline-block\';_buildToolContent(toolContainer);_showToolContent();return;}function _closeTool(){logger.log(\'Closing Tool...\');var openContainer=document.querySelector(\'div.adfuel-creative-review-button-container\');var openButton=document.querySelector(\'body > div.adfuel-creative-review-button-container > a\');var toolFiller=document.querySelector(\'div.adfuel-creative-review-filler\');var toolContainer=document.querySelector(\'div.adfuel-creative-review\');logger.log(\'Closing Tool...\',toolFiller,toolContainer);toolFiller.style.display=\'none\';toolContainer.style.display=\'none\';if(openContainer&&openButton){openContainer.style.display=\'inline-block\';openButton.style.display=\'inline-block\';window.AdFuelUtils.addEvent(openButton,\'click\',_openTool);window.AdFuel.openTool=_openTool;}return;}function _showToolContent(){var panel=document.createElement(\'div\');var container=document.getElementsByClassName(\'adfuel-creative-review\')[0];panel.id=\'adfuel-creative-review-content\';panel.className=\'adfuel-creative-review-content\';panel.style.width=\'100%\';panel.style.padding=\'0\';panel.style.margin=\'0\';panel.style.height=\'80%\';panel.style.minHeight=\'250px\';panel.style.overflowY=\'auto\';panel.style.display=\'block\';container.appendChild(panel);}function _buildToolContent(container){if(!container){container=document.getElementsByClassName(\'adfuel-creative-review\')[0];}if(!container){logger.log(\'Error: No AdFuel-Creative-Review container.\');return false;}var panelContainer=document.createElement(\'div\');panelContainer.id=\'adfuel-creative-review-content\';panelContainer.className=\'adfuel-creative-review-content\';_buildCreativeReviewForm(panelContainer);container.appendChild(panelContainer);var adXVendorData={queryIds:{}};document.querySelectorAll(\'div[data-google-query-id]\').forEach(function(node){adXVendorData.queryIds[node.id]=node.dataset.googleQueryId;});window.AdFuelUtils.metricApi.addMetric({id:\'AdX\',type:\'vendor\',data:adXVendorData});}function setSubmitMessage(header,message){// set the message\nvar el=document.createElement(\'p\');if(message!==\'\'){el.style.color=\'white\';el.style.fontSize=\'.95em\';el.style.textAlign=\'center\';el.innerHTML=message;}header.innerHTML=\'\';header.appendChild(el);header.style.display=\'block\';//clear the message after 5 sec.\nwindow.setTimeout(function(){header.innerHTML=\'\';header.style.display=\'none\';},5000);}function setSuccessMessage(header,message){// set the message\nvar el=document.createElement(\'p\');header.style.backgroundColor=\'green\';if(message!==\'\'){el.style.color=\'white\';el.style.fontSize=\'.95em\';el.style.textAlign=\'center\';el.style.fontWeight=\'normal\';el.style.fontFamily=\'Helvetica\';el.innerHTML=message;}header.innerHTML=\'\';header.appendChild(el);header.style.display=\'block\';//clear the message after 5 sec.\nwindow.setTimeout(function(){header.innerHTML=\'\';header.style.display=\'none\';},5000);}function validateEmail(email){var re=/^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;return re.test(email);}function buildPanel(panel,container,elements){for(var i=0;i<elements.length;i++){var item=elements[i];switch(item.type){case\'textarea\':var textareaContainer=element(\'div\',\'\',\'adfuel-creative-review-textarea-container\');var textareaLabel=element(\'div\',(item.required===true?\'<span style=\\\'color: red;\\\'>*</span> \':\'\')+item.label+\': \',\'adfuel-creative-review-form-label adfuel-creative-review-textarea-label\');textareaContainer.appendChild(textareaLabel);textareaContainer.appendChild(item.element=document.createElement(\'textarea\'));item.element.name=item.name||\'\';if(item.required===true){item.element.attributes.required=\'required\';}panel.appendChild(textareaContainer);break;case\'inputText\':var inputContainer=element(\'div\',\'\',\'adfuel-creative-review-input-element-container\');var inputLabel=element(\'div\',(item.required===true?\'<span style=\\\'color: red;\\\'>*</span> \':\'\')+item.label+\': \',\'adfuel-creative-review-form-label adfuel-creative-review-input-label\');inputContainer.appendChild(inputLabel);item.element=document.createElement(\'input\');item.element.name=item.name||\'\';item.element.type=\'text\';if(item.required===true){item.element.setAttribute(\'required\',\'required\');}inputContainer.appendChild(item.element);panel.appendChild(inputContainer);break;case\'inputEmail\':inputContainer=element(\'div\',\'\',\'adfuel-creative-review-input-element-container\');inputLabel=element(\'div\',(item.required===true?\'<span style=\\\'color: red;\\\'>*</span> \':\'\')+item.label+\': \',\'adfuel-creative-review-form-label adfuel-creative-review-input-label\');inputContainer.appendChild(inputLabel);item.element=document.createElement(\'input\');item.element.type=\'email\';item.element.name=item.name||\'\';if(item.required===true){item.element.setAttribute(\'required\',\'required\');}inputContainer.appendChild(item.element);panel.appendChild(inputContainer);break;case\'listLabel\':var listContainer=element(\'div\',\'\',\'adfuel-creative-review-list-element-container\');var listLabel=element(\'div\',(item.required===true?\'<span style=\\\'color: red;\\\'>*</span> \':\'\')+item.label+\': \',\'adfuel-creative-review-form-label adfuel-creative-review-list-label\');listContainer.appendChild(listLabel);panel.append(listContainer);break;case\'list\':listContainer=panel.querySelector(\'#cr_panel_2 > div.adfuel-creative-review-list-element-container\');var listEl=element(\'div\',\'\',\'adfuel-creative-review-checkbox-list\');for(var x=0;x<item.items.length;x++){var listItem=item.items[x];var checkboxWrapper=checkbox(listItem.name,listItem.value,listItem.label);var checkboxEl=checkboxWrapper.firstChild;item.items[x].element=checkboxEl;listEl.appendChild(checkboxWrapper);}listContainer.appendChild(listEl);break;case\'select\':var selectContainer=element(\'div\',\'\',\'adfuel-creative-review-select-container\');var panelLabel=element(\'div\',(item.required===true?\'<span style=\\\'color: red;\\\'>*</span> \':\'\')+item.label+\': \',\'adfuel-creative-review-form-label adfuel-creative-review-select-label\');selectContainer.appendChild(panelLabel);item.element=document.createElement(\'select\');item.element.name=item.name;for(var optionIndex=0;optionIndex<item.options.length;optionIndex++){var option=element(\'option\',item.options[optionIndex]);option.value=item.options[optionIndex];item.element.appendChild(option);}selectContainer.appendChild(item.element);panel.appendChild(selectContainer);break;case\'button\':panel.appendChild(button(item));break;case\'fileUpload\':if(fileUploadOK){inputContainer=element(\'div\',\'\',\'adfuel-creative-review-input-element-container\');inputLabel=element(\'div\',item.label+\': \'+(item.required===true?\' *\':\'\'),\'adfuel-creative-review-form-label adfuel-creative-review-file-label\');inputContainer.appendChild(inputLabel);item.element=document.createElement(\'input\');item.element.name=item.name||\'\';item.element.type=\'file\';item.element.accept=\'image/*\';inputContainer.appendChild(item.element);panel.appendChild(inputContainer);}break;}}logger.log(\'Appending Panel to Container: \',panel,container);container.appendChild(panel);}function _buildCreativeReviewForm(panel){if(!panel)return;panel.innerHTML=\'\';panel.style.padding=\'0\';var header=document.createElement(\'div\');header.className=\'adfuel-creative-review-panel\';header.id=\'cr_panel_header\';var validationText=document.createElement(\'p\');validationText.className=\'adfuel-creative-review-panel-header-text\';header.appendChild(validationText);panel.appendChild(header);var formElement=document.createElement(\'form\');panel.appendChild(formElement);var panel1=document.createElement(\'div\');panel1.className=\'adfuel-creative-review-panel\';panel1.id=\'cr_panel_1\';buildPanel(panel1,formElement,firstPanelElements);var panel2=document.createElement(\'div\');panel2.className=\'adfuel-creative-review-panel\';panel2.id=\'cr_panel_2\';buildPanel(panel2,formElement,secondPanelElements);var panel3=document.createElement(\'div\');panel3.className=\'adfuel-creative-review-panel\';panel3.id=\'cr_panel_3\';buildPanel(panel3,formElement,thirdPanelElements);var footer=document.createElement(\'div\');footer.className=\'adfuel-creative-review-panel\';footer.id=\'cr_panel_footer\';var submitContainer=document.createElement(\'div\');// submit confirmation alert box\nvar confirmAlert=document.createElement(\'div\');confirmAlert.className=\'cr-confirm-alert\';confirmAlert.style.visibility=\'hidden\';var confirmAlertText=document.createElement(\'div\');confirmAlertText.className=\'cr-confirm-alert-text\';var today=new Date();var dayOfWeek=today.getDay();var hour=today.getHours();var offHours=dayOfWeek===0||dayOfWeek===6||hour<8||hour>17;var responseTime=offHours?\'2 hours outside of\':\'1 hour during\';confirmAlertText.innerHTML=\'Your report has been successfully submitted to Ad Operations. If you do not get a response within \'+responseTime+\' normal business hours (8am - 6pm Eastern), further contact information can be found in the confirmation email that has been sent to you.\';confirmAlert.appendChild(confirmAlertText);confirmAlert.appendChild(document.createElement(\'br\'));var confirmAlertBtn=document.createElement(\'button\');confirmAlertBtn.className=\'btn btn-primary btn-sm\';confirmAlertBtn.innerHTML=\'OK\';confirmAlertBtn.onclick=function(e){e.preventDefault();_closeTool();confirmAlert.style.visibility=\'hidden\';// clear all inputs\nformElement.reset();};confirmAlert.appendChild(confirmAlertBtn);panel.appendChild(confirmAlert);var submitButton=document.createElement(\'button\');submitButton.type=\'submit\';submitButton.className=\'btn btn-primary btn-sm cr-confirm-alert-btn\';submitButton.onclick=function(e){e.preventDefault();// validate inputs\nif(formElement.elements[\'Name\'].value===\'\'||formElement.elements[\'Comments\'].value===\'\'||formElement.elements[\'Email\'].value===\'\'||formElement.elements[\'Brand\'].value===\'\'){setSubmitMessage(header,\'Please fill out all required fields.\');return;}else if(!validateEmail(formElement.elements[\'Email\'].value)){setSubmitMessage(header,\'Email address is not valid.\');return;}else{submitCreativeReviewForm(formElement,function(){setSuccessMessage(header,\'Your report has been successfully submitted to Ad Operations.<hr />If you do not get a response within 2 hours outside of normal business hours (8am - 6pm Eastern), further contact information can be found in the confirmation email that has been sent to you.\');});}};submitButton.innerHTML=\'SUBMIT\';submitContainer.appendChild(submitButton);footer.appendChild(submitContainer);panel.appendChild(footer);panel.appendChild(confirmAlert);}function setRenderCompleteListener(){window.googletag.cmd.push(function(){window.googletag.pubads().addEventListener(\'slotRenderEnded\',function(event){try{var detail={};if(event.slot){detail.asset=event.slot;if(event.slot.getTargeting(\'pos\')){detail.pos=event.slot.getTargeting(\'pos\');}}if(event.isEmpty){detail.empty=true;}else{detail.empty=false;}if(event.size){detail.renderedSize=event.size;}if(event.creativeId){detail.creativeId=event.creativeId;}if(event.lineItemId){detail.lineItemId=event.lineItemId;}if(event.serviceName){detail.serviceName=event.serviceName;}if(event.slot&&event.slot.getSlotElementId()){detail.divId=event.slot.getSlotElementId();}var info=window.AdFuel.pageSlots[detail.divId]?window.AdFuel.pageSlots[detail.divId].getResponseInformation():{campaignId:null,advertiserId:null};detail.campaignId=info?info.campaignId:null;detail.advertiserId=info?info.advertiserId:null;window.AdFuelUtils.metricApi.addMetric({type:\'slots\',id:detail.divId,data:{advertiserId:detail.advertiserId,campaignId:detail.campaignId,creativeId:detail.creativeId,lineItemId:detail.lineItemId}});}catch(ex){console.warn(\'Warning: Error reading slotRenderEnded event\',{message:ex});}});});}function _addTargetingForCreativeExtraction(slots,callback){for(var slotIndex=1;slotIndex<slots.length;slotIndex++){var slot=slots[slotIndex];if(_appliedTargeting.indexOf(slot.rktr_slot_id)<0){window.AdFuel.addSlotLevelTarget(slot.rktr_slot_id,\'elemId\',slot.rktr_slot_id);_appliedTargeting.push(slot.rktr_slot_id);}}window.AdFuelUtils.addEvent(document,\'SlotIdChange\',function(e){if(e.detail.newId!==e.detail.originalId){if(_appliedTargeting.indexOf(e.detail.newId)<0){window.AdFuel.addSlotLevelTarget(e.detail.newId,\'elemId\',e.detail.newId);_appliedTargeting.push(e.detail.newId);}}});callback();}function serialize(form){if(!form||form.nodeName!==\'FORM\'){return;}var i,j,q=[],t={};for(i=form.elements.length-1;i>=0;i=i-1){if(form.elements[i].name===\'\'){continue;}switch(form.elements[i].nodeName){case\'INPUT\':switch(form.elements[i].type){case\'email\':case\'text\':case\'hidden\':case\'password\':case\'button\':case\'reset\':case\'submit\':q.push(form.elements[i].name+\'=\'+encodeURIComponent(form.elements[i].value));t[form.elements[i].name]=form.elements[i].value;break;case\'file\':if(form.elements[i].files.length>0){q.push(form.elements[i].name+\'=\'+encodeURIComponent(form.elements[i].value));t[form.elements[i].name]=form.elements[i].files[0];// FileList object\nt[form.elements[i].name+\'FileName\']=t[form.elements[i].name].name;}break;case\'checkbox\':if(form.elements[i].checked){q.push(form.elements[i].name+\'=\'+encodeURIComponent(form.elements[i].value));// to support multiple checkboxes in a group, store the values as an array\nif(t[form.elements[i].name]){t[form.elements[i].name].push(form.elements[i].value);}else{t[form.elements[i].name]=[form.elements[i].value];}}break;case\'radio\':if(form.elements[i].checked){q.push(form.elements[i].name+\'=\'+encodeURIComponent(form.elements[i].value));t[form.elements[i].name]=form.elements[i].value;}break;}break;case\'TEXTAREA\':q.push(form.elements[i].name+\'=\'+encodeURIComponent(form.elements[i].value));t[form.elements[i].name]=form.elements[i].value;break;case\'SELECT\':switch(form.elements[i].type){case\'select-one\':q.push(form.elements[i].name+\'=\'+encodeURIComponent(form.elements[i].value));t[form.elements[i].name]=form.elements[i].value;break;case\'select-multiple\':for(j=form.elements[i].options.length-1;j>=0;j=j-1){if(form.elements[i].options[j].selected){q.push(form.elements[i].name+\'=\'+encodeURIComponent(form.elements[i].options[j].value));t[form.elements[i].name]=form.elements[i].options[j].value;}}break;}break;case\'BUTTON\':switch(form.elements[i].type){case\'reset\':case\'submit\':case\'button\':q.push(form.elements[i].name+\'=\'+encodeURIComponent(form.elements[i].value));t[form.elements[i].name]=form.elements[i].value;break;}break;}}return t;}function submitCreativeReviewForm(form,callback){var data=serialize(form);var processData=function processData(){// callback(true);\nvar xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState===4){callback(xhr.status===200);}};var formBlob=new Blob([JSON.stringify(data,null,2)],{type:\'application/json\'});var registryBlob=new Blob([JSON.stringify(window.AdFuel.registry,null,2)],{type:\'application/json\'});var browserData={availHeight:screen.availHeight,availLeft:screen.availLeft,availTop:screen.availTop,availWidth:screen.availWidth,colorDepth:screen.colorDepth,height:screen.height,orientation:{angle:screen.orientation.angle,onchange:screen.orientation.onchange,type:screen.orientation.type},pixelDepth:screen.pixelDepth,width:screen.width};var slotData=JSON.parse(JSON.stringify(window.AdFuelUtils.metricApi.metrics.slots));for(var x in slotData){if(slotData.hasOwnProperty(x)){delete slotData[x].build_end;delete slotData[x].build_start;delete slotData[x].display;delete slotData[x].queued;delete slotData[x].render_start;delete slotData[x].render_end;}}var slotsBlob=new Blob([JSON.stringify(slotData,null,2)],{type:\'application/json\'});var cookiesBlob=new Blob([JSON.stringify(document.cookie,null,2)],{type:\'application/json\'});var browserBlob=new Blob([JSON.stringify(browserData,null,2)],{type:\'application/json\'});var requestBlob=new Blob([JSON.stringify(window.AdFuel.requestScriptText,null,2)],{type:\'application/json\'});var timelineBlob=new Blob([JSON.stringify(window.AdFuelUtils.metricApi.metrics.timeline,null,2)],{type:\'application/json\'});var urlBlob=new Blob([JSON.stringify(window.location.href,null,2)],{type:\'application/json\'});var vendorBlob=new Blob([JSON.stringify(window.AdFuelUtils.metricApi.metrics.vendor||{},null,2)],{type:\'application/json\'});var fdata=new FormData();fdata.append(\'formData\',formBlob);fdata.append(\'registry\',registryBlob);fdata.append(\'slots\',slotsBlob);fdata.append(\'cookies\',cookiesBlob);fdata.append(\'request\',requestBlob);fdata.append(\'browser\',browserBlob);fdata.append(\'vendor\',vendorBlob);fdata.append(\'timeline\',timelineBlob);fdata.append(\'url\',urlBlob);var url=\'https://adfuel.turnerapps.com/api/v2/email\';xhr.open(\'POST\',url,true);xhr.send(fdata);};if(data.Screenshot){// Only process image files.\nif(!data.Screenshot.type.match(\'image.*\')){processData();}var reader=new FileReader();// Closure to capture the file information.\nreader.onload=function(data){return function(e){data.Screenshot=e.target.result;processData();};}(data);// Read in the image file as a data URL.\nreader.readAsDataURL(data.Screenshot);}else{processData();}}function parseMessage(msg){var data={};if(msg.data&&typeof msg.data.indexOf===\'function\'&&msg.data.indexOf(\'{\')===0&&msg.data.indexOf(\'googMsgType\')<0){try{data=JSON.parse(msg.data);}catch(err){return;}}if(data.divId){if(Array.isArray(data.divId)&&data.divId.length>1){data.divId=data.divId[0];}window.AdFuelUtils.metricApi.addMetric({type:\'creatives\',id:data.divId,data:data});}}function addKeypressModule(){var renderCreativeReviewConsole=function renderCreativeReviewConsole(){logger.log(\'Rendering Creative Review Console...\');_renderTool();};var initializeKeypressListeners=function initializeKeypressListeners(){logger.log(\'Initializing Keypress Listener...\');// d-o-h to open just Creative Review\nvar defaults={prevent_default:false,prevent_repeat:false,is_sequence:true,is_exclusive:true,is_solitary:true};var options={keys:window.AdFuelOptions.CREATIVE_REVIEW.HOTKEY||\'^ d o h $\',on_keydown:renderCreativeReviewConsole};var feedbackListener=new window.keypress.Listener(window,defaults);feedbackListener.register_combo(options);};if(!window.keypress){var a=document,b=a.createElement(\'script\'),c=a.getElementsByTagName(\'script\')[0],d=/^(complete|loaded)$/,e=false,f=\'https:\'===document.location.protocol;b.type=\'text/javascript\';b.async=true;b.src=(f?\'https:\':\'http:\')+\'//\'+cdnRoot+\'/ads/adfuel/modules/keypress.js\';b.onload=b.onreadystatechange=function(){if(!e&&!(\'readyState\'in b&&d.test(b.readyState))){b.onload=b.onreadystatechange=null;e=true;initializeKeypressListeners();}};c.parentNode.insertBefore(b,c);}else{initializeKeypressListeners();}}function registerModuleWithAdFuel(){logger.log(\'Registering Module with AdFuel...\');window.AdFuel.registerModule(MODULE_NAME,{postQueueCallback:_addTargetingForCreativeExtraction},MODULE_VERSION,window.AdFuelOptions.CREATIVE_REVIEW);window.AdFuelUtils.addEvent(window,\'message\',parseMessage);window.AdFuelUtils.addEvent(window,\'hashchange\',checkHash);addKeypressModule();setRenderCompleteListener();checkHash();}function init(){setDevice();window.AdFuelUtils.addEvent(document,\'AdFuelCreated\',registerModuleWithAdFuel);}init();})();}if(CNN.Features.enableCep===true){(function createCEPModule(){\'use strict\';var MODULE_NAME=\'CEP Module\';var MODULE_VERSION=\'v3.0.2\';// Stub out AdFuelUtils in case it\'s not on the page.\nwindow.AdFuelUtils=window.AdFuelUtils||{addEvent:function addEvent(){},getURLParam:function getURLParam(){},isIntl:false,getLogger:function getLogger(){},addMetric:function addMetric(){}};// Stub out AdFuelOptions in case it\'s not on the page.\nwindow.AdFuelOptions=window.AdFuelOptions||{};window.AdFuelOptions.CEP=window.AdFuelOptions.CEP||{};var logger=window.AdFuelUtils.getLogger(MODULE_NAME,MODULE_VERSION,\'cep\',\'color: #d2b000; padding: 2px\');/*\n    CNN.cep_topics = {\n        "cep_brsf": ["15P9", "15LP", "15PN", "15LY"],\n        "cep_iabt": ["15B0", "159T", "157Q", "155B", "1597", "14TL", "15KF"],\n        "cep_sent": ["15N4", "15N3"],\n        "cep_tags": ["15PT", "7XH", "BJF", "518", "8N2", "4YN", "3YX", "115V", "DFT"]\n    }\n    */var cepTags={cep_brsf:[],cep_iabt:[],cep_sent:[],cep_tags:[]};var preQueueCallback=function preQueueCallback(asset,callback){// Make sure the asset array contains slots...\nif(asset.length>0&&asset[0].rktr_ad_id){var site=window.AdFuelOptions.ADFUEL.SITE_OBJECT||asset[0].rktr_ad_id.split(\'/\')[0];cepTags=window[site]?window[site].cep_topics:cepTags;}callback();};var preDispatchCallback=function preDispatchCallback(asset,callback){Object.keys(cepTags).forEach(function(key){logger.log(\'Adding CEP \'+key+\' Targeting: \',cepTags[key]);window.AdFuel.addPageLevelTarget(key,cepTags[key]);});callback();};var registerModuleWithAdFuel=function registerModuleWithAdFuel(){logger.log(\'Registering module with AdFuel\');window.AdFuel.registerModule(MODULE_NAME,{preQueueCallback:preQueueCallback,preDispatchCallback:preDispatchCallback},MODULE_VERSION,window.AdFuelOptions.CEP);};var init=function init(){logger.log(\'Initializing Module...\');if(window.AdFuel&&window.AdFuel.cmd){//AdFuel loaded first\nwindow.AdFuel.cmd.push(registerModuleWithAdFuel);}else if(window.AdFuel){registerModuleWithAdFuel();}else{window.AdFuelUtils.addEvent(document,\'AdFuelCreated\',registerModuleWithAdFuel);}};init();})();}if(CNN.Features.enableBeemray===true){(function createBeemrayModule(){var MODULE_NAME=\'Beemray Module\';var MODULE_VERSION=\'v3.0.2\';// Stub out AdFuelUtils in case it\'s not on the page.\nwindow.AdFuelUtils=window.AdFuelUtils||{addEvent:function addEvent(){},getURLParam:function getURLParam(){},isIntl:false,getLogger:function getLogger(){},addMetric:function addMetric(){}};// Stub out AdFuelOptions in case it\'s not on the page.\nwindow.AdFuelOptions=window.AdFuelOptions||{};window.AdFuelOptions.BEEMRAY=window.AdFuelOptions.BEEMRAY||{CUSTOMER_ID:\'\',API_KEY:\'\'};var logger=window.AdFuelUtils.getLogger(MODULE_NAME,MODULE_VERSION,\'beemray\',\'color: #d2b000; padding: 2px\');var CUSTOMER_ID=window.AdFuelOptions.BEEMRAY.CUSTOMER_ID;var API_KEY=window.AdFuelOptions.BEEMRAY.API_KEY;var scriptLoaded=false;var eventFired=false;var includeBeemrayModule=function includeBeemrayModule(){if(!scriptLoaded){logger.log(\'Including Library...\');scriptLoaded=true;var source=\'https://\'+CUSTOMER_ID+\'.sdk.beemray.com/content/websdk/\'+API_KEY+\'?source=\'+window.btoa(window.location.href);logger.log(\'Script source: \',source);var script=document.createElement(\'script\');script.src=source;document.head.appendChild(script);}};var preQueueCallback=function preQueueCallback(asset,callback){if(scriptLoaded&&window.beemray&&window.beemray.EventApi){var eventTitle=\'dfpEvent\';var endPointUrl=\'/rest/event/web/plain\';var event=window.beemray.EventApi.create(eventTitle,endPointUrl);var timeout=1000;var eventFunc=function eventFunc(response){eventFired=true;logger.log(\'Response: \',response);if(null===response){callback();return logger.log(\'Request Timeout or no Results.\');}var targetIds=[];for(var i=0;i<response.list.length;i++){logger.log(\'Adding Page-Level Target ID: \',response.list[i].id);targetIds.push(response.list[i].id);}logger.log(\'Setting Page-Level Targets: \',targetIds);window.googletag.pubads().setTargeting(\'beemray\',targetIds);callback();};logger.log(\'Sending WebAPI event...\');if(!eventFired){event.send(eventFunc,timeout);eventFired=true;}}else{callback();}};var registerModuleWithAdFuel=function registerModuleWithAdFuel(){logger.log(\'Registering Module...\');window.AdFuel.registerModule(MODULE_NAME,{preQueueCallback:preQueueCallback},MODULE_VERSION,window.AdFuelOptions.BEEMRAY);};var init=function init(){logger.log(\'Initializing Module...\');if(!window.AdFuelUtils.isIntl){logger.log(\'Disabling Beemray due to user origin.  Not international.\');return;}if(!CUSTOMER_ID||CUSTOMER_ID===\'\'||!API_KEY||API_KEY===\'\'){logger.log(\'Disabling Beemray due to no CUSTOMER_ID or API_KEY: \',{customer_id:CUSTOMER_ID,api_key:API_KEY});return;}window.AdFuelOptions.GDPR.APPLIES.then(function(gdprApplies){var consentGranted=window.AdFuelUtils.getConsent();if(consentGranted||!gdprApplies){includeBeemrayModule();if(window.AdFuel&&window.AdFuel.cmd){window.AdFuel.cmd.push(registerModuleWithAdFuel);}else if(window.AdFuel){//AdFuel loaded first\nregisterModuleWithAdFuel();}else{window.AdFuelUtils.addEvent(document,\'AdFuelCreated\',registerModuleWithAdFuel);}}return;});};init();})();}if(CNN.Features.enableInViewRefresh===true){(function createInViewRefreshModule(){var MODULE_NAME=\'In-View Refresh Module\';var MODULE_VERSION=\'v3.0.5\';var logger=window.AdFuelUtils.getLogger(MODULE_NAME,MODULE_VERSION,\'ivr\',\'color: #00e1e1; padding: 2px\');var _refreshableInViewSlots={};var _focused=!document.hidden;var TARGET_DISPLAY_MILLISECONDS=window.AdFuelOptions.IVR.DEFAULT_DISPLAY_MILLISECONDS;var TARGET_DISPLAY_PERCENT=window.AdFuelOptions.IVR.DEFAULT_DISPLAY_PERCENT;var registeredSlots=[];var _viewabilityListenersStarted=false;var startViewabilityListeners=function _startViewabilityListeners(){if(!_viewabilityListenersStarted){window.googletag.cmd.push(function startViewabilityListeners(){window.googletag.pubads().addEventListener(\'impressionViewable\',function impressionViewableFunc(event){var detail=event;var divId=detail.slot.getSlotElementId();if(_refreshableInViewSlots[divId]&&!_refreshableInViewSlots[divId].listenersSet){logger.log(\'Refreshable In View Slot listeners have not been set: \',divId,{object:_refreshableInViewSlots[divId]});_createInViewRefreshObject(detail);}else{logger.log(\'Refreshable In View Slot listeners have already been set for: \',divId,{object:_refreshableInViewSlots[divId]});}});window.googletag.pubads().addEventListener(\'slotVisibilityChanged\',function slotVisibilityChangedFunc(event){var detail=event;_visibilityChanged(detail);});window.googletag.pubads().addEventListener(\'slotRenderEnded\',function slotRenderEndedFunc(event){var detail=event;var divId=detail.slot.getSlotElementId();var renderedSize=detail.size?detail.size.join(\'x\'):\'0x0\';if([\'970x66\',\'970x90\',\'970x250\'].indexOf(renderedSize)>=0){delete _refreshableInViewSlots[divId];registeredSlots.splice(registeredSlots.indexOf(divId),1);logger.log(\'Rendered size [\'+renderedSize+\'] for slot [\'+divId+\'] is invalid for IVR.  Stopping refresh.\');}});});window.AdFuelUtils.addEvent(document,\'visibilitychange\',_visibilityChangeEvent);_viewabilityListenersStarted=true;logger.log(\'Listeners Started!\');}};function _visibilityChangeEvent(event){logger.log(\'Visibility Change Event: \',event);logger.log(\'Relaying to _focusChanged...\');_focused=!document.hidden;event.target=event.target||{};event.target.hidden=event.target.hidden||document.hidden;_focusChanged(event);}function _focusChanged(){var hidden=document.hidden;if(hidden){logger.log(\'Page is hidden.  Destroying all intervals...\');destroyInterval();}else{logger.log(\'Page is not hidden. Checking Intervals...\');for(var slotIndex in _refreshableInViewSlots){if(_refreshableInViewSlots.hasOwnProperty(slotIndex)){logger.log({index:slotIndex,slot:_refreshableInViewSlots[slotIndex]});var interval=getInterval(slotIndex);if(interval){logger.log(\'Interval exists...\',slotIndex);// destroyInterval(slotIndex);\n}else{logger.log(\'Creating Interval...\',slotIndex);_detectInView(slotIndex);}}}}}function _visibilityChanged(obj){var percent=obj.inViewPercentage||0;var elementId=obj.slot.getSlotElementId();var interval=getInterval(elementId);if(percent>=TARGET_DISPLAY_PERCENT){logger.log(\'Element [\'+elementId+\'] Meets In-View Percentage Requirements\',percent);if(_focused){logger.log(\'... and page has focus\');if(!interval){logger.log(\'... interval does not exist\');createInterval(elementId);}}else{logger.log(\'... but page does not have focus.  Not creating interval.\');}}else{logger.log(\'Element [\'+elementId+\'] Does NOT Meet In-View Percentage Requirements\',percent);if(interval){logger.log(\'Found Interval for Element [\'+elementId+\']... Destroying Interval.\');destroyInterval(elementId);}}}function getInterval(elementId){logger.log(\'Getting Interval for: \',elementId);return _refreshableInViewSlots[elementId]&&_refreshableInViewSlots[elementId].timer===null?false:_refreshableInViewSlots[elementId]?_refreshableInViewSlots[elementId].timer:false;}function createInterval(elementId){if(_refreshableInViewSlots.hasOwnProperty(elementId)){var slot=_refreshableInViewSlots[elementId];slot.inViewRefreshCounter=_refreshableInViewSlots[elementId].inViewRefreshCounter||0;logger.log(\'Creating Interval for: \',elementId);slot.timer=window.setInterval(function slotTimerFunc(){logger.log(\'Slot: \',slot);if(typeof slot!==\'undefined\'&&slot!==null){if(slot.inViewRefreshCount>0){slot.el=slot.el||document.getElementById(elementId);var elId=slot.el.id;slot.inViewRefreshCount--;slot.inViewRefreshCounter++;window.AdFuelUtils.metricApi.addMetric({type:\'viewability\',id:elId,data:{refresh_count:slot.inViewRefreshCounter,last_refresh:Date.now()}});if(slot.inViewRefreshCount>=0){logger.log(\'Slot [\'+elId+\'] is in view and is being refreshed.\');logger.log(\'Clearing targeting on slot [\'+elId+\']...\',slot);window.AdFuel.removeSlotLevelTarget(elId);logger.log(\'Setting rfv count targeting on slot [\'+elId+\']: \',slot.inViewRefreshCounter);window.AdFuel.addSlotLevelTarget(elId,\'rfv\',slot.inViewRefreshCounter);logger.log(\'Calling refresh On slot[\'+elId+\']...\',slot);window.AdFuel.refresh([elId]);logger.log(\'Slot [\'+slot.el.id+\'] is in view, was just refreshed, and still has \'+slot.inViewRefreshCount+\' refreshes remaining.\');}}else{logger.log(\'Slot [\'+elementId+\'] is in view but has no refreshes remaining.\',slot,slot.inViewRefreshCount);}}else{logger.log(\'Slot refresh prevented due to rendered size.\');}},TARGET_DISPLAY_MILLISECONDS);logger.log(\'Done.\');}}function destroyInterval(elementId){var slot;if(elementId){logger.log(\'Destroying interval for: \',elementId);slot=_refreshableInViewSlots[elementId];window.clearInterval(slot.timer);slot.timer=null;slot.inView=false;}else{logger.log(\'Destroying All Intervals\');for(var slotIndex in _refreshableInViewSlots){if(_refreshableInViewSlots.hasOwnProperty(slotIndex)){logger.log(\'Destroying interval for: \',slotIndex);slot=_refreshableInViewSlots[slotIndex];window.clearInterval(slot.timer);slot.timer=null;slot.inView=false;}}}}function _createInViewRefreshObject(event){logger.log(\'Checking Element: \',{event:event});var divId=event.slot.getSlotElementId();var el=document.getElementById(divId);logger.log(\'Creating In View Refresh Object: \',{divId:divId,el:el});var empty=event.slot?event.slot.l?event.slot.l._empty_:false:false;logger.log(\'Is Slot Empty: \',empty);if(!empty){if(registeredSlots.indexOf(divId)!==-1){logger.log(\'Slot is registered with InView Refresh\');_refreshableInViewSlots[divId].inView=false;_refreshableInViewSlots[divId].el=el;// _refreshableInViewSlots[divId].mouseover = _refreshableInViewSlots[divId].mouseover || addEvent(el, \'mouseover\', _mouseoverFunction);\n// _refreshableInViewSlots[divId].mouseout = _refreshableInViewSlots[divId].mouseout || addEvent(el, \'mouseout\', _mouseoutFunction);\n_refreshableInViewSlots[divId].refreshCount=0;_refreshableInViewSlots[divId].listenersSet=true;}else{logger.log(\'Slot is NOT registered with InView Refresh\');}}else{logger.log(\'Slot is empty.\');}}function _isInsideBounds(clientX1,clientX2,clientY1,clientY2,elX1,elX2,elY1,elY2){var a=Math.max(clientY1,elY1);//287\nvar b=Math.min(clientY2,elY2);//377\nvar c=Math.max(clientX1,elX1);//587.5\nvar d=Math.min(clientX2,elX2);//1315.5\nvar viewableArea=0;var aCheck=a>=clientY1&&a<=clientY2;var bCheck=b>=clientY1&&b<=clientY2;var cCheck=c>=clientX1&&c<=clientX2;var dCheck=d>=clientX1&&d<=clientX2;if(aCheck&&bCheck&&cCheck&&dCheck){viewableArea=(b-a)*(d-c);}var elArea=(elX2-elX1)*(elY2-elY1);var ratioArea=0;if(elArea>0){ratioArea=viewableArea/elArea;}return ratioArea;}function _getPercentInView(el){var client_width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var client_height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var client_x1=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft;var client_y1=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;client_width=parseInt(client_width);client_height=parseInt(client_height);client_x1=parseInt(client_x1);client_y1=parseInt(client_y1);var el_width=parseInt(el.clientWidth);var el_height=parseInt(el.clientHeight);var el_xy=el.getBoundingClientRect();var el_x1=el_xy.left+document.body.scrollLeft;var el_y1=el_xy.top+document.body.scrollTop;var el_x2=el_x1+el_width;var el_y2=el_y1+el_height;var client_x2=client_x1+client_width;var client_y2=client_y1+client_height;var viewable_percent=_isInsideBounds(client_x1,client_x2,client_y1,client_y2,el_x1,el_x2,el_y1,el_y2,el);return viewable_percent*100;}function _detectInView(){logger.log(\'Detecting In View Slots.\');if(_refreshableInViewSlots.length<1){logger.log(\'No registered slots have been rendered yet.\');}for(var divId in _refreshableInViewSlots){if(_refreshableInViewSlots.hasOwnProperty(divId)){var slot=_refreshableInViewSlots[divId];var el=slot.el||document.getElementById(divId);var viewTest=false;if(el){viewTest=el&&_focused&&_getPercentInView(el)>=TARGET_DISPLAY_PERCENT&&parseInt(_refreshableInViewSlots[divId].inViewRefreshCount)>0;}var interval=getInterval(divId);if(viewTest&&!interval){createInterval(divId);}}}}function preQueueCallbackForIVR(asset,callback){var startListeners=false;logger.time(\'IVR Pre-Queue Process Start\');for(var x=0;x<asset.length;x++){var slot=asset[x];slot.hasInViewRefresh=asset[0].hasInViewRefresh?asset[0].hasInViewRefresh:slot.hasInViewRefresh||\'false\';if(slot.hasInViewRefresh===\'true\'){logger.log(\'Slot has In-View Refresh...\');slot.inViewRefreshCounter=0;startListeners=true;registeredSlots.push(slot.rktr_slot_id);}}if(startListeners){logger.log(\'Starting IVR Listeners...\');startViewabilityListeners();}callback();logger.timeEnd(\'IVR Pre-Queue Process Start\');return null;}function preDispatchCallbackForIVR(queue,callback){for(var qId=0;qId<queue.length;qId++){var rocketeerSlot=queue[qId];if(rocketeerSlot.hasInViewRefresh===\'true\'){logger.log(\'Slot is configured for in view refresh.  Creating refresh object for slot [\'+rocketeerSlot.rktr_slot_id+\']\');_refreshableInViewSlots[rocketeerSlot.rktr_slot_id]=rocketeerSlot;}else{logger.log(\'Slot is not configured for in view refresh. [\'+rocketeerSlot.rktr_slot_id+\']\');}}if(callback)callback();}function registerModuleWithAdFuel(){window.AdFuel.registerModule(\'In View Refresh\',{preQueueCallback:preQueueCallbackForIVR,preDispatchCallback:preDispatchCallbackForIVR},MODULE_VERSION,window.AdFuelOptions.IVR);}function init(){if(window.AdFuel){//AdFuel loaded first\nregisterModuleWithAdFuel();}else{//wait for AdFuel to load\nwindow.AdFuelUtils.addEvent(document,\'AdFuelCreated\',registerModuleWithAdFuel);}}window.AdFuelUtils.startViewabilityListeners=startViewabilityListeners;init();})();}if(CNN.Features.enableIntegralAdScience===true){(function createIASModule(){var MODULE_NAME=\'Integral Ad Science Module\';var MODULE_VERSION=\'v3.1.3\';// Stub out AdFuelUtils in case it\'s not on the page.\nwindow.AdFuelUtils=window.AdFuelUtils||{addEvent:function addEvent(){},getURLParam:function getURLParam(){},isMonetized:function isMonetized(){},isIntl:false,getLogger:function getLogger(){},addMetric:function addMetric(){}};// Stub out AdFuelOptions in case it\'s not on the page.\nwindow.AdFuelOptions=window.AdFuelOptions||{};window.AdFuelOptions.IAS=window.AdFuelOptions.IAS||{DOM_PUB_ID:925660,INTL_PUB_ID:925660};var logger=window.AdFuelUtils.getLogger(MODULE_NAME,MODULE_VERSION,\'ias\',\'color: #d2b000; padding: 2px\');var iasActive=false;var DOMESTIC_PUB_ID=window.AdFuelOptions.IAS.DOM_PUB_ID;var INTERNATIONAL_PUB_ID=window.AdFuelOptions.IAS.INTL_PUB_ID;window.__iasPET=window.__iasPET||{};window.__iasPET.queue=window.__iasPET.queue||[];function iasDataHandler(done){logger.log(\'Adding IAS Targeting to slot...\');window.__iasPET.setTargetingForGPT();if(done&&typeof done===\'function\')done();}function preQueueCallback(asset,done){logger.log(\'Building slots for IAS...\');var adSlots=[];for(var x=0;x<asset.length;x++){if(asset[x].rktr_slot_id!==\'page\'){logger.log(\'Pushing Slot: \',{adSlotId:asset[x].rktr_slot_id,size:asset[x].sizes.map(function(size){return size[0]===\'fluid\'?[1,1]:size;}),adUnitPath:\'/8663477/\'+asset[x].rktr_ad_id});adSlots.push({adSlotId:asset[x].rktr_slot_id,size:asset[x].sizes.map(function(size){return size[0]===\'fluid\'?[1,1]:size;}),adUnitPath:\'/8663477/\'+asset[x].rktr_ad_id});}}window.__iasPET.queue.push({adSlots:adSlots,dataHandler:iasDataHandler.bind(null,[done])});}function preDispatchCallback(asset,done){setTimeout(function preDispatchTimeoutFunc(){try{logger.log(\'Fallback - Adding IAS Targeting to slots...\',asset);window.__iasPET.setTargetingForGPT();}catch(err){logger.warn(\'Could not set IAS targeting: \',err);}done();},900);}function registerModuleWithAdFuel(){if(iasActive){logger.log(\'Registering module with AdFuel\');window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:1000,dispatchCallbackTimeoutInMilliseconds:1000});window.AdFuel.registerModule(MODULE_NAME,{preQueueCallback:preQueueCallback,preDispatchCallback:preDispatchCallback},MODULE_VERSION,window.AdFuelOptions.IAS);}}function addIASJavascript(){logger.log(\'Adding IAS script to head...\');var iasTag=document.createElement(\'script\');iasTag.async=true;iasTag.src=\'//cdn.adsafeprotected.com/iasPET.1.js\';var targetNode=document.getElementsByTagName(\'head\')[0];targetNode.insertBefore(iasTag,targetNode.firstChild);iasActive=true;var pubId=INTERNATIONAL_PUB_ID;logger.log(\'Pub Ids: \',DOMESTIC_PUB_ID,INTERNATIONAL_PUB_ID);logger.log(\'Setting iasPET.pubId: \',pubId);window.__iasPET.pubId=pubId;// Set IAS publisher ID before pushing to the queue\n}function init(){logger.log(\'Initializing Module...\');window.AdFuelOptions.GDPR.APPLIES.then(function(applies){if(applies&&!window.AdFuelUtils.getConsent()){logger.log(\'Disabling IAS due to GDPR restrictions.\');}else{addIASJavascript();if(window.AdFuel&&window.AdFuel.cmd){//AdFuel loaded first\nwindow.AdFuel.cmd.push(registerModuleWithAdFuel);}else if(window.AdFuel){registerModuleWithAdFuel();}else{window.AdFuelUtils.addEvent(document,\'AdFuelCreated\',registerModuleWithAdFuel);}}});}init();})();}if(CNN.Features.enableKrux===true){(function createKruxModule(){var MODULE_NAME=\'Krux Module\';var MODULE_VERSION=\'v3.1.1\';var logger=window.AdFuelUtils.getLogger(MODULE_NAME,MODULE_VERSION,\'krux\',\'color: #d2b000; padding: 2px\');var enableKrux=true;function retrieve(n){var k=\'kx\'+n;var ls=function(){try{return window.localStorage;}catch(e){return null;}}();if(ls){return ls[k]||\'\';}else if(navigator.cookieEnabled){var m=document.cookie.match(k+\'=([^;]*)\');return m&&unescape(m[1])||\'\';}else{return\'\';}}window.AdFuelOptions.GDPR.APPLIES.then(function(applies){if(applies&&!window.AdFuelUtils.getConsent()){logger.log(\'Disabling Krux due to GDPR restrictions.\');enableKrux=false;}if(enableKrux){window.Krux||((window.Krux=function(){window.Krux.q.push([arguments]);}).q=[]);}window.krux_getDESegments=enableKrux?function krux_getDESegments(){var segmentString=\'&kxid=\';if(window.Krux.user){segmentString+=window.Krux.user;}segmentString+=\'&kxseg=\'+window.kvs.join(\',\');return segmentString;}:function(){};window.krux_getFWSegments=enableKrux?function krux_getFWSegments(){window.Krux.segments=retrieve(\'segs\')?retrieve(\'segs\').split(\',\'):[];return\'kxseg=\'+window.Krux.segments.join(\',kxseg=\');}:function(){};window.krux_getUser=enableKrux?function krux_getUser(){window.Krux.user=retrieve(\'user\');return window.Krux.user;}:function(){};window.krux_getFWKeyValues=enableKrux?function krux_getFWKeyValues(prefix,limit){window.Krux.segments=retrieve(\'segs\')?retrieve(\'segs\').split(\',\'):[];var segPrefix=prefix||\'_fwu:386123:\';var segLimit=limit||35;var fwKVP={};for(var x=0;x<window.Krux.segments.length;x++){if(x<segLimit)fwKVP[segPrefix+window.Krux.segments[x]]=1;}return fwKVP;}:function(){};var processCookie=enableKrux?function processCookie(asset,callback){window.Krux.user=retrieve(\'user\');window.Krux.segments=retrieve(\'segs\')?retrieve(\'segs\').split(\',\'):[];logger.log("Adding Krux Targeting...");var kuid=window.Krux.user;var ksg=window.Krux.segments.filter(function filterFunc(segment,index){return index<35;});window.AdFuel.addPageLevelTarget(\'kuid\',kuid);window.AdFuel.addPageLevelTarget(\'ksg\',ksg);window.AdFuelUtils.metricApi.addMetric({type:\'modules\',id:\'Krux\',data:{targeting:{kuid:kuid,ksg:ksg}}});callback();}:function(){};var registerModuleWithAdFuel=enableKrux?function registerModuleWithAdFuel(){window.AdFuel.registerModule(MODULE_NAME,{preDispatchCallback:processCookie},MODULE_VERSION,window.AdFuelOptions.KRUX);}:function(){};var setControlTag=enableKrux?function setControlTag(controlTagId){logger.log("Setting Control Tag: ",controlTagId);//execute script to set cookie\nvar a=document;var b=a.createElement(\'script\');var c=a.getElementsByTagName(\'head\')[0];var d=/^(complete|loaded)$/;var e=false;b.type=\'text/javascript\';b.async=true;var m;var src=(m=a.location.href.match(/\\bkxsrc=([^&]+)/))&&decodeURIComponent(m[1]);b.src=/^https?:\\/\\/([^\\/]+\\.)?krxd\\.net(:\\d{1,5})?\\//i.test(src)?src:src===\'disable\'?\'\':(a.location.protocol===\'https:\'?\'https:\':\'http:\')+\'//cdn.krxd.net/controltag?confid=\'+controlTagId;if(!window.AdFuelUtils.piiFilter.hash()&&!window.AdFuelUtils.piiFilter.qs()&&!window.AdFuelUtils.piiFilter.ref()){logger.log("Adding Krux Script To Head of Page...",b.src);c.appendChild(b);}}:function(){};var init=function init(){if(window.AdFuelOptions.KRUX){//set based on site\nvar controlTag=window.AdFuelUtils.isIntl?window.AdFuelOptions.KRUX.INTL_CONTROLTAG:window.AdFuelOptions.KRUX.DOM_CONTROLTAG;if(enableKrux){setControlTag(controlTag);if(window.AdFuel){//AdFuel loaded first\nregisterModuleWithAdFuel();}else{window.AdFuelUtils.addEvent(document,\'AdFuelCreated\',registerModuleWithAdFuel);}}}};init();});})();}if(CNN.Features.enableProximic===true){(function createProximicModule(){var MODULE_NAME=\'Proximic Module\';var MODULE_VERSION=\'v3.1.2\';// Stub out AdFuelUtils in case it\'s not on the page.\nwindow.AdFuelUtils=window.AdFuelUtils||{addEvent:function addEvent(){},getLogger:function getLogger(){}};// Stub out AdFuelOptions in case it\'s not on the page.\nwindow.AdFuelOptions=window.AdFuelOptions||{DEFAULT_MODULE_TIMEOUT:800};window.AdFuelOptions.PROXIMIC=window.AdFuelOptions.PROXIMIC||{};var logger=window.AdFuelUtils.getLogger(MODULE_NAME,MODULE_VERSION,\'proximic\',\'color: #d2b000; padding: 2px\');var loop_count=0;var iteration_time=50;var timeout=250;var location_url=document.location.href;if(window.location.hostname.toLowerCase().match(/^train\\.next\\.cnn\\.com/)){location_url.replace(\'train.next.\',\'www\');}var script_url=\'//segment-data-us-east.zqtk.net/turner-47fcf6?url=\'+encodeURIComponent(location_url);// var script_url = "//segment-data-us-east.zqtk.net/turner-47fcf6?url=" + encodeURIComponent(\'http://www.cnn.com/2016/02/17/entertainment/prince-passport-photo-feat/index.html\');\nvar segmentData=\'\';var scriptAdded=false;// sample response from js and format can be easily changed:\nwindow.gotSegmentData=function gotSegmentData(data){if(data.data){logger.log(\'Segment Data: \',data.data);segmentData=data.data;window.proximicData=data.data;}};function recallProximic(url){segmentData=\'\';window.proximicData=[];window.AdFuel.removePageLevelTarget(\'pconid\');var location_url=url||document.location.href;if(window.location.hostname.toLowerCase().match(/^train\\.next\\.cnn\\.com/)){location_url.replace(\'train.next.\',\'www\');}script_url=\'//segment-data-us-east.zqtk.net/turner-47fcf6?url=\'+encodeURIComponent(location_url);delete document.getElementById(\'proximic-script\');scriptAdded=false;addProximicScriptToHead();loop_count=0;logger.log(\'Waiting for Proximic Data...\');wait_for_data();}window.recallProximic=recallProximic;function addProximicScriptToHead(){if(!scriptAdded){window.AdFuelOptions.GDPR?window.AdFuelOptions.GDPR.APPLIES.then(function(applies){if(applies&&!window.AdFuelUtils.getConsent()){logger.log(\'Disabling Proximic due to GDPR restrictions.\');}else{var prox=document.createElement(\'script\');prox.id=\'proximic-script\';prox.type=\'text/javascript\';prox.async=true;prox.src=(document.location.protocol===\'https:\'?\'https:\':\'http:\')+script_url;var node=document.getElementsByTagName(\'script\')[0];node.parentNode.appendChild(prox);logger.log(\'Added Proximic script to head of page.\',script_url);scriptAdded=true;}}):\'\';}}function call_dfp(dataForDFP,callback){if(dataForDFP!==\'\'&&typeof dataForDFP!==\'undefined\'){logger.log(\'Setting data for DFP\',dataForDFP);window.AdFuel.addPageLevelTarget(\'pconid\',dataForDFP);window.AdFuel.removePageLevelTarget(\'prx_to\',\'1\');window.AdFuel.addPageLevelTarget(\'prx_to\',\'0\');if(callback)callback();}}function checkEligibility(queue,callback){if(queue&&queue.length>0){logger.time(\'Proximic Targeting Request\');var rktrAdId;var x;var money=true;var epu=false;try{if(document.location.hostname.indexOf(\'money\')!==-1&&(!window.CNNMONEY||!window.CNNMONEY.adTargets||!window.CNNMONEY.adTargets.c_type||[\'article\',\'video\',\'gallery\'].indexOf(window.CNNMONEY.adTargets.c_type)===-1)){money=false;}for(x=1;x<queue.length;x++){rktrAdId=queue[x].rktr_ad_id.toLowerCase();epu=document.location.hostname.indexOf(\'explorepartsunknown.com\')!==-1&&rktrAdId.search(/(leaf)/)>0;logger.log(\'Is this page for ExplorePartsUnknown: \',epu);logger.log(\'Should Proximic Be Included: \',rktrAdId.search(/^(cnn|cnnbusiness|cnnbusinessedition)\\/(homepage|(.+\\/landing))/)<0&&rktrAdId.search(/^(cnni|cnnbusiness|cnnbusinessedition)\\/(homepage|(.+\\/(landing|main)))/)<0&&money||epu);if(rktrAdId.search(/^(cnn|cnnbusiness|cnnbusinessedition)\\/(homepage|(.+\\/landing))/)<0&&rktrAdId.search(/^(cnni|cnnbusiness|cnnbusinessedition)\\/(homepage|(.+\\/(landing|main)))/)<0&&money||epu){logger.log(\'Adding Proximic based on ad unit specifications: \',rktrAdId);addProximicScriptToHead();logger.log(\'Waiting for Proximic Data...\');wait_for_data(callback);break;}else{logger.log(\'Filtering Proximic based on ad unit specifications: \',rktrAdId);callback();break;}}}catch(err){logger.log(\'Error parsing Proximic data: \',err.message||\'Unknown\');}}else{callback();}}function wait_for_data(callback){var timeLogEnded=false;setTimeout(function waitForDataTimeoutFunc(){loop_count++;if(window.proximicData!==\'\'&&typeof window.proximicData!==\'undefined\'){/* Call DFP with data */logger.log(\'Proximic Data found!\');if(!timeLogEnded){logger.timeEnd(\'Proximic Targeting Request\');timeLogEnded=true;}call_dfp(window.proximicData,callback);}else if(loop_count*iteration_time<timeout){logger.log(\'Still waiting...\');wait_for_data(callback);}else{logger.log(\'Proximic Timeout Occurred!\');if(!timeLogEnded){logger.timeEnd(\'Proximic Targeting Request\');timeLogEnded=true;}/* Timeout occurred, call DFP without data */window.AdFuel.addPageLevelTarget(\'prx_to\',\'1\');if(callback)callback();}},iteration_time);}function registerModuleWithAdFuel(){window.AdFuel.registerModule(MODULE_NAME,{preQueueCallback:checkEligibility},MODULE_VERSION,window.AdFuelOptions.PROXIMIC);window.AdFuel.addPageLevelTarget(\'prx_to\',\'1\');if(document.location.hostname.indexOf(\'explorepartsunknown.com\')!==-1&&document.location.pathname===\'/watch\'){logger.log(\'On https://explorepartsunknown.com/watch...\');addProximicScriptToHead();}}function init(){if(window.AdFuel){//AdFuel loaded first\nregisterModuleWithAdFuel();}else{window.AdFuelUtils.addEvent(document,\'AdFuelCreated\',registerModuleWithAdFuel);}}init();})();}if(CNN.Features.enableSpotX===true){(function createSpotXModule(){var MODULE_NAME=\'SpotX Module\';var MODULE_VERSION=\'v3.0.0\';// Stub out AdFuelUtils in case it\'s not on the page.\nwindow.AdFuelUtils=window.AdFuelUtils||{addEvent:function addEvent(){},getURLParam:function getURLParam(){},isMonetized:function isMonetized(){},isIntl:false,getLogger:function getLogger(){},addMetric:function addMetric(){}};// Stub out AdFuelOptions in case it\'s not on the page.\nwindow.AdFuelOptions=window.AdFuelOptions||{};window.AdFuelOptions.SPOTX=window.AdFuelOptions.SPOTX||{DEFAULT_TIMEOUT:750,REFRESH_TIMEOUT:750};var SPOTX_TIMEOUT=window.AdFuelOptions.SPOTX.DEFAULT_TIMEOUT||750;var SPOTX_REFRESH_TIMEOUT=window.AdFuelOptions.SPOTX.REFRESH_TIMEOUT||750;var SPOTX_TARGETING_TIMEOUT;var SPOTX_TARGETING={spotx_ad_key:\'\',spotx_bid:\'\'};var scriptAdded=false;var logger=window.AdFuelUtils.getLogger(MODULE_NAME,MODULE_VERSION,\'spotx\',\'color: #58f53f; padding: 2px\');function getTargetingData(timeout){timeout=timeout||SPOTX_TIMEOUT;var timeoutOverride=window.AdFuelUtils.getURLParam(\'mdt\');if(timeoutOverride){timeout=timeoutOverride;logger.log(\'Overriding Max Duration Time: \',timeout);}var wrappedFunction=function wrappedFunction(resolve){logger.log(\'Getting Video targeting...\');var innerFunction=function innerFunction(bids){if(!bids.error){SPOTX_TARGETING=bids;}return SPOTX_TARGETING;};if(window.SpotXVideoAPI._targetingPromise){window.SpotXVideoAPI._targetingPromise.then(function(bids){window.targetingTimeoutId=window.targetingTimeoutId-1;clearTimeout(window.targetingTimeoutId);resolve(innerFunction(bids));});}else{logger.log(\'Could not find initial targeting promise... creating new promise.\');window.SpotXVideoAPI._targetingPromise=getSpotXTargeting().then(function(bids){window.targetingTimeoutId=window.targetingTimeoutId-1;clearTimeout(window.targetingTimeoutId);resolve(innerFunction(bids));});}};var timeoutFunction=function timeoutFunction(resolve,reject){if(!window.targetingTimeoutId){window.targetingTimeoutId=setTimeout(function(){logger.log(\'getTargetingData timed out after \'+timeout+\'ms.\');reject(\'getTargetingData timed out after \'+timeout+\'ms.\');},timeout);}};var timeoutCallback=new Promise(timeoutFunction);var wrappedCallback=new Promise(wrappedFunction);// Returns a race between the timeout and the passed in promise\nreturn Promise.race([wrappedCallback,timeoutCallback]);}function getRefreshedTargetingData(timeout){if(!scriptAdded){return new Promise(function(resolve){resolve(SPOTX_TARGETING);});}else{timeout=timeout||SPOTX_REFRESH_TIMEOUT;var timeoutOverride=window.AdFuelUtils.getURLParam(\'mdt\');if(timeoutOverride){timeout=timeoutOverride;logger.log(\'Overriding Max Duration Time: \',timeout);}var timeoutFunction=function timeoutFunction(resolve,reject){window.spotXTargetingTimeoutId=setTimeout(function(){logger.log(\'getRefreshedTargetingData timed out after \'+timeout+\'ms.\');clearTimeout(window.spotXTargetingTimeoutId);reject(\'getRefreshedTargetingData timed out after \'+timeout+\'ms.\');},timeout);};var wrappedFunction=function wrappedFunction(resolve){window.SpotXVideoAPI._refreshedTargetingPromise=getSpotXTargeting(timeout);var innerFunction=function innerFunction(bids){clearTimeout(window.targetingTimeoutId);logger.log(\'Refreshed Bids: \',bids);SPOTX_TARGETING=bids;resolve(SPOTX_TARGETING);};logger.log(\'Refreshing Video targeting...\');window.SpotXVideoAPI._refreshedTargetingPromise.then(innerFunction);};var wrappedCallback=new Promise(wrappedFunction);var timeoutCallback=new Promise(timeoutFunction);// Returns a race between the timeout and the passed in promise\nreturn Promise.race([timeoutCallback,wrappedCallback]);}}function getSpotXTargeting(){if(!scriptAdded){return new Promise(function(resolve){resolve(SPOTX_TARGETING);});}else{var spotXTargetingPromise=new Promise(function(resolve){logger.log(\'Getting SpotX Targeting...\');var valueReturned=false;if(window.SpotX){var directAdOS=new window.SpotX.DirectAdOS({// REQUIRED\n// channel_id: 85394,\nchannel_id:240895,content_width:640,content_height:480,// This is currently required by the Direct AdOS but is\n// not required for header bidding. It can be any dom element.\nslot:document.getElementsByTagName(\'body\')[0]// OPTIONAL\n// hide_skin: false,\n// autoplay: false,\n// ad_volume: 90, // volume as a percentage\n// price_floor: 5.30, // price floor of this opportunity\n// custom: {}, // Publisher\'s custom KVPs\n// token: {}, // Publisher\'s custom pass through macros\n// content: {}, // openRTB content object\n// start_delay: 1234, //openRTB start_delay (pre/mid/post roll)\n// placement: 1, // openRTB video placement value\n});// Add a timeout around this function call in case the call to SpotX\n// takes too long\ndirectAdOS.getAdServerKVPs().then(function(kvps){if(kvps){SPOTX_TARGETING=kvps;}if(!valueReturned){valueReturned=true;clearTimeout(SPOTX_TARGETING_TIMEOUT);resolve(SPOTX_TARGETING);}},function(error){if(!valueReturned){valueReturned=true;clearTimeout(SPOTX_TARGETING_TIMEOUT);resolve({error:error});}});SPOTX_TARGETING_TIMEOUT=setTimeout(function(){if(!valueReturned){valueReturned=true;logger.warn("SPOTX ERROR: ",\'Timed out after \'+SPOTX_TARGETING+\'ms.\');resolve({error:\'SpotX Timed Out.\'});}},8000);}else{if(!valueReturned){valueReturned=true;logger.warn("SPOTX ERROR: ",\'No SpotX API.\',window.SpotX);resolve({error:\'No SpotX API.\'});}}});spotXTargetingPromise.id="SpotX Targeting Promise";return spotXTargetingPromise;}}function addSpotXJavascript(){if(!scriptAdded){window.AdFuelOptions.GDPR.APPLIES.then(function(applies){if(applies){if(window.AdFuelUtils.getConsent()){var innerFunc=function innerFunc(){logger.log(\'SpotX Script Added.\');window.SpotXVideoAPI._targetingPromise=getSpotXTargeting();};logger.log(\'Adding SpotX script to head...\');var spotXTag=document.createElement(\'script\');// spotXTag.src = \'//js.spotx.tv/directsdk/v1/85394.js\';\nspotXTag.src=\'//js.spotx.tv/directsdk/v1/240895.js\';var targetNode=document.getElementsByTagName(\'head\')[0];targetNode.insertBefore(spotXTag,targetNode.firstChild);var d=/^(complete|loaded)$/;var e=false;spotXTag.onload=spotXTag.onreadystatechange=function(){if(!e&&!(\'readyState\'in spotXTag&&d.test(spotXTag.readyState))){spotXTag.onload=spotXTag.onreadystatechange=null;e=true;innerFunc();}};scriptAdded=true;}}});}}function init(){logger.log(\'Initializing Module...\');window.AdFuelVideoAPI=window.AdFuelVideoAPI||{};window.AdFuelVideoAPI.SpotX=window.SpotXVideoAPI={getTargetingData:getTargetingData,getRefreshedTargetingData:getRefreshedTargetingData,getPreRollTargetingData:getTargetingData,getMidRollTargetingData:getRefreshedTargetingData,getRefreshedPreRollTargetingData:getRefreshedTargetingData,getRefreshedMidRollTargetingData:getRefreshedTargetingData,_targetingPromise:null,_refreshedTargetingPromise:null,__VERSION__:MODULE_VERSION,__OPTIONS__:window.AdFuelOptions.SPOTX};addSpotXJavascript();}init();})();}}if(CNN.AdsConfig.adfuelOverride){(function(doc,cnn){\'use strict\';var elem=doc.createElement(\'script\'),sl=doc.getElementsByTagName(\'script\')[0];elem.type=\'text/javascript\';elem.src=(doc.location.protocol===\'https:\'?\'https:\':\'http:\')+cnn.AdsConfig.adfuelOverride;sl.parentNode.insertBefore(elem,sl);})(document,window.CNN);}else{//  **AdFuel.js** v1.3.4.10\n//  Repo: http://github.com/turnercode/ams-adfuel\n//     Release Notes\n//     -------------\n//      - GDPR Updates (CSD-1883) (1.3.4.0)\n//      - Module Version Exports (CSD-1875) (1.3.4.1)\n//      - Fix: Duplicate \'/\' in JSON URLs (1.3.4.2)\n//      - Fix: Duplicate targeting key-values (CSD-1879) (1.3.4.2)\n//      - Fix: Errors when including registries via script tag (1.3.4.3)\n//      - Fix: Ad Request when GDPR applies and consent not granted. (1.3.4.4)\n//      - Fix: Fix for preloading registries. (1.3.4.5)\n//      - Fix: Stub out AdFuelUtils/Options (1.3.4.6)\n//      - Fix: Respect excluded slots when sending for programmatic auction (1.3.4.7)\n//      - Fix: Titling for Ad Rendered performance marks (1.3.4.8)\n//      - Fix: Include AdFuelUtils if not already available (1.3.4.9)\n//      - Fix: Adding Slot performance tracking (1.3.4.10)\nwindow.AdFuel=function adFuelBuilder(){window.AdFuelOptions=window.AdFuelOptions||{ADFUEL:{AUTO_DISPATCH:true,DEFAULT_MOBILE_TIMEOUT:800,DEFAULT_DESKTOP_TIMEOUT:1000,DEFAULT_TIMEOUT:1000,SITE_OBJECT:\'\',IFRAME_TITLE:\'advertisement\',NETWORK_ID:\'8663477\',REFRESH_ON_FOCUS_ONLY:false},GDPR:{APPLIES:new Promise(function(resolve){resolve(false);})}// Define local AdFuel variables\n};var NAME=\'AdFuel\';var VERSION=\'v1.3.4.9\';var cdnRoot=window.AdFuelUtils.cdnRoot;// Define options that inherit values from window.AdFuelOptions\nvar _options={autoDispatch:window.AdFuelOptions.ADFUEL.AUTO_DISPATCH,defaultTimeout:window.AdFuelUtils.isMobile.any?window.AdFuelOptions.ADFUEL.DEFAULT_MOBILE_TIMEOUT||window.AdFuelOptions.ADFUEL.DEFAULT_TIMEOUT:window.AdFuelOptions.ADFUEL.DEFAULT_DESKTOP_TIMEOUT||window.AdFuelOptions.ADFUEL.DEFAULT_TIMEOUT,exclude:[],siteObject:window.AdFuelOptions.ADFUEL.SITE_OBJECT,iframeTitle:window.AdFuelOptions.ADFUEL.IFRAME_TITLE,networkId:window.AdFuelOptions.ADFUEL.NETWORK_ID,refreshOnFocusOnly:window.AdFuelOptions.ADFUEL.REFRESH_ON_FOCUS_ONLY};var perf=window.AdFuelUtils.performance;var enableSegmentAnalytics=window.CNN&&window.CNN.Features&&window.CNN.Features.enableSegmentAnalytics;var _initialized=false;var _blocked=null;var _focused=true;var _pageSlots={};var _rocketeerSlots=[];var _builtSlots=[];var _queuedSlots=[];var _dispatchedSlots=[];var _adsQAPageLevelKey;var _adsQAPageLevelValue;var _setChildDirectedTreatment;var _setSafeFrameConfig;var _dynamicTargeting={pageTargets:{},slotTargets:{}};var _pageLevelTargeting=[];var _inheritableAdUnit;var _preQueueExecuting=false;var _delayingDispatch=false;// contains dispatchQueue functions which must be delayed until queues are dispatchable\nvar _delayedDispatchQueues=[];// contains dispatchQueue functions which must be delayed until users request their dispatch\nvar _userDispatchedQueues=[];// contains registered Modules (name, callbacks)\nvar _registeredModules=[];// contains slot ids which can be excluded via _options.exclude or queueRegistery queueOptions.exclude\n// excluded slots must be explicitly dispatched via dispatchOptions.slots\nvar _excludedSlotIds=[];// contains the registry data from queued registries to be used in the event of a re-queue\n// of the same registry\nvar _cachedRegistries={};// create instance of logger for AdFuel\nvar logger=window.AdFuelUtils.getLogger(NAME,VERSION,\'adfuel\',\'color: #4f86f7; padding: 2px\');// main AdFuel registry handler\nvar RegistryArray=function RegistryArrayFunc(){var self=[];self.push=function pushFunc(asset,options){if(!_initialized||_blocked||!Array.isArray(asset)){return;/* Nothing to do */}perf.mark(\'Queue Registry [\'+asset[0].rktr_id+\'] Start\');// Always work with a clone of the supplied arguments to conform to the FP paradigm.\nvar assetClone=window.AdFuelUtils.clone(asset);var optionsClone=options?window.AdFuelUtils.clone(options):{dispatch:true};optionsClone.dispatch=optionsClone.dispatch||_options.autoDispatch;logger.log(\'Asset Clone: \',assetClone);// Begin Queueing of Registry\n// Calls preQueueCallback and postQueueCallback\n// Dispatches queue if _options.autoDispatch\n_preQueueExecuting=true;var assetIndex;// Filter out slots not present in the \'slots\' option or present in the \'exclude\' option if supplied.\n// Also check _excludedSlotIds for any slot that may have been previously excluded.\nassetClone=assetClone.filter(function(slot,index){if(index===0)return true;// This first check is necessary in order to dispatch excluded slots when specifically called to do so.\nif(optionsClone.slots&&optionsClone.slots.length>0&&optionsClone.slots.indexOf(slot.rktr_slot_id)!==-1){// Remove the slot from excluded slots since it\'s being specificially called for dispatch.\nif(_excludedSlotIds.indexOf(slot.rktr_slot_id)!==-1){_excludedSlotIds.splice(_excludedSlotIds.indexOf(slot.rktr_slot_id),1);}return true;}if(optionsClone.slots&&optionsClone.slots.length>0&&optionsClone.slots.indexOf(slot.rktr_slot_id)===-1){logger.log(\'Slot [\'+slot.rktr_slot_id+\'] is being excluded based on slot options.\');return false;}if(optionsClone.exclude&&optionsClone.exclude.length>0&&optionsClone.exclude.indexOf(slot.rktr_slot_id)!==-1){logger.log(\'Slot [\'+slot.rktr_slot_id+\'] is being excluded based on exclude options.\');return false;}if(_excludedSlotIds.length>0&&_excludedSlotIds.indexOf(slot.rktr_slot_id)!==-1){logger.log(\'Slot [\'+slot.rktr_slot_id+\'] is being excluded based on previously excluded slots.\');return false;}return true;});// Modify the asset to correlate to the slot map, if passed.\nif(optionsClone.slotMap){logger.log(\'Parsing Slot Map: \',optionsClone.slotMap,assetClone);for(assetIndex=1;assetIndex<assetClone.length;assetIndex++){logger.log(\'Checking Slot: \',assetClone[assetIndex].rktr_slot_id);if(optionsClone.slotMap[assetClone[assetIndex].rktr_slot_id]){logger.log(\'Overriding Element Id for: \'+assetClone[assetIndex].rktr_slot_id,optionsClone.slotMap[assetClone[assetIndex].rktr_slot_id]);assetClone[assetIndex].rktr_slot_id=optionsClone.slotMap[assetClone[assetIndex].rktr_slot_id];}}}// Modify the asset to correlate to the ad unit map, if passed.\nif(optionsClone&&optionsClone.adUnitMap){logger.log(\'Parsing Ad Unit Map: \',optionsClone.adUnitMap,assetClone);if(typeof optionsClone.adUnitMap===\'string\'){logger.log(\'Overriding All Ad Units: \',optionsClone.adUnitMap);for(assetIndex=1;assetIndex<assetClone.length;assetIndex++){assetClone[assetIndex].rktr_ad_id=optionsClone.adUnitMap;}}else{for(assetIndex=1;assetIndex<assetClone.length;assetIndex++){logger.log(\'Checking Slot: \',assetClone[assetIndex].rktr_slot_id);if(optionsClone.adUnitMap[assetClone[assetIndex].rktr_slot_id]){logger.log(\'Overriding Ad Unit for: \'+assetClone[assetIndex].rktr_slot_id,optionsClone.adUnitMap[assetClone[assetIndex].rktr_slot_id]);assetClone[assetIndex].rktr_ad_id=optionsClone.adUnitMap[assetClone[assetIndex].rktr_slot_id];}}}}var monetizedAssets=[];assetClone.forEach(function(clonedAsset){var monetization=window.AdFuelUtils.isMonetized(clonedAsset);if(asset.rktr_slot_id!==\'page\'&&monetization.isMonetized){clonedAsset.monetization=monetization;monetizedAssets.push(clonedAsset);}});logger.log(\'Monetized Slots: \',monetizedAssets);// Add asset to this array\nArray.prototype.push.call(self,assetClone);var slotsToDisplay=assetClone.filter(function(slot){var test1=!optionsClone.slots||optionsClone.slots.length===0||optionsClone.slots.indexOf(slot.rktr_slot_id)>=0;var test2=!optionsClone.exclude||_excludedSlotIds.length===0||_excludedSlotIds.indexOf(slot.rktr_slot_id)<0;var test3=optionsClone.slots&&optionsClone.slots.length>0||_excludedSlotIds.indexOf(slot.rktr_slot_id)<0;var validSlot=test1&&test2&&test3;return validSlot;});logger.log(\'slots To display: \',slotsToDisplay);var queueingProcedure=function _queueingProcedure(){var registryName=assetClone[0].rktr_id;logger.log(\'Queueing Procedure for: \',assetClone);// set child directed treatment flag\nif(typeof assetClone[0].child_directed_treatment!==\'undefined\'){_setChildDirectedTreatment=assetClone[0].child_directed_treatment===\'true\'?1:0;}// set SafeFrame config\nif(typeof assetClone[0].safeframe_config!==\'undefined\'){_setSafeFrameConfig=assetClone[0].safeframe_config;}if(!assetClone[0].singleton){// registry, non-singleton\n// save page level targeting\n_applyRegistryPageLevelTargeting(assetClone[0].targeting);// set inheritable adunit based on first slot\ntry{_inheritableAdUnit=_removeLeadingNumericNetworkId(assetClone[1].rktr_ad_id);}catch(e){logger.log(\'Could not find inheritable Ad Unit.\',assetClone);}}var pageLevelRoot=_options.siteObject||(assetClone[0].root?assetClone[0].root.toUpperCase():assetClone[0].site.toUpperCase());logger.log(\'Page Level Root: \',pageLevelRoot);logger.log(\'Grabbing targeting from window object:\',window[pageLevelRoot]?window[pageLevelRoot].adTargets:{},window[pageLevelRoot]?window[pageLevelRoot].slotTargets:{});_applyWindowSiteLevelOptions(pageLevelRoot);// process slots\nvar startListeners=false;for(var x=1;x<assetClone.length;x++){var slot=asset[x];slot.parentRegistry=registryName;if(!slot.queued){var hasInViewRefresh=assetClone[0].hasInViewRefresh?assetClone[0].hasInViewRefresh:slot.hasInViewRefresh;if(hasInViewRefresh===true){startListeners=true;}logger.log(\'Adding slot to slots registry: \',slot,JSON.parse(JSON.stringify(_rocketeerSlots)));_rocketeerSlots.push(slot);}}if(startListeners&&typeof window._startInViewListeners!==\'undefined\'){window._startInViewListeners();}};logger.log(\'Executing pre-queue callbacks...\');executeModuleCallbacks(\'preQueueCallback\',monetizedAssets,assetClone,optionsClone).then(function(){_preQueueExecuting=false;logger.log(\'Pre-Queue Processes Complete!\');try{var PreQueueCompleteEvent=new CustomEvent(\'PreQueueComplete\',{detail:{asset:asset}});document.dispatchEvent(PreQueueCompleteEvent);}catch(ex){logger.error(\'error dispatching custom Event: PreQueueComplete\',{error:ex});}logger.log(\'Pre-Queue Complete!\');logger.log(\'Executing Queueing Procedures...\');queueingProcedure();perf.mark(\'Queue Registry [\'+asset[0].rktr_id+\'] End\');perf.measure(\'Queue Registry [\'+asset[0].rktr_id+\']\',\'Queue Registry [\'+asset[0].rktr_id+\'] Start\',\'Queue Registry [\'+asset[0].rktr_id+\'] End\');if(optionsClone.dispatch){logger.log(\'Dispatching Queue...\');window.AdFuel.dispatchQueue(optionsClone);}if(_delayingDispatch){_delayingDispatch=false;_dispatchAllQueues();}});if(enableSegmentAnalytics&&perf.adfuelEntries.length>0){perf.getTrackPerformance().then(function(){for(var i=0;i<perf.adfuelEntries.length;i++){window.CNN.Analytics.segment.trackPerformance(perf.adfuelEntries[i].name,perf.adfuelEntries[i].startTime);perf.adfuelEntries.splice(i,1);}});}};return self;};// build callbacks for Async.js\nvar _buildAsyncCallback=function _buildAsyncCallback(name,callback,event,data){return{name:name,callback:callback,event:event,data:data};};// execute module callbacks\nvar executeModuleCallbacks=function _executeModuleCallbacks(eventName,monetized,slots,options){var moduleCallbackPromise=new Promise(function(resolve){var moduleCallbacks=_registeredModules.filter(function(module){return!!module.callbacks[eventName];}).map(function(module){return _buildAsyncCallback(module.name,function(callback){module.callbacks[eventName](monetized,callback);},eventName,monetized);});if(options&&options[eventName]){// add optional preRefreshCallback\nmoduleCallbacks.push(_buildAsyncCallback(eventName+\'Options\',function(callback){options[eventName](monetized,callback);},\'preRefreshCallback\'));}if(eventName===\'preQueueCallback\'){logger.log(\'Adding GPT Slot Build task...\');moduleCallbacks.push(_buildAsyncCallback(\'GPT Slot Build\',function asyncCallbackFunc(callback){_buildSlots(slots,options);callback();},eventName,slots));}if(moduleCallbacks.length>0){window.async.parallelWithTimeout(eventName,_options.defaultTimeout,moduleCallbacks,function(err,response,data){if(err){logger.log(\'Error calling \'+eventName+\' callbacks for registered modules\',{error:err});resolve();}resolve();});}else{resolve();}});return moduleCallbackPromise;};// bind a function to DOMContentLoaded\nfunction _bindReady(callback){var domContentLoadedCalled=false;var windowLoadCalled=false;var called=false;function ready(eventName){// ensure this only executes once for each event\nif(eventName==="DOMContentLoaded"&&!domContentLoadedCalled){perf.mark(\'AdFuel DOMContentLoaded\');if(_options.autoDispatch){logger.log(\'DOM Content has loaded. Auto-Dispatching Queue...\');_dispatchAllQueues();}domContentLoadedCalled=true;called=true;if(callback&&typeof callback===\'function\')callback();}if(eventName==="window.load"&&!windowLoadCalled){perf.mark(\'AdFuel window.load\');if(_options.autoDispatch){logger.log(\'Window has loaded. Auto-Dispatching Queue...\');_dispatchAllQueues();}windowLoadCalled=true;called=true;if(callback&&typeof callback===\'function\')callback();}}function tryScroll(){if(!called){try{document.documentElement.doScroll(\'left\');ready(\'DOMContentLoaded\');}catch(e){setTimeout(tryScroll,10);}}}// listen for document DOMContentLoaded/complete/loaded/interactive\nif(document.addEventListener){window.AdFuelUtils.addEvent(document,\'DOMContentLoaded\',function(){ready(\'DOMContentLoaded\');});}else if(document.attachEvent){// IE\nvar isFrame=false;try{isFrame=window.frameElement!==null;}catch(e){}// Do Nothing\n// IE, the document is not inside a frame\nif(document.documentElement.doScroll&&!isFrame){tryScroll();}// IE, the document is inside a frame\nwindow.AdFuelUtils.addEvent(document,\'readystatechange\',function(){if(document.readyState===\'complete\'||document.readyState===\'loaded\'||document.readyState===\'interactive\'){ready(\'DOMContentLoaded\');}});}// listen for window load/onload\nif(window.addEventListener||window.attachEvent){window.AdFuelUtils.addEvent(window,\'load\',function(){ready(\'window.load\');});}else{var fn=window.onload;// very old browser, copy old onload\nwindow.onload=function(){// replace by new onload and call the old one\nfn&&fn();ready(\'window.load\');};}// Fallback if adfuel is put on page post-DOMContentLoaded\nif(document.readyState===\'complete\'||document.readyState===\'loaded\'||document.readyState===\'interactive\'){ready(\'DOMContentLoaded\');}}// occurs once upon init parsing url for adsQA page-level targeting\nfunction _checkForAdsQA(){try{var qaparam=window.AdFuelUtils.getURLParam(\'adsqa\');if(qaparam){var qaparamPieces=qaparam.split(\'%3D\');_adsQAPageLevelKey=qaparamPieces[0];_adsQAPageLevelValue=qaparamPieces[1];_dynamicTargeting.pageTargets[_adsQAPageLevelKey]=_adsQAPageLevelValue;}}catch(err){logger.error(\'checkForAdsQA\',err);}}// this will be called each time a singleton/registry is queued\n// no need to call addPageLevelTarget/addSlotLevelTarget, because GPT Page may or may not have been built\nfunction _applyRegistryPageLevelTargeting(targeting){perf.mark(\'Applying Page-Level Targeting\');for(var tIndex=0;tIndex<targeting.length;tIndex++){var target=targeting[tIndex];var currentTargeting=_dynamicTargeting.pageTargets[target[0]]||[];for(var valIndex=0;valIndex<target[1].length;valIndex++){var value=target[1][valIndex];if(currentTargeting.indexOf(value)<0){currentTargeting.push(value);}}_dynamicTargeting.pageTargets[target[0]]=currentTargeting;}}// this will be called each time a singleton/registry is queued\n// no need to call addPageLevelTarget/addSlotLevelTarget, because GPT Page has not been built\nfunction _applyWindowSiteLevelOptions(siteLvl){if(window[siteLvl]){// moved to setOptions\n// if (window[siteLvl].refreshOnFocusOnly){\n//    _options.refreshOnFocusOnly = true;\n// }\nperf.mark(\'Applying Window Site-Level Options.\');if(window[siteLvl].adTargets){for(var key in window[siteLvl].adTargets){if(window[siteLvl].adTargets.hasOwnProperty(key)){_dynamicTargeting.pageTargets[key]=window[siteLvl].adTargets[key];}}}if(window[siteLvl].slotTargets){for(var slotId in window[siteLvl].slotTargets){if(window[siteLvl].slotTargets.hasOwnProperty(slotId)){var slotTargeting=window[siteLvl].slotTargets[slotId];if(!_dynamicTargeting.slotTargets[slotId]){_dynamicTargeting.slotTargets[slotId]={};}for(var key2 in slotTargeting){if(slotTargeting.hasOwnProperty(key2)){_dynamicTargeting.slotTargets[slotId][key2]=slotTargeting[key2];}}}}}}}// this will return targeting set in the registry, by the page, and by calls to AdFuel\nfunction _getCombinedSlotTargeting(rocketeerSlot){var slotTargeting=window.AdFuelUtils.clone(rocketeerSlot.targeting);if(!Array.isArray(slotTargeting)){slotTargeting=[slotTargeting];}var dynamicSlotTargeting=_dynamicTargeting.slotTargets;if(dynamicSlotTargeting[rocketeerSlot.rktr_slot_id]){for(var targetId in dynamicSlotTargeting[rocketeerSlot.rktr_slot_id]){if(dynamicSlotTargeting[rocketeerSlot.rktr_slot_id].hasOwnProperty(targetId)){slotTargeting.push([targetId,dynamicSlotTargeting[rocketeerSlot.rktr_slot_id][targetId]]);}}}return slotTargeting;}// add adfuel-rendered class to container element when ad is rendered\nfunction _setSlotRenderedClass(){window.AdFuelUtils.addEvent(document,\'GPTRenderComplete\',function(e){var el=document.getElementById(e.detail.divId);if(el&&el.className.indexOf(\'adfuel-rendered\')<0){el.className+=\' adfuel-rendered\';}});}// removes adfuel-rendered class from supplied slots\nfunction _removeSlotRenderedClass(slots){var slotsClone=window.AdFuelUtils.clone(slots);if(slotsClone){if(!Array.isArray(slotsClone)){slotsClone=[slotsClone];}if(slotsClone.length===0){slotsClone=Object.getOwnPropertyNames(_pageSlots);}}for(var x=0;x<slotsClone.length;x++){var slotId=slotsClone[x];var el=document.getElementById(slotId);if(el&&el.className.indexOf(\'adfuel-rendered\')>0){el.className=el.className.replace(\'adfuel-rendered\',\'\');}}}function _removePageSlots(slots){var slotsClone=window.AdFuelUtils.clone(slots);if(slotsClone){if(!Array.isArray(slotsClone)){slotsClone=[slotsClone];}if(slotsClone.length===0){slotsClone=Object.getOwnPropertyNames(_pageSlots);}}for(var x=0;x<slotsClone.length;x++){var slotId=slotsClone[x];if(_pageSlots[slotId]){delete _pageSlots[slotId];}}}function _removeRocketeerSlots(slots){var slotsClone=window.AdFuelUtils.clone(slots);if(slotsClone){if(!Array.isArray(slotsClone)){slotsClone=[slots];}if(slotsClone.length===0){slotsClone=Object.getOwnPropertyNames(_pageSlots);}}logger.log(\'Removing Rocketeer Slots: \',slotsClone);for(var x=0;x<_rocketeerSlots.length;x++){var slotId=_rocketeerSlots[x].rktr_slot_id;if(slotsClone.indexOf(slotId)>=0||slotsClone.length===0){_rocketeerSlots.splice(x,1);}}}function _setAdIFrameTitle(){window.googletag.setAdIframeTitle(_options.iframeTitle);}function addPageLevelTarget(key,value){if(!key||!value){return;}var val=value;var currentTargeting=AdFuel.dynamicTargeting.pageTargets[key]||[];if(!Array.isArray(currentTargeting)){currentTargeting=[currentTargeting];}if(!Array.isArray(val)){val=[val];}for(var vIndex=0;vIndex<val.length;vIndex++){if(currentTargeting.indexOf(val[vIndex])<0){currentTargeting.push(val[vIndex]);}}_dynamicTargeting.pageTargets[key]=currentTargeting.filter(function(x,i){return currentTargeting.indexOf(x)===i;});// logger.log(\'Setting Page-Level Targeting\', key, currentTargeting);\n_googleApi.executeWhenAvailable(\'adding page-level targeting\',function(){var data={};data[key]=AdFuel.dynamicTargeting.pageTargets[key];_googleApi.setTargeting(key,AdFuel.dynamicTargeting.pageTargets[key]);});}function removePageLevelTarget(key,value){_googleApi.executeWhenAvailable(\'removing page-level targeting\',function(){var targets=_dynamicTargeting.pageTargets[key];if(typeof value!==\'undefined\'){if(targets.indexOf(value)>=0){targets.splice(targets.indexOf(value),1);}_dynamicTargeting.pageTargets[key]=targets;}if(typeof key!==\'undefined\'&&typeof value===\'undefined\'){_googleApi.clearTargeting(key);delete _dynamicTargeting.pageTargets[key];if(targets)targets.length=0;}else if(typeof key===\'undefined\'){_googleApi.clearTargeting();_dynamicTargeting.pageTargets={};}if(typeof key!==\'undefined\'&&targets.length===0){delete _dynamicTargeting.pageTargets[key];}else if(typeof key!==\'undefined\'&&targets.length>0){_dynamicTargeting.pageTargets[key]=targets;_googleApi.setTargeting(key,targets);}else{_dynamicTargeting.pageTargets={};if(_adsQAPageLevelKey){// restore adsQA target\n_dynamicTargeting.pageTargets[_adsQAPageLevelKey]=_adsQAPageLevelValue;addPageLevelTarget(_adsQAPageLevelKey,_adsQAPageLevelValue);}}});}function addSlotLevelTarget(slotId,key,value){var slotTargeting=_dynamicTargeting.slotTargets[slotId]||{};var currentTargeting=slotTargeting[key]||[];if(!Array.isArray(currentTargeting)){currentTargeting=currentTargeting?[currentTargeting]:[];}if(Array.isArray(value)){for(var vIndex=0;vIndex<value.length;vIndex++){currentTargeting.push(value[vIndex]);}}else{currentTargeting.push(value);}_dynamicTargeting.slotTargets[slotId]=_dynamicTargeting.slotTargets[slotId]||{};_dynamicTargeting.slotTargets[slotId][key]=currentTargeting.filter(function(x,i){return currentTargeting.indexOf(x)===i;});_googleApi.executeWhenAvailable(\'adding slot-level targeting\',function(){var slot=_pageSlots[slotId];if(slot){// found slot\n_googleApi.setSlotTargeting(slot,key,currentTargeting);}});}function removeSlotLevelTarget(slotId,key,value){_googleApi.executeWhenAvailable(\'removing slot-level targeting\',function(){var slot=_pageSlots[slotId];if(slot){// valid slot\nvar slotTargeting={};// get existing targeting keys\nvar currentTargetingKeys=slot.getTargetingKeys();for(var keyId in currentTargetingKeys){if(currentTargetingKeys.hasOwnProperty(keyId)){var keyName=currentTargetingKeys[keyId];if(typeof keyName!==\'function\'){slotTargeting[keyName]=slot.getTargeting(keyName)||\'\';}}}var defaultSlotTargeting={pos:slotTargeting.pos};if(key){// remove only key\nif(!value){delete _dynamicTargeting.slotTargets[slotId][key];delete slotTargeting[key];}else{slotTargeting[key].splice(slotTargeting[key].indexOf(value),1);_dynamicTargeting.slotTargets[slotId][key].splice(_dynamicTargeting.slotTargets[slotId][key].indexOf(value),1);}}else{// remove everything but pos\nslotTargeting={pos:slotTargeting.pos};_dynamicTargeting.slotTargets[slotId].length=0;_dynamicTargeting.slotTargets[slotId]=defaultSlotTargeting;}_googleApi.clearSlotTargeting(slot);// add back everything in slotTargeting\nfor(var targetKey in slotTargeting){if(slotTargeting.hasOwnProperty(targetKey)){if(slotTargeting[targetKey].length===0){slotTargeting[targetKey][0]=\'\';}_googleApi.setSlotTargeting(slot,targetKey,slotTargeting[targetKey]);}}}});}function _buildPageLevelGPTObject(){perf.mark(\'Page-Level GPT Build Start\');var latlong=window.AdFuelUtils.readCookie(\'gptgeo\');if(!latlong){logger.log(\'Unable to retrieve location cookie\',latlong);}else{// send lat/long to GPT\nvar latlongPieces=latlong.split(\'%2C\');var latitude=parseFloat(latlongPieces[0]);var longitude=parseFloat(latlongPieces[1]);_googleApi.executeWhenAvailable(\'setting location\',function(){_googleApi.setLocation(latitude,longitude);});}if(typeof _setChildDirectedTreatment!==\'undefined\'){logger.log(\'Setting Child Directed Treat Tag : \',_setChildDirectedTreatment);_googleApi.executeWhenAvailable(\'setting child_directed_treatment tag\',function(){_googleApi.setChildDirectedTreatmentTag(_setChildDirectedTreatment);});}if(typeof _setSafeFrameConfig!==\'undefined\'){logger.log(\'Setting SafeFrame Config Tag : \',_setSafeFrameConfig);_googleApi.executeWhenAvailable(\'setting safeframe_config\',function(){_googleApi.setSafeFrameConfig(_setSafeFrameConfig);});}// combine page level targeting and _dynamicTargeting.pageTargets\nvar targetings=window.AdFuelUtils.clone(_pageLevelTargeting);var dynamicPageTargeting=_dynamicTargeting.pageTargets;for(var targetId in dynamicPageTargeting){if(dynamicPageTargeting.hasOwnProperty(targetId)){targetings.push([targetId,dynamicPageTargeting[targetId]]);}}for(var targetIndex=0;targetIndex<targetings.length;targetIndex++){var targetValue=targetings[targetIndex][1];// convert targetValue to array if necessary\nif(targetValue&&!Array.isArray(targetValue)){if(targetValue.indexOf(\',\')>=0){targetValue=targetValue.split(\',\');}else{targetValue=[targetValue];}}if(targetings[targetIndex][0]===\'exclusions\'){for(var i=0;i<targetValue.length;i++){var targetKeyValue=targetings[targetIndex][1][i];_googleApi.executeWhenAvailable(\'setting category exclusion\',// eslint-disable-next-line\nfunction _setCategoryExclusions(){_googleApi.setCategoryExclusion(targetKeyValue);});}}else{var targetKey=targetings[targetIndex][0];addPageLevelTarget(targetKey,targetValue);}}logger.log(\'Setting Page-Level Targeting\',targetings);perf.mark(\'Page-Level GPT Build End\');perf.measure(\'Page-Level GPT Build\',\'Page-Level GPT Build Start\',\'Page-Level GPT Build End\');}function _applySiteSlotTargeting(slot){var targetings=window.AdFuelUtils.clone(slot.targeting);var dynamicSlotTargeting=_dynamicTargeting.slotTargets[slot.rktr_slot_id]||{};var targetKey;if(dynamicSlotTargeting[slot.rktr_slot_id]){for(targetKey in dynamicSlotTargeting[slot.rktr_slot_id]){if(dynamicSlotTargeting[slot.rktr_slot_id].hasOwnProperty(targetKey)){targetings.push([targetKey,dynamicSlotTargeting[slot.rktr_slot_id][targetKey]]);}}}if(window[_options.siteObject]){if(typeof window[_options.siteObject].slotTargets!==\'undefined\'&&typeof window[_options.siteObject].slotTargets[slot.rktr_slot_id]!==\'undefined\'){for(targetKey in window[_options.siteObject].slotTargets[slot.rktr_slot_id]){targetings.push([targetKey,window[_options.siteObject].slotTargets[slot.rktr_slot_id][targetKey]]);}}}logger.log(\'Setting Slot-Level Targeting\',slot.rktr_slot_id,targetings);for(var targetIndex=0;targetIndex<targetings.length;targetIndex++){var targetValue=targetings[targetIndex][1];// convert targetValue to array if necessary\nif(targetValue&&!Array.isArray(targetValue)){if(targetValue.indexOf(\',\')>=0){targetValue=targetValue.split(\',\');}else{targetValue=[targetValue];}}logger.log(\'Setting Slot Level Target: \',slot.rktr_slot_id,targetKey,targetValue);targetKey=targetings[targetIndex][0];addSlotLevelTarget(slot.rktr_slot_id,targetKey,targetValue);}}function _renderCheck(rocketeerSlot){var unrenderedSlots=document.querySelectorAll(\'div#\'+rocketeerSlot.rktr_slot_id);if(unrenderedSlots.length!==0){for(var sI=0;sI<unrenderedSlots.length;sI++){var slotDiv=unrenderedSlots[sI];if(slotDiv.className.indexOf(\'adfuel-rendered\')>=0){/* Element already has an ad rendered in it. */logger.log(\'Found rendered slot...\',rocketeerSlot.rktr_slot_id);}else{/* Clean element ready for rendering */if(unrenderedSlots.length===1&&_pageSlots[rocketeerSlot.rktr_slot_id]){/*\n                If there is only one element in unrenderedSlots and a GPT Slot object\n                already exists for this id, ignore the element count when updating the\n                slot and clear the slot.\n                */var updatedSlot=_updateSlot(rocketeerSlot,true);// clear the slot before rendering an ad\nclearSlots(updatedSlot.rktr_slot_id);return updatedSlot;}return _updateSlot(rocketeerSlot);}}}// slot not found\nlogger.log("Not building slot... Can\'t Find Unrendered Slot On Page",rocketeerSlot.rktr_slot_id);return null;}function _buildSlot(rocketeerSlot){var networkId=_options.networkId;var markBuildSlot=\'Building Slot [\'+rocketeerSlot.rktr_slot_id+\']\';var markBuildSlotStart=markBuildSlot+\' Start\';var markBuildSlotEnd=markBuildSlot+\' End\';logger.group(\'Building Slot: \'+rocketeerSlot.rktr_slot_id);perf.mark(markBuildSlotStart);perf.queueEntry(markBuildSlotStart);if(rocketeerSlot.inherit&&_inheritableAdUnit){// for inheritable slots, override adunit if there\'s something to inherit\nrocketeerSlot.rktr_ad_id=_inheritableAdUnit;}var adPath=\'/\'+networkId+\'/\'+rocketeerSlot.rktr_ad_id;var slotId=rocketeerSlot.rktr_slot_id;var isOutOfPageSlot=rocketeerSlot.rktr_slot_id.indexOf(\'_oop\')>=1;var action=isOutOfPageSlot?\'Defining OOP Slot\':\'Defining Standard Slot\';var setSafeFrameConfig;if(typeof rocketeerSlot.safeframe_config!==\'undefined\'){setSafeFrameConfig=rocketeerSlot.safeframe_config;}_googleApi.executeWhenAvailable(action,function(){if(isOutOfPageSlot){_pageSlots[slotId]=_googleApi.defineOutOfPageSlot(adPath,slotId);}else{_pageSlots[slotId]=_googleApi.defineSlot(adPath,rocketeerSlot.sizes,slotId);}if(setSafeFrameConfig){_googleApi.setSlotSafeFrameConfig(_pageSlots[slotId],setSafeFrameConfig);}});_googleApi.executeWhenAvailable(\'Defining slot targeting\',function(){var slotTargeting=_getCombinedSlotTargeting(rocketeerSlot);logger.log(\'Defining Slot Targeting: \',rocketeerSlot.rktr_slot_id,slotTargeting);for(var target in slotTargeting){if(slotTargeting.hasOwnProperty(target)){var targetValue;if(slotTargeting[target]&&slotTargeting[target][1]){targetValue=JSON.stringify(slotTargeting[target][1]);}else{targetValue=\'\';}if(targetValue){targetValue=JSON.parse(targetValue);var gptSlot=_pageSlots[slotId];if(slotTargeting[target][0]===\'exclusions\'){if(Array.isArray(slotTargeting[target][1])){for(var targetIndex in slotTargeting[target][1]){if(slotTargeting[target][1].hasOwnProperty(targetIndex)){targetValue=slotTargeting[target][1][targetIndex];_googleApi.setSlotCategoryExclusion(gptSlot,targetValue);}}}else{_googleApi.setSlotCategoryExclusion(gptSlot,targetValue);}}else{var key=slotTargeting[target][0];_googleApi.setSlotTargeting(gptSlot,key,targetValue);}}}}});logger.log(\'Checking Responsive Mapping For Slot\',rocketeerSlot.responsive,rocketeerSlot.responsive.length);rocketeerSlot.responsive=rocketeerSlot.responsive||[];if(rocketeerSlot.responsive.length>0){_buildSlotMapping(rocketeerSlot.rktr_slot_id,rocketeerSlot.responsive);}_applySiteSlotTargeting(rocketeerSlot);perf.mark(markBuildSlotEnd);perf.measure(markBuildSlot,markBuildSlotStart,markBuildSlotEnd);perf.queueEntry(markBuildSlotEnd);logger.groupEnd(\'Building Slot: \'+rocketeerSlot.rktr_slot_id);}function _buildSlots(rocketeerSlots,options){/*\n            options:\n            ignoreCheck: false\n\n            */function removeSlot(slot){var index=_rocketeerSlots.indexOf(slot);if(index>=0){_rocketeerSlots.splice(index,1);}}for(var slotIndex=0;slotIndex<rocketeerSlots.length;slotIndex++){var rocketeerSlot=rocketeerSlots[slotIndex];var ignoreRenderCheck=options&&options.ignoreCheck;var buildSlot=true;if(!ignoreRenderCheck){// renderCheck may return an updatedSlot or null\n// if it updates the slot, it will modify rocketeerSlot\nif(!_renderCheck(rocketeerSlot)){// remove slot, which is no longer valid\nremoveSlot(rocketeerSlot);buildSlot=false;}}if(buildSlot){_buildSlot(rocketeerSlot);_builtSlots.push(rocketeerSlot);_queuedSlots.push(rocketeerSlot);removeSlot(rocketeerSlot);}}return _builtSlots;}// clear slots- optional slotIds (object or array)\nfunction clearSlots(slotIds){var slotIdsClone=slotIds||[];if(!Array.isArray(slotIdsClone)){slotIdsClone=[slotIds];}logger.log(\'Clearing Slots\',{slotDivIds:slotIdsClone});_googleApi.executeWhenAvailable(\'clearing slots\',function(){// convert to slots\n// what if passed slotIds are invalid?\nvar slots=[];if(slotIdsClone.length>0){slots=slotIdsClone.filter(function(slotId){return!!_pageSlots[slotId];}).map(function(slotId){return _pageSlots[slotId];});if(slots.length===0){return;}}_googleApi.clearSlots(slots);});}// destroy slots- optional slotIds (object or array)\nfunction destroySlots(slotIds){var slotIdsClone=slotIds||[];if(!Array.isArray(slotIdsClone)){slotIdsClone=[slotIds];}logger.log(\'Destroying Slots\',{slotDivIds:slotIds});_googleApi.executeWhenAvailable(\'destroying slots\',function(){// convert to slots\n// what if passed slotIds are invalid?\nvar slots=[];if(slotIdsClone.length>0){slots=slotIdsClone.filter(function(slotId){return!!_pageSlots[slotId];}).map(function(slotId){return _pageSlots[slotId];});if(slots.length===0){return;}}_removeSlotRenderedClass(slotIdsClone);if(typeof window.jpUnloadUnits!==\'undefined\'){window.jpUnloadUnits();}_googleApi.destroySlots(slots);_removePageSlots(slotIdsClone);_removeRocketeerSlots(slotIdsClone);});}function _buildSlotMapping(slotId,responsiveMap){// transform responsiveMap- convert string values to integers, allow for "suppress"\nfor(var i=0;i<responsiveMap.length;i++){var val=JSON.parse(JSON.stringify(responsiveMap[i]));for(var x=0;x<val.length;x++){if(Array.isArray(val[x])){for(var y=0;y<val[x].length;y++){if(Array.isArray(val[x][y])){for(var z=0;z<val[x][y].length;z++){if(val[x][y][z]!==\'fluid\'){val[x][y][z]=parseInt(val[x][y][z],10);}}}else if(parseInt(val[x][y],10)>=0){val[x][y]=parseInt(val[x][y],10);}else if(val[x][y]!==\'fluid\'){val[x]=[];}}}else{val[x]=[];}}responsiveMap[i]=val;}_googleApi.executeWhenAvailable(\'setting slot mappings\',function(){_googleApi.defineSlotSizeMapping(_pageSlots[slotId],responsiveMap);});}function _updateSlot(slot,ignoreCount){var origSlotId=slot.rktr_slot_id;var newSlotId=origSlotId;var idArray=origSlotId.split(\'_\');var incrementer=idArray[idArray.length-1];var pageDivs=document.querySelectorAll(\'div#\'+origSlotId);if(pageDivs.length>1||pageDivs.length===1&&ignoreCount){logger.log(\'updating slot div id.\',{slot:slot});while(_pageSlots[newSlotId]){// slot exists, so increment\nif(idArray.length===3){incrementer=window.AdFuelUtils.generateCacheBuster();}else{incrementer=parseInt(incrementer,10)+1;if(incrementer<10){incrementer=\'0\'+String(incrementer);}else{incrementer=String(incrementer);}}idArray[idArray.length-1]=incrementer;newSlotId=idArray.join(\'_\');}_updateSlotId(slot,newSlotId,origSlotId);_updateDivId(origSlotId,newSlotId);}return slot;}function _updateSlotId(slot,newSlotId,origSlotId){slot.rktr_slot_id=newSlotId;try{var SlotIDChangeEvent=new CustomEvent(\'SlotIdChange\',{detail:{asset:slot,originalId:origSlotId,newId:newSlotId}});document.dispatchEvent(SlotIDChangeEvent);}catch(ex){logger.error(\'error dispatching custom Event: SlotIdChange\',{error:ex});}}function _updateDivId(origSlotId,newSlotId){var pageDivs=document.querySelectorAll(\'div#\'+origSlotId);if(pageDivs.length>0){for(var slotIndex=0;slotIndex<pageDivs.length;slotIndex++){var el=pageDivs[slotIndex];if(el.className.indexOf(\'adfuel-rendered\')<0&&pageDivs.length>1||pageDivs.length===1){el.id=newSlotId;}}}}function _isQueueDispatchable(){return _initialized&&_preQueueExecuting===false;}// executed from init and ready, queue is only dispatchable once\nfunction _dispatchAllQueues(){if(_isQueueDispatchable()){if(_delayedDispatchQueues.length>0||_userDispatchedQueues.length>0){logger.log(\'Processing delayed dispatch queues\');// process all delayed dispatch queue functions\nvar i;for(i=0;i<_delayedDispatchQueues.length;i++){_delayedDispatchQueues[i]();}for(i=0;i<_userDispatchedQueues.length;i++){_userDispatchedQueues[i]();}_delayedDispatchQueues.length=0;_userDispatchedQueues.length=0;window.AdFuel.dispatchQueue();}else if(_options.autoDispatch){logger.log(\'Processing all queues\');// dispatch whatever has been queued\nwindow.AdFuel.dispatchQueue();}}else{_delayingDispatch=true;}}function dispatchQueue(dispatchOptions){/*\n            dispatchOptions:\n            preDispatchCallback\n            postDispatchCallback\n            ignoreCheck: false\n            sync: false\n            syncSlots: []\n            slots: []\n            exclude: []\n            maintainCorrelator: true\n            */if(!_isQueueDispatchable()){perf.mark(\'Delaying Queue Dispatch\');logger.log(\'Delaying Queue Dispatch\');_delayingDispatch=true;_delayedDispatchQueues.push(function(){dispatchQueue(dispatchOptions);});return;}perf.mark(\'Dispatch Queue Start\');var dispatchOpts=dispatchOptions||{sync:false,maintainCorrelator:true};if(dispatchOpts.slots&&dispatchOpts.slots.length>0){for(var slotIndex=0;slotIndex<dispatchOpts.slots.length;slotIndex++){if(_excludedSlotIds.indexOf(dispatchOpts.slots[slotIndex])>=0){_excludedSlotIds.splice(_excludedSlotIds.indexOf(dispatchOpts.slots[slotIndex]),1);}}}if(_rocketeerSlots.length>0){// display all slots or just the ones in requestOptions.slots\n// exclude any in requestOptions.exclude\n// if requestOptions.slots are not provided, ensure rocketeer slot is not in _excludeSlotIds (set via QueueRegistery/options.exclude)\n// remove excluded slot ids if explicitly requested\nif(dispatchOpts.slots&&dispatchOpts.slots.length>0&&_excludedSlotIds.length>0){for(var i=0;i<dispatchOpts.slots.length;i++){var indexToRemove=_excludedSlotIds.indexOf(dispatchOpts.slots[i]);if(indexToRemove>=0){_excludedSlotIds.splice(indexToRemove,1);}}}logger.log(\'Built Slots: \',_builtSlots);if(_builtSlots.length>0){// wait on all registered modules- passing clone of slotQueue\nvar builtSlotsClone=window.AdFuelUtils.clone(_builtSlots);builtSlotsClone=builtSlotsClone.filter(function(slot){var filter=typeof slot.dispatched===\'undefined\'||slot.dispatched===false;return filter;});var builtSlotIds=[];for(var slotId=0;slotId<builtSlotsClone.length;slotId++){var slot=builtSlotsClone[slotId];slot.dispatched=true;_builtSlots[slotId]=slot;builtSlotIds.push(slot.rktr_slot_id);}if(builtSlotIds.length>0){executeModuleCallbacks(\'preDispatchCallback\',builtSlotsClone,builtSlotsClone,dispatchOptions).then(function(){try{var PreDispatchCompleteEvent=new CustomEvent(\'PreDispatchComplete\',{detail:{slots:_rocketeerSlots.length}});document.dispatchEvent(PreDispatchCompleteEvent);}catch(ex){logger.error(\'error dispatching custom Event: PreDispatchComplete\',{error:ex});}_buildPageLevelGPTObject();logger.log(\'preDispatchCallback events completed.  Sending request.\');_sendRequest(builtSlotsClone,dispatchOptions).then(function(displayedSlots){perf.mark(\'Dispatch Queue End\');perf.measure(\'Dispatch Queue\',\'Dispatch Queue Start\',\'Dispatch Queue End\');logger.log(\'Displayed Slots: \',displayedSlots);for(var index=0;index<_queuedSlots.length;index++){var slot=_queuedSlots[index];if(builtSlotIds.indexOf(slot.rktr_slot_id)>=0){_queuedSlots.splice(index,1);index--;}}});});}else{logger.log(\'No undispatched slots.\');}}}}var loadJSON=function _loadJSON(url,callback){perf.mark(\'Registry Load [\'+url+\'] Start\');var parser=document.createElement(\'a\');parser.href=url;var pathname=parser.pathname.replace(/(\\.min)?(\\.js)$/,\'.json\');var jsonURL=parser.protocol+\'//\'+cdnRoot+(pathname.indexOf(\'/\')===0?pathname:\'/\'+pathname);var req=new XMLHttpRequest();req.onload=function(){var data=this.response;try{data=JSON.parse(data);logger.log(\'JSON Parse Complete: \',data);perf.mark(\'Registry Load [\'+url+\'] End\');perf.measure(\'Registry Load [\'+url+\']\',\'Registry Load [\'+url+\'] Start\',\'Registry Load [\'+url+\'] End\');callback({response:data.registry,error:false});}catch(err){logger.log(\'JSON Parse Failed: \',err);data={response:this.response,error:true};callback(data);}};try{logger.log(\'Requesting JSON: \',jsonURL);req.open(\'GET\',jsonURL,true);req.send();}catch(err){logger.log(\'JSON Request Failed: \',err);var data={response:this.response,error:true};callback(data);}};function queueRegistry(url,queueOptions){/*\n\n            queueOptions:\n            preDispatchCallback\n            postDispatchCallback\n            sync: false\n            syncSlots: []\n            slots: []\n            exclude: []\n            maintainCorrelator: true\n            dispatch: false  (options.autodispatch is ignored)\n            slotMap: {}\n\n    */getFilterValue().then(function(shouldFilter){if(shouldFilter){logger.warn(\'Registry Blocked Due To GDPR Restrictions.\');}else{var addScriptTag=function addScriptTag(urlParam){var scriptA=document;var scriptB=scriptA.createElement(\'script\');var scriptC=scriptA.getElementsByTagName(\'script\')[0];var scriptD=/^(complete|loaded)$/;var scriptE=false;scriptB.type=\'text/javascript\';scriptB.src=urlParam;scriptB.onload=scriptB.onreadystatechange=function(){if(!scriptE&&!(\'readyState\'in scriptB&&scriptD.test(scriptB.readyState))){scriptB.onload=scriptB.onreadystatechange=null;scriptE=true;scriptComplete();}};scriptC.parentNode.insertBefore(scriptB,scriptC);};var scriptComplete=function scriptComplete(){perf.mark(\'Registry Load [\'+url+\'] End\');perf.measure(\'Registry Load [\'+url+\']\',\'Registry Load [\'+url+\'] Start\',\'Registry Load [\'+url+\'] End\');if(queueOpts.dispatch){window.AdFuel.dispatchQueue(queueOpts);}};var filterSlots=function filterSlots(registry,slots){var returnData=[];returnData.push(registry[0]);if(slots&&slots.length>0){for(var x=1;x<registry.length;x++){if(slots.indexOf(registry[x].rktr_slot_id)>=0){returnData.push(registry[x]);}}}else{returnData=registry;}return returnData;};var requestComplete=function requestComplete(data){if(data.error===true){logger.log(\'Using Script Tag Method...\');addScriptTag(url);}else{var filteredResponse=filterSlots(data.response,queueOpts.slots);logger.log(\'Response: \',data.response);_cachedRegistries[normalizedUrl]=data.response;window.AdFuel.registry.push(filteredResponse,queueOpts);}};logger.log(\'Queueing Registry: \',url,queueOptions,_options);if(!url){logger.error(\'Empty Registry url\');return;}var queueOpts=queueOptions||{// set based on autoDispatch\ndispatch:_options.autoDispatch};if(queueOpts.exclude&&queueOpts.exclude.length>0){// add non-duplicating exclude slotIds\nfor(var i=0;i<queueOpts.exclude.length;i++){var slotId=queueOpts.exclude[i];if(_excludedSlotIds.indexOf(slotId)<0){logger.log(\'Excluding Slot: \',slotId);_excludedSlotIds.push(slotId);}}}var normalizedUrl=normalizeUrl(url);if(_cachedRegistries[normalizedUrl]){logger.log(\'Queueing Cached Registry: \',_cachedRegistries[normalizedUrl],queueOpts);var filteredResponse=filterSlots(_cachedRegistries[normalizedUrl],queueOpts.slots);window.AdFuel.registry.push(filteredResponse,queueOpts);}else{logger.log(\'Requesting Registry: \',normalizedUrl,queueOpts);loadJSON(url,requestComplete);}}});}function _startInterval(length,steps,oninterval){var stepsClone=steps||10;var speed=length/stepsClone;var count=0;var start=Date.now();function instance(){if(count++===stepsClone){// return true to continue repeating\nvar continueInterval=oninterval();if(continueInterval){_startInterval(length,stepsClone,oninterval);}}else{// wait longer, basing delay upon remaining time\nvar diff=Date.now()-start-count*speed;window.setTimeout(instance,speed-diff);}}window.setTimeout(instance,speed);}function refresh(slotIds,refreshOptions){/** *\n              slotIds: optional array to refresh (empty/null=refresh all)\n\n            refreshOptions:\n            pageload: BOOLEAN (default is true)\n            interval: INT\n            preRefreshCallback: function (optional)\n            postRefreshCallback: function (optional)\n            maintainCorrelator: BOOLEAN (default is true)\n    ***/perf.mark(\'Refresh Called\');var refreshOpts=refreshOptions||{};var slotIdsClone=slotIds||[];if(slotIds&&!Array.isArray(slotIds)&&!refreshOptions){// assume user passed refreshOptions as first argument\nrefreshOpts=slotIds;slotIdsClone=[];}var monetization;var monetizedAssets=[];var rocketeerSlotsToRefresh=_rocketeerSlots.filter(function(slot){if(slotIdsClone.length===0){monetization=window.AdFuelUtils.isMonetized(slot);if(slot.rktr_slot_id!==\'page\'&&monetization.isMonetized){slot.monetization=monetization;monetizedAssets.push(slot);}return true;}if(slotIds.length>0&&slotIds.indexOf(slot.rktr_slot_id)>=0){monetization=window.AdFuelUtils.isMonetized(slot);if(slot.rktr_slot_id!==\'page\'&&monetization.isMonetized){slot.monetization=monetization;monetizedAssets.push(slot);}return true;}});logger.log(\'Monetized Assets: \',monetizedAssets);logger.log(\'\');// default pageload to true\nrefreshOpts.interval=refreshOpts.interval||0;refreshOpts.pageload=typeof refreshOpts.pageload===\'undefined\'?true:refreshOpts.pageload;refreshOpts.maintainCorrelator=typeof refreshOpts.maintainCorrelator===\'undefined\'?true:refreshOpts.maintainCorrelator;var refreshSlots=function refreshSlots(monetizedAssets,rocketeerSlotsToRefresh){if(_focused||!_options.refreshOnFocusOnly){var slotsToRefresh=[];var slotIdsToRefresh=[];var slotIdsToCheck=[];if(slotIdsClone.length===0){// refresh all- build list allowing for repeated iterations via interval option\nfor(var slotId in _pageSlots){if(_pageSlots.hasOwnProperty(slotId)){slotIdsToCheck.push(slotId);}}}else{slotIdsToCheck=slotIdsClone;}for(var i=0;i<slotIdsToCheck.length;i++){var slotIdVal=slotIdsToCheck[i];if(document.getElementById(slotIdVal)){var slot=_pageSlots[slotIdVal];if(slot){slotsToRefresh.push(slot);slotIdsToRefresh.push(slotIdVal);}}else{logger.log(\'Cannot find element on page to refresh: \'+slotIdVal);}}if(slotIdsClone.length>0&&slotIdsToRefresh.length===0){// caller sent all invalid slotIds to refresh, so do nothing\nreturn;}logger.log(\'Callback Parameters: \',{name:\'preRefreshCallback\',monetization:monetizedAssets,slots:rocketeerSlotsToRefresh,options:refreshOpts});executeModuleCallbacks(\'preRefreshCallback\',monetizedAssets,rocketeerSlotsToRefresh,refreshOpts).then(function(){try{var PreRefreshCompleteEvent=new CustomEvent(\'PreRefreshComplete\',{detail:{slots:slotIdsToRefresh}});document.dispatchEvent(PreRefreshCompleteEvent);}catch(ex){logger.error(\'error dispatching custom Event: PreRefreshComplete\',{error:ex});}clearSlots(slotIdsToRefresh);if(refreshOpts.pageload){_googleApi.setTargeting(\'pageload\',\'ref\');}else{_googleApi.clearTargeting(\'pageload\');}_googleApi.refreshSlots(slotsToRefresh,refreshOpts);});}};function startInterval(interval){logger.log(\'starting refresh interval: \'+interval,refreshOptions);var intervalInMilliseconds=interval*1000;_startInterval(intervalInMilliseconds,5,function(){// if the interval has been removed, stop repeating\nif(!refreshOptions.interval||parseInt(refreshOptions.interval,10)===0){logger.log(\'stopping refresh interval: \'+interval,refreshOptions);return false;}// if the interval has changed, start new interval and stop repeating\nvar currentInterval=parseInt(refreshOptions.interval,10);if(interval!==currentInterval){logger.log(\'changing refresh interval: \'+interval,refreshOptions);startInterval(currentInterval);return false;}// interval has been reached, so refresh spots\nrefreshSlots(monetizedAssets,rocketeerSlotsToRefresh);// repeat interval\nreturn true;});}if(refreshOpts.interval&&parseInt(refreshOpts.interval,10)>0){var interval=parseInt(refreshOptions.interval,10);startInterval(interval);}else{refreshSlots(monetizedAssets,rocketeerSlotsToRefresh);}}// combined google APIs\nvar _googleApi=function createGoogleAPI(){// default window.googletag.cmd\nwindow.googletag=window.googletag||{};window.googletag.cmd=window.googletag.cmd||[];var _pubAdsConfiged=false;var _isGPTAvailable=false;function isAvailable(action,obj){if(!_isGPTAvailable){_isGPTAvailable=window.googletag.apiReady&&typeof window.googletag.pubads===\'function\';if(!_isGPTAvailable&&action){logger.error(\'GPT is unavailable - \'+action,obj);}}return _isGPTAvailable;}function executeWhenAvailable(action,fn){window.googletag.cmd.push(fn);}function configurePubAds(){return new Promise(function(resolve){if(!_pubAdsConfiged){// only execute once\n_pubAdsConfiged=true;window.googletag.cmd.push(function pushGPTServices(){window.googletag.pubads().addEventListener(\'impressionViewable\',function _impressionViewableFunc(event){perf.mark(\'Slot Viewable [\'+(event.slot?event.slot.getSlotElementId():\'NO ID\')+\']\');var slotViewableEvent=new CustomEvent(\'SlotViewable\',{detail:event});document.dispatchEvent(slotViewableEvent);});window.googletag.pubads().addEventListener(\'slotVisibilityChanged\',function(event){var slotVisibilityChanged=new CustomEvent(\'SlotVisibilityChanged\',{detail:event.detail});document.dispatchEvent(slotVisibilityChanged);});window.googletag.pubads().addEventListener(\'slotRenderEnded\',function(event){var markAdRendered=\'Ad Rendered [\'+(event.slot?event.slot.getSlotElementId():\'NO ID\')+\']\';perf.mark(markAdRendered);perf.queueEntry(markAdRendered);try{var detail={};detail.asset=event.slot||null;detail.pos=event.slot?event.slot.getTargeting(\'pos\'):[\'\'];detail.empty=event.isEmpty?true:false;detail.renderedSize=event.size?event.size:\'0x0\';detail.creativeId=event.creativeId?event.creativeId:\'0\';detail.lineItemId=event.lineItemId?event.lineItemId:\'0\';detail.serviceName=event.serviceName?event.serviceName:\'\';detail.divId=event.slot?event.slot.getSlotElementId():\'NO ID\';var creativeIds=window.googletag&&typeof window.googletag.pubads===\'function\'?window.googletag.pubads().getTargeting(\'creativeId\'):[];var lineItemIds=window.googletag&&typeof window.googletag.pubads===\'function\'?window.googletag.pubads().getTargeting(\'lineItemId\'):[];if(event.creativeId&&creativeIds.indexOf(event.creativeId)<0){creativeIds.push(event.creativeId);}if(event.lineItemId&&lineItemIds.indexOf(event.lineItemId)<0){lineItemIds.push(event.lineItemId);}window.googletag.cmd.push(function(){logger.log("Setting Creative Ids and LineItem Ids: ",creativeIds,lineItemIds);window.googletag.pubads().setTargeting(\'creativeId\',creativeIds);window.googletag.pubads().setTargeting(\'lineItemId\',lineItemIds);});var renderCompleteEvent=new CustomEvent(\'GPTRenderComplete\',{detail:detail});document.dispatchEvent(renderCompleteEvent);}catch(ex){logger.error(\'error dispatching custom Event: GPTRenderComplete\',{error:ex});}});window.googletag.pubads().addEventListener(\'slotOnload\',function(event){var markSlotLoaded=\'Slot Loaded [\'+(event.slot?event.slot.getSlotElementId():\'NO ID\')+\']\';var gptSlotLoaded=new CustomEvent(\'GPTSlotLoaded\',{detail:event});document.dispatchEvent(gptSlotLoaded);perf.mark(markSlotLoaded);perf.queueEntry(markSlotLoaded);});logger.log("Enabling \'Collapse Empty Divs\'");window.googletag.pubads().collapseEmptyDivs(true);logger.log("Enabling \'Async Rendering\'");window.googletag.pubads().enableAsyncRendering();logger.log("Enabling \'Single Request\'");window.googletag.pubads().enableSingleRequest();if(!window.AdFuelUtils.getURLParam(\'enableInitialLoad\')){logger.log("Disabling \'Initial Load\'");window.googletag.pubads().disableInitialLoad();}logger.log("Enabling \'Services\'");window.googletag.enableServices();resolve();});}else{resolve();}});}function clearTargeting(key){var success=false;if(isAvailable(\'clearing target\',{key:key?key:\'all\'})){if(key){window.googletag.cmd.push(function(){window.googletag.pubads().clearTargeting(key);});}else{window.googletag.cmd.push(function(){window.googletag.pubads().clearTargeting();});}success=true;}return success;}function setTargeting(key,value){var success=false;if(isAvailable(\'setting target\',{key:key,value:value})){// this was in refresh() to setTargeting\nAdFuel.requestScriptText+="googletag.pubads().setTargeting(\'"+key+"\', \'"+value+"\');\\n";window.googletag.cmd.push(function(){window.googletag.pubads().setTargeting(key,value);});success=true;}return success;}function setLocation(latitude,longitude){var success=false;if(isAvailable(\'setting location\',{latitude:latitude,logitude:longitude})){window.googletag.cmd.push(function(){window.googletag.pubads().setLocation(latitude,longitude);});success=true;}return success;}function setChildDirectedTreatmentTag(value){var success=false;if(isAvailable(\'setting child directed treatment tag: \'+value)){window.googletag.cmd.push(function(){window.googletag.pubads().clearTagForChildDirectedTreatment();window.googletag.pubads().setTagForChildDirectedTreatment(value);});success=true;}return success;}function setSafeFrameConfig(value){var success=false;value.sandbox=value.sandbox===true||value.sandbox===\'true\';value.allowOverlayExpansion=value.allowOverlayExpansion===true||value.allowOverlayExpansion===\'true\';value.allowPushExpansion=value.allowPushExpansion===true||value.allowPushExpansion===\'true\';if(value.sandbox!==true){logger.log(\'Removing invalid sandbox value\');delete value.sandbox;}if(isAvailable(\'setting SafeFrame config tag: \'+value)){window.googletag.cmd.push(function(){window.googletag.pubads().setSafeFrameConfig(value);});success=true;}return success;}function setCategoryExclusion(value){var success=false;if(isAvailable(\'setting category exclusion: \'+value)){AdFuel.requestScriptText+="googletag.pubads().setCategoryExclusion(\'"+value+"\');\\n";window.googletag.cmd.push(function(){window.googletag.pubads().setCategoryExclusion(value);});success=true;}return success;}function updateDFPCorrelator(){return true;}function defineOutOfPageSlot(adPath,slotId){var result=false;if(isAvailable(\'defining out of page slot\',{adPath:adPath,slotId:slotId})){logger.log(\'Building OOP Slot Object\',{adPath:adPath,slotId:slotId});AdFuel.requestScriptText+="\\n_pageSlots[\'"+slotId+"\'] = googletag.defineOutOfPageSlot(\'"+adPath+"\', \'"+slotId+"\').addService(googletag.pubads());\\n";result=window.googletag.defineOutOfPageSlot(adPath,slotId);if(result)result.addService(window.googletag.pubads());else logger.warn(\'Could not define OOP Slot: \',adPath,slotId);}return result;}function defineSlot(adPath,sizes,slotId){var result=false;if(isAvailable(\'defining standard slot\',{adPath:adPath,sizes:sizes,slotId:slotId})){logger.log(\'Building Standard Slot Object\',{adPath:adPath,sizes:sizes,slotId:slotId});AdFuel.requestScriptText+="\\n_pageSlots[\'"+slotId+"\'] = googletag.defineSlot(\'"+adPath+"\', "+JSON.stringify(sizes)+", \'"+slotId+"\').addService(googletag.pubads());\\n";result=window.googletag.defineSlot(adPath,sizes,slotId);if(result)result.addService(window.googletag.pubads());else logger.warn(\'Could not define Slot: \',adPath,sizes,slotId);}return result;}function setSlotCategoryExclusion(slot,value){if(slot){var slotId=slot.getSlotElementId();logger.log(\'Setting Slot Category Exclusion\',{slotId:slotId,value:value});AdFuel.requestScriptText+="_pageSlots[\'"+slotId+"\'].setCategoryExclusion(\'"+value+"\');\\n";slot.setCategoryExclusion(value);}}function setSlotTargeting(slot,key,value){if(slot){var slotId=slot.getSlotElementId();logger.log(\'Setting Slot Targeting\',{slotId:slotId,key:key,value:value});AdFuel.requestScriptText+="_pageSlots[\'"+slotId+"\'].setTargeting(\'"+key+"\', \'"+value+"\');\\n";slot.setTargeting(key,value);}}function setSlotSafeFrameConfig(slot,value){if(slot){var slotId=slot.getSlotElementId();logger.log(\'Setting Slot SafeFrame config\',{slotId:slotId,value:value});AdFuel.requestScriptText+="_pageSlots[\'"+slotId+"\'].setSafeFrameConfig("+value+\');\\n\';slot.setSafeFrameConfig(value);}}function defineSlotSizeMapping(slot,responsiveMap){if(slot){var slotId=slot.getSlotElementId();logger.log(\'Setting Slot size mapping\',{slotId:slotId,responsiveMap:responsiveMap});AdFuel.requestScriptText+="_pageSlots[\'"+slotId+"\'].defineSizeMapping(\'"+JSON.stringify(responsiveMap)+"\');\\n";slot.defineSizeMapping(responsiveMap);}}function displaySlotById(slotId){AdFuel.requestScriptText+=\'googletag.display("\'+slotId+\'");\\n\';window.googletag.cmd.push(function(){window.googletag.display(slotId);});}function clearSlotTargeting(slot){if(slot){var slotId=slot.getSlotElementId();logger.log(\'Clearing targeting for Slot: \'+slotId);AdFuel.requestScriptText+="_pageSlots[\'"+slotId+"\'].clearTargeting();\\n";slot.clearTargeting();}}function clearGPTSlots(slots){var slotIds=slots.length===0?\'all\':slots.map(function(slot){return slot?slot.getSlotElementId():\'NO ID\';}).join(\',\');AdFuel.requestScriptText+=\'googletag.pubads().clear(\'+slotIds+\');\\n\';if(slots.length>0){window.googletag.cmd.push(function(){window.googletag.pubads().clear(slots);});}else{window.googletag.cmd.push(function(){window.googletag.pubads().clear();});}}function destroyGPTSlots(slots){var slotIds=slots.length===0?\'all\':slots.map(function(slot){return slot?slot.getSlotElementId():\'NO ID\';}).join(\',\');AdFuel.requestScriptText+=\'googletag.pubads().destroySlots(\'+slotIds+\');\\n\';if(slots.length>0){window.googletag.cmd.push(function(){window.googletag.destroySlots(slots);});}else{window.googletag.cmd.push(function(){window.googletag.destroySlots();});}}function refreshSlots(slots,options){var opts=options||{maintainCorrelator:true};var slotIds=slots.length===0?\'all\':slots.map(function(slot){return slot?slot.getSlotElementId():\'NO ID\';}).join(\',\');AdFuel.requestScriptText+=\'googletag.pubads().refresh(\'+slotIds+\');\\n\';if(slots.length>0){window.googletag.cmd.push(function(){window.googletag.pubads().refresh(slots,{changeCorrelator:!opts.maintainCorrelator});});}else{window.googletag.cmd.push(function(){window.googletag.pubads().refresh(null,{changeCorrelator:!opts.maintainCorrelator});});}}return{executeWhenAvailable:executeWhenAvailable,isAvailable:isAvailable,configurePubAds:configurePubAds,clearTargeting:clearTargeting,setTargeting:setTargeting,setLocation:setLocation,setChildDirectedTreatmentTag:setChildDirectedTreatmentTag,setSafeFrameConfig:setSafeFrameConfig,setSlotSafeFrameConfig:setSlotSafeFrameConfig,setCategoryExclusion:setCategoryExclusion,updateCorrelator:updateDFPCorrelator,defineOutOfPageSlot:defineOutOfPageSlot,defineSlot:defineSlot,setSlotCategoryExclusion:setSlotCategoryExclusion,setSlotTargeting:setSlotTargeting,displaySlotById:displaySlotById,defineSlotSizeMapping:defineSlotSizeMapping,refreshSlots:refreshSlots,clearSlots:clearGPTSlots,clearSlotTargeting:clearSlotTargeting,destroySlots:destroyGPTSlots};}();function _sendRequest(rocketeerSlots,requestOptions){/*\n            rOptions: {\n            sync: false,\n            syncSlots: [],\n            maintainCorrelator: true\n            };\n            */return new Promise(function(resolve){perf.mark(\'Sending Request Start\');_googleApi.configurePubAds().then(function(){logger.log(\'pubads configured...\');var requestOpts=requestOptions||{sync:false,syncSlots:[],maintainCorrelator:true};var displayedSlots=[];var displaySlot=function displaySlot(slotId){_googleApi.executeWhenAvailable(\'displaying slot\',function(){logger.log(\'Displaying Slot: \'+slotId);_googleApi.displaySlotById(slotId);});};logger.log(\'Dispatching Slots: \',rocketeerSlots);for(var i=0;i<rocketeerSlots.length;i++){var slotId=rocketeerSlots[i].rktr_slot_id;if(!document.getElementById(slotId)){logger.log("Can\'t Find Slot On Page",slotId);}else{// solve closure issue with slotId\nif(_excludedSlotIds.indexOf(slotId)<0&&!rocketeerSlots[i].displayed&&_dispatchedSlots.indexOf(rocketeerSlots[i])<0){displaySlot(slotId);rocketeerSlots[i].displayed=true;displayedSlots.push(rocketeerSlots[i]);_dispatchedSlots.push(rocketeerSlots[i]);}else{logger.log(\'Slot is excluded or already displayed. Not displaying: \',slotId);}}}if(!window.AdFuelUtils.getURLParam(\'enableInitialLoad\')){var displayedSlotIds=displayedSlots.map(function(displayedSlot){return displayedSlot.rktr_slot_id;});_googleApi.executeWhenAvailable(\'refreshing slots\',function(){// all displayed slots must be refreshed to have their ad populated\n// when syncing also include requestOptions.syncSlots\nvar slotsToRefresh=[];for(var slotDivId in _pageSlots){if(_pageSlots.hasOwnProperty(slotDivId)){// keep all slots or the ones matching requestOpts.syncSlots or the ones matching displayedSlotIds\nlogger.log(\'Checking Slot for Sync: \'+slotDivId);if(requestOpts.sync&&(!requestOpts.syncSlots||requestOpts.syncSlots.length===0||requestOpts.syncSlots.indexOf(slotDivId)>=0)||displayedSlotIds.indexOf(slotDivId)>=0){logger.log(\'Syncing Slot With Request: \'+slotDivId);slotsToRefresh.push(_pageSlots[slotDivId]);}}}logger.log(\'Slots To Refresh: \',slotsToRefresh.map(function(slot){return slot?slot.getSlotElementId():\'NO ID\';}));_googleApi.refreshSlots(slotsToRefresh);perf.mark(\'Sending Request End\');perf.measure(\'Sending Request\',\'Sending Request Start\',\'Sending Request End\');});requestOpts.maintainCorrelator=requestOpts.maintainCorrelator||true;logger.log({maintainCorrelator:requestOpts.maintainCorrelator});}try{var requestCompleteEvent=new CustomEvent(\'AdFuelRequestComplete\',{detail:{slots:JSON.parse(JSON.stringify(displayedSlots)),options:requestOptions}});var markAdfuelComplete=\'AdFuel Request Complete\';perf.mark(markAdfuelComplete);perf.queueEntry(markAdfuelComplete);document.dispatchEvent(requestCompleteEvent);}catch(ex){logger.error(\'error dispatching custom Event: AdFuelRequestComplete\',{error:ex});}resolve(displayedSlots);});});}function setBulkTargeting(targeting){if(targeting){for(var key in targeting){if(targeting.hasOwnProperty(key)){if(key===\'slotTargets\'){for(var key2 in targeting[key]){if(targeting[key].hasOwnProperty(key2)){var targetGroup=targeting[key][key2];for(var key3 in targetGroup){if(targetGroup.hasOwnProperty(key3)){AdFuel.addSlotLevelTarget(key2,key3,targeting[key][key2][key3]);}}}}}else if(key===\'adTargets\'){for(var key4 in targeting[key]){if(targeting[key].hasOwnProperty(key4)){AdFuel.addPageLevelTarget(key4,targeting[key][key4]);}}}else{// For backwards compatibility\nAdFuel.addPageLevelTarget(key,targeting[key]);}}}}}function _removeLeadingNumericNetworkId(adunit){// remove leading numeric networkId (ex:  8663477/CNN/Homepage)\nvar adUnitClone=adunit;if(adUnitClone&&adUnitClone.indexOf(\'/\')>=0){var nId=adUnitClone.split(\'/\')[0];if(parseInt(nId,10)>0){var adUnitArray=adUnitClone.split(\'/\');adUnitArray.splice(0,1);adUnitClone=adUnitArray.join(\'/\');}}return adUnitClone;}function _addDebugListeners(){window.AdFuelUtils.addEvent(document,\'AdFuelRequestComplete\',function(e){logger.log("AdFuel Request Complete",{requestEvent:e,timestamp:new Date().toLocaleTimeString()});});window.AdFuelUtils.addEvent(document,\'GPTRenderComplete\',function(e){logger.log("GPT Render Complete",{renderEvent:e,timestamp:new Date().toLocaleTimeString(),slot:e.detail.asset?e.detail.asset.getSlotElementId():\'NO ID\'});});window.AdFuelUtils.addEvent(document,\'SlotIdChange\',function(e){logger.log("Slot ID Change",{idChangeEvent:e,timestamp:new Date().toLocaleTimeString()});});window.AdFuelUtils.addEvent(document,\'SlotVisibilityChanged\',function(e){logger.log("Slot Visibility Changed",{visibilityChangedEvent:e,timestamp:new Date().toLocaleTimeString()});});window.AdFuelUtils.addEvent(document,\'SlotViewable\',function(e){logger.log("Slot Viewable",{viewableEvent:e,timestamp:new Date().toLocaleTimeString(),slot:e.detail.slot?e.detail.slot.getSlotElementId():\'NO ID\'});});window.AdFuelUtils.addEvent(document,\'GPTSlotLoaded\',function(e){logger.log("Slot Loaded",{slotOnLoadEvent:e,timestamp:new Date().toLocaleTimeString(),slot:e.detail.slot?e.detail.slot.getSlotElementId():\'NO ID\'});});window.AdFuelUtils.addEvent(document,\'PreQueueComplete\',function(e){logger.log("PreQueueComplete",{preQueueCompleteEvent:e,timestamp:new Date().toLocaleTimeString()});});window.AdFuelUtils.addEvent(document,\'PostQueueComplete\',function(e){logger.log("PostQueueComplete",{postQueueCompleteEvent:e,timestamp:new Date().toLocaleTimeString()});});window.AdFuelUtils.addEvent(document,\'PreDispatchComplete\',function(e){logger.log("PreDispatchComplete",{preDispatchCompleteEvent:e,timestamp:new Date().toLocaleTimeString()});});window.AdFuelUtils.addEvent(document,\'PostDispatchComplete\',function(e){logger.log("PostDispatchComplete",{postDispatchCompleteEvent:e,timestamp:new Date().toLocaleTimeString()});});window.AdFuelUtils.addEvent(document,\'PreRefreshComplete\',function(e){logger.log("PreRefreshComplete",{preRefreshCompleteEvent:e,timestamp:new Date().toLocaleTimeString()});});window.AdFuelUtils.addEvent(document,\'PostRefreshComplete\',function(e){logger.log("PostRefreshComplete",{postRefreshCompleteEvent:e,timestamp:new Date().toLocaleTimeString()});});}function getFilterValue(){return new Promise(function(resolve){if(_blocked!==null){resolve(_blocked);}else{window.AdFuelOptions.GDPR.APPLIES.then(function(applies){if(applies){var consent=window.AdFuelUtils.getConsent();if(consent){_blocked=false;}else{_blocked=true;logger.warn("GDPR Consent Not Granted or Not Found");}}else{_blocked=false;}resolve(_blocked);});}});}function init(){// only occur once\nif(!_initialized){getFilterValue().then(function(shouldFilter){if(!shouldFilter){_initialized=true;perf.mark(\'AdFuel Initialized\');// Include GPT Library\n(function IncludeGPT(){\'use strict\';var gpta=document;var gptb=gpta.createElement(\'script\');var gptc=gpta.getElementsByTagName(\'script\')[0];var gptd=document.location.protocol===\'https:\';gptb.type=\'text/javascript\';gptb.src=(gptd?\'https:\':\'http:\')+\'//www.googletagservices.com/tag/js/gpt.js\';gptc.parentNode.insertBefore(gptb,gptc);perf.mark(\'GPT Included\');})();// Include Async Library\n/* eslint-disable */ /*!\n            * async\n            * https://github.com/caolan/async\n            *\n            * Copyright 2010-2014 Caolan McMahon\n            * Released under the MIT license\n            */(function IncludeAsyncLibrary(){var async={};function noop(){}function identity(v){return v;}function toBool(v){return!!v;}function notId(v){return!v;}// global on the server, window in the browser\nvar previous_async;// Establish the root object, `window` (`self`) in the browser, `global`\n// on the server, or `this` in some virtual machines. We use `self`\n// instead of `window` for `WebWorker` support.\nvar root=(typeof self==="undefined"?"undefined":_typeof(self))===\'object\'&&self.self===self&&self||(typeof global==="undefined"?"undefined":_typeof(global))===\'object\'&&global.global===global&&global||this;if(root!=null){previous_async=root.async;}async.noConflict=function(){root.async=previous_async;return async;};function only_once(fn){return function(){if(fn===null)throw new Error("Callback was already called.");fn.apply(this,arguments);fn=null;};}function _once(fn){return function(){if(fn===null)return;fn.apply(this,arguments);fn=null;};}//// cross-browser compatiblity functions ////\nvar _toString=Object.prototype.toString;var _isArray=Array.isArray||function(obj){return _toString.call(obj)===\'[object Array]\';};// Ported from underscore.js isObject\nvar _isObject=function _isObject(obj){var type=_typeof(obj);return type===\'function\'||type===\'object\'&&!!obj;};function _isArrayLike(arr){return _isArray(arr)||// has a positive integer length property\ntypeof arr.length==="number"&&arr.length>=0&&arr.length%1===0;}function _arrayEach(arr,iterator){var index=-1,length=arr.length;while(++index<length){iterator(arr[index],index,arr);}}function _map(arr,iterator){var index=-1,length=arr.length,result=Array(length);while(++index<length){result[index]=iterator(arr[index],index,arr);}return result;}function _range(count){return _map(Array(count),function(v,i){return i;});}function _reduce(arr,iterator,memo){_arrayEach(arr,function(x,i,a){memo=iterator(memo,x,i,a);});return memo;}function _forEachOf(object,iterator){_arrayEach(_keys(object),function(key){iterator(object[key],key);});}function _indexOf(arr,item){for(var i=0;i<arr.length;i++){if(arr[i]===item)return i;}return-1;}var _keys=Object.keys||function(obj){var keys=[];for(var k in obj){if(obj.hasOwnProperty(k)){keys.push(k);}}return keys;};function _keyIterator(coll){var i=-1;var len;var keys;if(_isArrayLike(coll)){len=coll.length;return function next(){i++;return i<len?i:null;};}else{keys=_keys(coll);len=keys.length;return function next(){i++;return i<len?keys[i]:null;};}}// Similar to ES6\'s rest param (http://ariya.ofilabs.com/2013/03/es6-and-rest-parameter.html)\n// This accumulates the arguments passed into an array, after a given index.\n// From underscore.js (https://github.com/jashkenas/underscore/pull/2140).\nfunction _restParam(func,startIndex){startIndex=startIndex==null?func.length-1:+startIndex;return function(){var length=Math.max(arguments.length-startIndex,0);var rest=Array(length);for(var index=0;index<length;index++){rest[index]=arguments[index+startIndex];}switch(startIndex){case 0:return func.call(this,rest);case 1:return func.call(this,arguments[0],rest);}// Currently unused but handle cases outside of the switch statement:\n// var args = Array(startIndex + 1);\n// for (index = 0; index < startIndex; index++) {\n//     args[index] = arguments[index];\n// }\n// args[startIndex] = rest;\n// return func.apply(this, args);\n};}function _withoutIndex(iterator){return function(value,index,callback){return iterator(value,callback);};}//// exported async module functions ////\n//// nextTick implementation with browser-compatible fallback ////\n// capture the global reference to guard against fakeTimer mocks\nvar _setImmediate=typeof setImmediate===\'function\'&&setImmediate;var _delay=_setImmediate?function(fn){// not a direct alias for IE10 compatibility\n_setImmediate(fn);}:function(fn){setTimeout(fn,0);};if((typeof process==="undefined"?"undefined":_typeof(process))===\'object\'&&typeof process.nextTick===\'function\'){async.nextTick=process.nextTick;}else{async.nextTick=_delay;}async.setImmediate=_setImmediate?_delay:async.nextTick;async.forEach=async.each=function(arr,iterator,callback){return async.eachOf(arr,_withoutIndex(iterator),callback);};async.forEachSeries=async.eachSeries=function(arr,iterator,callback){return async.eachOfSeries(arr,_withoutIndex(iterator),callback);};async.forEachLimit=async.eachLimit=function(arr,limit,iterator,callback){return _eachOfLimit(limit)(arr,_withoutIndex(iterator),callback);};async.forEachOf=async.eachOf=function(object,iterator,callback){callback=_once(callback||noop);object=object||[];var iter=_keyIterator(object);var key,completed=0;while((key=iter())!=null){completed+=1;iterator(object[key],key,only_once(done));}if(completed===0)callback(null);function done(err){completed--;if(err){callback(err);}// Check key is null in case iterator isn\'t exhausted\n// and done resolved synchronously.\nelse if(key===null&&completed<=0){callback(null);}}};async.forEachOfSeries=async.eachOfSeries=function(obj,iterator,callback){callback=_once(callback||noop);obj=obj||[];var nextKey=_keyIterator(obj);var key=nextKey();function iterate(){var sync=true;if(key===null){return callback(null);}iterator(obj[key],key,only_once(function(err){if(err){callback(err);}else{key=nextKey();if(key===null){return callback(null);}else{if(sync){async.setImmediate(iterate);}else{iterate();}}}}));sync=false;}iterate();};async.forEachOfLimit=async.eachOfLimit=function(obj,limit,iterator,callback){_eachOfLimit(limit)(obj,iterator,callback);};function _eachOfLimit(limit){return function(obj,iterator,callback){callback=_once(callback||noop);obj=obj||[];var nextKey=_keyIterator(obj);if(limit<=0){return callback(null);}var done=false;var running=0;var errored=false;(function replenish(){if(done&&running<=0){return callback(null);}while(running<limit&&!errored){var key=nextKey();if(key===null){done=true;if(running<=0){callback(null);}return;}running+=1;iterator(obj[key],key,only_once(function(err){running-=1;if(err){callback(err);errored=true;}else{replenish();}}));}})();};}function doParallel(fn){return function(obj,iterator,callback){return fn(async.eachOf,obj,iterator,callback);};}function doParallelLimit(fn){return function(obj,limit,iterator,callback){return fn(_eachOfLimit(limit),obj,iterator,callback);};}function doSeries(fn){return function(obj,iterator,callback){return fn(async.eachOfSeries,obj,iterator,callback);};}function _asyncMap(eachfn,arr,iterator,callback){callback=_once(callback||noop);arr=arr||[];var results=_isArrayLike(arr)?[]:{};eachfn(arr,function(value,index,callback){iterator(value,function(err,v){results[index]=v;callback(err);});},function(err){callback(err,results);});}async.map=doParallel(_asyncMap);async.mapSeries=doSeries(_asyncMap);async.mapLimit=doParallelLimit(_asyncMap);// reduce only has a series version, as doing reduce in parallel won\'t\n// work in many situations.\nasync.inject=async.foldl=async.reduce=function(arr,memo,iterator,callback){async.eachOfSeries(arr,function(x,i,callback){iterator(memo,x,function(err,v){memo=v;callback(err);});},function(err){callback(err,memo);});};async.foldr=async.reduceRight=function(arr,memo,iterator,callback){var reversed=_map(arr,identity).reverse();async.reduce(reversed,memo,iterator,callback);};async.transform=function(arr,memo,iterator,callback){if(arguments.length===3){callback=iterator;iterator=memo;memo=_isArray(arr)?[]:{};}async.eachOf(arr,function(v,k,cb){iterator(memo,v,k,cb);},function(err){callback(err,memo);});};function _filter(eachfn,arr,iterator,callback){var results=[];eachfn(arr,function(x,index,callback){iterator(x,function(v){if(v){results.push({index:index,value:x});}callback();});},function(){callback(_map(results.sort(function(a,b){return a.index-b.index;}),function(x){return x.value;}));});}async.select=async.filter=doParallel(_filter);async.selectLimit=async.filterLimit=doParallelLimit(_filter);async.selectSeries=async.filterSeries=doSeries(_filter);function _reject(eachfn,arr,iterator,callback){_filter(eachfn,arr,function(value,cb){iterator(value,function(v){cb(!v);});},callback);}async.reject=doParallel(_reject);async.rejectLimit=doParallelLimit(_reject);async.rejectSeries=doSeries(_reject);function _createTester(eachfn,check,getResult){return function(arr,limit,iterator,cb){function done(){if(cb)cb(getResult(false,void 0));}function iteratee(x,_,callback){if(!cb)return callback();iterator(x,function(v){if(cb&&check(v)){cb(getResult(true,x));cb=iterator=false;}callback();});}if(arguments.length>3){eachfn(arr,limit,iteratee,done);}else{cb=iterator;iterator=limit;eachfn(arr,iteratee,done);}};}async.any=async.some=_createTester(async.eachOf,toBool,identity);async.someLimit=_createTester(async.eachOfLimit,toBool,identity);async.all=async.every=_createTester(async.eachOf,notId,notId);async.everyLimit=_createTester(async.eachOfLimit,notId,notId);function _findGetResult(v,x){return x;}async.detect=_createTester(async.eachOf,identity,_findGetResult);async.detectSeries=_createTester(async.eachOfSeries,identity,_findGetResult);async.detectLimit=_createTester(async.eachOfLimit,identity,_findGetResult);async.sortBy=function(arr,iterator,callback){async.map(arr,function(x,callback){iterator(x,function(err,criteria){if(err){callback(err);}else{callback(null,{value:x,criteria:criteria});}});},function(err,results){if(err){return callback(err);}else{callback(null,_map(results.sort(comparator),function(x){return x.value;}));}});function comparator(left,right){var a=left.criteria,b=right.criteria;return a<b?-1:a>b?1:0;}};async.auto=function(tasks,concurrency,callback){if(typeof arguments[1]===\'function\'){// concurrency is optional, shift the args.\ncallback=concurrency;concurrency=null;}callback=_once(callback||noop);var keys=_keys(tasks);var remainingTasks=keys.length;if(!remainingTasks){return callback(null);}if(!concurrency){concurrency=remainingTasks;}var results={};var runningTasks=0;var hasError=false;var listeners=[];function addListener(fn){listeners.unshift(fn);}function removeListener(fn){var idx=_indexOf(listeners,fn);if(idx>=0)listeners.splice(idx,1);}function taskComplete(){remainingTasks--;_arrayEach(listeners.slice(0),function(fn){fn();});}addListener(function(){if(!remainingTasks){callback(null,results);}});_arrayEach(keys,function(k){if(hasError)return;var task=_isArray(tasks[k])?tasks[k]:[tasks[k]];var taskCallback=_restParam(function(err,args){runningTasks--;if(args.length<=1){args=args[0];}if(err){var safeResults={};_forEachOf(results,function(val,rkey){safeResults[rkey]=val;});safeResults[k]=args;hasError=true;callback(err,safeResults);}else{results[k]=args;async.setImmediate(taskComplete);}});var requires=task.slice(0,task.length-1);// prevent dead-locks\nvar len=requires.length;var dep;while(len--){if(!(dep=tasks[requires[len]])){throw new Error(\'Has nonexistent dependency in \'+requires.join(\', \'));}if(_isArray(dep)&&_indexOf(dep,k)>=0){throw new Error(\'Has cyclic dependencies\');}}function ready(){return runningTasks<concurrency&&_reduce(requires,function(a,x){return a&&results.hasOwnProperty(x);},true)&&!results.hasOwnProperty(k);}if(ready()){runningTasks++;task[task.length-1](taskCallback,results);}else{addListener(listener);}function listener(){if(ready()){runningTasks++;removeListener(listener);task[task.length-1](taskCallback,results);}}});};async.retry=function(times,task,callback){var DEFAULT_TIMES=5;var DEFAULT_INTERVAL=0;var attempts=[];var opts={times:DEFAULT_TIMES,interval:DEFAULT_INTERVAL};function parseTimes(acc,t){if(typeof t===\'number\'){acc.times=parseInt(t,10)||DEFAULT_TIMES;}else if(_typeof(t)===\'object\'){acc.times=parseInt(t.times,10)||DEFAULT_TIMES;acc.interval=parseInt(t.interval,10)||DEFAULT_INTERVAL;}else{throw new Error(\'Unsupported argument type for \\\'times\\\': \'+_typeof(t));}}var length=arguments.length;if(length<1||length>3){throw new Error(\'Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)\');}else if(length<=2&&typeof times===\'function\'){callback=task;task=times;}if(typeof times!==\'function\'){parseTimes(opts,times);}opts.callback=callback;opts.task=task;function wrappedTask(wrappedCallback,wrappedResults){function retryAttempt(task,finalAttempt){return function(seriesCallback){task(function(err,result){seriesCallback(!err||finalAttempt,{err:err,result:result});},wrappedResults);};}function retryInterval(interval){return function(seriesCallback){setTimeout(function(){seriesCallback(null);},interval);};}while(opts.times){var finalAttempt=!(opts.times-=1);attempts.push(retryAttempt(opts.task,finalAttempt));if(!finalAttempt&&opts.interval>0){attempts.push(retryInterval(opts.interval));}}async.series(attempts,function(done,data){data=data[data.length-1];(wrappedCallback||opts.callback)(data.err,data.result);});}// If a callback is passed, run this as a controll flow\nreturn opts.callback?wrappedTask():wrappedTask;};async.waterfall=function(tasks,callback){callback=_once(callback||noop);if(!_isArray(tasks)){var err=new Error(\'First argument to waterfall must be an array of functions\');return callback(err);}if(!tasks.length){return callback();}function wrapIterator(iterator){return _restParam(function(err,args){if(err){callback.apply(null,[err].concat(args));}else{var next=iterator.next();if(next){args.push(wrapIterator(next));}else{args.push(callback);}ensureAsync(iterator).apply(null,args);}});}wrapIterator(async.iterator(tasks))();};function _parallel(eachfn,tasks,callback){callback=callback||noop;var results=_isArrayLike(tasks)?[]:{};eachfn(tasks,function(task,key,callback){task(_restParam(function(err,args){if(args.length<=1){args=args[0];}results[key]=args;callback(err);}));},function(err){callback(err,results);});}async.parallel=function(tasks,callback){_parallel(async.eachOf,tasks,callback);};async.parallelLimit=function(tasks,limit,callback){_parallel(_eachOfLimit(limit),tasks,callback);};async.series=function(tasks,callback){_parallel(async.eachOfSeries,tasks,callback);};async.iterator=function(tasks){function makeCallback(index){function fn(){if(tasks.length){tasks[index].apply(null,arguments);}return fn.next();}fn.next=function(){return index<tasks.length-1?makeCallback(index+1):null;};return fn;}return makeCallback(0);};async.apply=_restParam(function(fn,args){return _restParam(function(callArgs){return fn.apply(null,args.concat(callArgs));});});function _concat(eachfn,arr,fn,callback){var result=[];eachfn(arr,function(x,index,cb){fn(x,function(err,y){result=result.concat(y||[]);cb(err);});},function(err){callback(err,result);});}async.concat=doParallel(_concat);async.concatSeries=doSeries(_concat);async.whilst=function(test,iterator,callback){callback=callback||noop;if(test()){var next=_restParam(function(err,args){if(err){callback(err);}else if(test.apply(this,args)){iterator(next);}else{callback.apply(null,[null].concat(args));}});iterator(next);}else{callback(null);}};async.doWhilst=function(iterator,test,callback){var calls=0;return async.whilst(function(){return++calls<=1||test.apply(this,arguments);},iterator,callback);};async.until=function(test,iterator,callback){return async.whilst(function(){return!test.apply(this,arguments);},iterator,callback);};async.doUntil=function(iterator,test,callback){return async.doWhilst(iterator,function(){return!test.apply(this,arguments);},callback);};async.during=function(test,iterator,callback){callback=callback||noop;var next=_restParam(function(err,args){if(err){callback(err);}else{args.push(check);test.apply(this,args);}});var check=function check(err,truth){if(err){callback(err);}else if(truth){iterator(next);}else{callback(null);}};test(check);};async.doDuring=function(iterator,test,callback){var calls=0;async.during(function(next){if(calls++<1){next(null,true);}else{test.apply(this,arguments);}},iterator,callback);};function _queue(worker,concurrency,payload){if(concurrency==null){concurrency=1;}else if(concurrency===0){throw new Error(\'Concurrency must not be zero\');}function _insert(q,data,pos,callback){if(callback!=null&&typeof callback!=="function"){throw new Error("task callback must be a function");}q.started=true;if(!_isArray(data)){data=[data];}if(data.length===0&&q.idle()){// call drain immediately if there are no tasks\nreturn async.setImmediate(function(){q.drain();});}_arrayEach(data,function(task){var item={data:task,callback:callback||noop};if(pos){q.tasks.unshift(item);}else{q.tasks.push(item);}if(q.tasks.length===q.concurrency){q.saturated();}});async.setImmediate(q.process);}function _next(q,tasks){return function(){workers-=1;var removed=false;var args=arguments;_arrayEach(tasks,function(task){_arrayEach(_workersList,function(worker,index){if(worker===task&&!removed){_workersList.splice(index,1);removed=true;}});task.callback.apply(task,args);});if(q.tasks.length+workers===0){q.drain();}q.process();};}var workers=0;var _workersList=[];var q={tasks:[],concurrency:concurrency,payload:payload,saturated:noop,empty:noop,drain:noop,started:false,paused:false,push:function push(data,callback){_insert(q,data,false,callback);},kill:function kill(){q.drain=noop;q.tasks=[];},unshift:function unshift(data,callback){_insert(q,data,true,callback);},process:function process(){while(!q.paused&&workers<q.concurrency&&q.tasks.length){var tasks=q.payload?q.tasks.splice(0,q.payload):q.tasks.splice(0,q.tasks.length);var data=_map(tasks,function(task){return task.data;});if(q.tasks.length===0){q.empty();}workers+=1;_workersList.push(tasks[0]);var cb=only_once(_next(q,tasks));worker(data,cb);}},length:function length(){return q.tasks.length;},running:function running(){return workers;},workersList:function workersList(){return _workersList;},idle:function idle(){return q.tasks.length+workers===0;},pause:function pause(){q.paused=true;},resume:function resume(){if(q.paused===false){return;}q.paused=false;var resumeCount=Math.min(q.concurrency,q.tasks.length);// Need to call q.process once per concurrent\n// worker to preserve full concurrency after pause\nfor(var w=1;w<=resumeCount;w++){async.setImmediate(q.process);}}};return q;}async.queue=function(worker,concurrency){var q=_queue(function(items,cb){worker(items[0],cb);},concurrency,1);return q;};async.priorityQueue=function(worker,concurrency){function _compareTasks(a,b){return a.priority-b.priority;}function _binarySearch(sequence,item,compare){var beg=-1,end=sequence.length-1;while(beg<end){var mid=beg+(end-beg+1>>>1);if(compare(item,sequence[mid])>=0){beg=mid;}else{end=mid-1;}}return beg;}function _insert(q,data,priority,callback){if(callback!=null&&typeof callback!=="function"){throw new Error("task callback must be a function");}q.started=true;if(!_isArray(data)){data=[data];}if(data.length===0){// call drain immediately if there are no tasks\nreturn async.setImmediate(function(){q.drain();});}_arrayEach(data,function(task){var item={data:task,priority:priority,callback:typeof callback===\'function\'?callback:noop};q.tasks.splice(_binarySearch(q.tasks,item,_compareTasks)+1,0,item);if(q.tasks.length===q.concurrency){q.saturated();}async.setImmediate(q.process);});}// Start with a normal queue\nvar q=async.queue(worker,concurrency);// Override push to accept second parameter representing priority\nq.push=function(data,priority,callback){_insert(q,data,priority,callback);};// Remove unshift function\ndelete q.unshift;return q;};async.cargo=function(worker,payload){return _queue(worker,1,payload);};function _console_fn(name){return _restParam(function(fn,args){fn.apply(null,args.concat([_restParam(function(err,args){if((typeof console==="undefined"?"undefined":_typeof(console))===\'object\'){if(err){if(console.error){console.error(err);}}else if(console[name]){_arrayEach(args,function(x){console[name](x);});}}})]));});}async.log=_console_fn(\'log\');async.dir=_console_fn(\'dir\');/*async.info = _console_fn(\'info\');\n              async.warn = _console_fn(\'warn\');\n              async.error = _console_fn(\'error\');*/async.memoize=function(fn,hasher){var memo={};var queues={};var has=Object.prototype.hasOwnProperty;hasher=hasher||identity;var memoized=_restParam(function memoized(args){var callback=args.pop();var key=hasher.apply(null,args);if(has.call(memo,key)){async.setImmediate(function(){callback.apply(null,memo[key]);});}else if(has.call(queues,key)){queues[key].push(callback);}else{queues[key]=[callback];fn.apply(null,args.concat([_restParam(function(args){memo[key]=args;var q=queues[key];delete queues[key];for(var i=0,l=q.length;i<l;i++){q[i].apply(null,args);}})]));}});memoized.memo=memo;memoized.unmemoized=fn;return memoized;};async.unmemoize=function(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments);};};function _times(mapper){return function(count,iterator,callback){mapper(_range(count),iterator,callback);};}async.times=_times(async.map);async.timesSeries=_times(async.mapSeries);async.timesLimit=function(count,limit,iterator,callback){return async.mapLimit(_range(count),limit,iterator,callback);};async.seq=function()/* functions... */{var fns=arguments;return _restParam(function(args){var that=this;var callback=args[args.length-1];if(typeof callback==\'function\'){args.pop();}else{callback=noop;}async.reduce(fns,args,function(newargs,fn,cb){fn.apply(that,newargs.concat([_restParam(function(err,nextargs){cb(err,nextargs);})]));},function(err,results){callback.apply(that,[err].concat(results));});});};async.compose=function()/* functions... */{return async.seq.apply(null,Array.prototype.reverse.call(arguments));};function _applyEach(eachfn){return _restParam(function(fns,args){var go=_restParam(function(args){var that=this;var callback=args.pop();return eachfn(fns,function(fn,_,cb){fn.apply(that,args.concat([cb]));},callback);});if(args.length){return go.apply(this,args);}else{return go;}});}async.applyEach=_applyEach(async.eachOf);async.applyEachSeries=_applyEach(async.eachOfSeries);async.forever=function(fn,callback){var done=only_once(callback||noop);var task=ensureAsync(fn);function next(err){if(err){return done(err);}task(next);}next();};function ensureAsync(fn){return _restParam(function(args){var callback=args.pop();args.push(function(){var innerArgs=arguments;if(sync){async.setImmediate(function(){callback.apply(null,innerArgs);});}else{callback.apply(null,innerArgs);}});var sync=true;fn.apply(this,args);sync=false;});}async.ensureAsync=ensureAsync;async.constant=_restParam(function(values){var args=[null].concat(values);return function(callback){return callback.apply(this,args);};});async.wrapSync=async.asyncify=function asyncify(func){return _restParam(function(args){var callback=args.pop();var result;try{result=func.apply(this,args);}catch(e){return callback(e);}// if result is Promise object\nif(_isObject(result)&&typeof result.then==="function"){result.then(function(value){callback(null,value);})["catch"](function(err){callback(err.message?err:new Error(err));});}else{callback(null,result);}});};// async.parallel with timeout\n// http://davidbcalhoun.com/2014/async.parallel-with-a-simple-timeout-node-js/\nasync.parallelWithTimeout=function(action,timeoutInMilliseconds,tasks,callback){// tasks[]: name, callback\n// create wrapper functions to track completion of callback\nlogger.log(\'tasks: \',tasks);var trackedTasks=tasks.map(function(task){return function(trackedCallback){task.callback(function(err,result){task.isCompleted=true;logger.log(\'executing module trackedCallback.\',task);trackedCallback(err,result);});};});window.async.parallel(trackedTasks,function(err,result){// after all tasks are complete\n// if timeout occurred (and was cleared), callback has already been called\n// otherwise, clear the timeout and return the results\nif(timeout){// cancel timeout (if timeout was set longer, and all parallel tasks finished sooner)\nclearTimeout(timeout);// passthrough the data to the callback\nlogger.log(\'executing callback on all task completion.\');callback(err,result);}});var timeout=setTimeout(function(){// remove timeout, indicating errored out\ntimeout=null;var timedOutCallbacks=[];// log all non-completed callbacks\nfor(var i=0;i<tasks.length;i++){if(tasks[i].isCompleted===false){logger.log({task:tasks[i]});timedOutCallbacks.push(tasks[i].name+\' \'+tasks[i].event);}}if(timedOutCallbacks.length>0){logger.log(\'executing callback on timeout.\',timedOutCallbacks);callback(timedOutCallbacks.length+\' callback(s) timed out out after \'+timeoutInMilliseconds+\'ms.\',null,{callbacks:timedOutCallbacks,tasks:tasks});}else{callback(null);}// timeout error\n},timeoutInMilliseconds);};window.async=async;/* eslint-enable */})();if(window.AdFuelUtils.getURLParam(\'debug\'))_addDebugListeners();_setSlotRenderedClass();logger.log(\'Checking for AdsQA...\');_checkForAdsQA();logger.log(\'Binding dispatch to DOMContentLoaded and window.load...\');_bindReady();_googleApi.executeWhenAvailable(\'set ad iframe title\',_setAdIFrameTitle);_dispatchAllQueues();try{// trigger AdFuelCreated event, so pre-loaded modules can register\nvar adFuelCreatedEvent=new CustomEvent(\'AdFuelCreated\',{detail:{AdFuel:window.AdFuel}});document.dispatchEvent(adFuelCreatedEvent);}catch(ex){logger.error(\'error dispatching custom Event: AdFuelCreated\',{error:ex});}}});}}function getQueuedSlots(){return window.AdFuelUtils.clone(_queuedSlots);}function getSlotDetails(slotId){var matchingRocketeerSlot;for(var i=0;i<window.AdFuel.registry.length;i++){var reg=window.AdFuel.registry[i];for(var j=1;j<reg.length;j++){var rocketeerSlot=reg[j];if(rocketeerSlot.rktr_slot_id===slotId){matchingRocketeerSlot=window.AdFuelUtils.clone(rocketeerSlot);}}}var adUnitPath;var slotTargeting={};var slot=_pageSlots[slotId];if(slot){// get adUnit\nadUnitPath=slot.getAdUnitPath();// get targeting keys\nvar currentTargetingKeys=slot.getTargetingKeys();for(var keyId in currentTargetingKeys){if(currentTargetingKeys.hasOwnProperty(keyId)){var keyName=currentTargetingKeys[keyId];slotTargeting[keyName]=slot.getTargeting(keyName);}}}return{adUnit:adUnitPath,slot:matchingRocketeerSlot,slotTargeting:slotTargeting};}function registerModule(name,callbacks,version,options){getFilterValue().then(function(shouldFilter){if(shouldFilter){logger.log(\'GDPR Consent Not Granted or Not Found. Not Registering Module.\');}else{logger.log(\'Registering Module: \'+name+\' \'+version);perf.mark(\'Registering Module: \'+name+\' \'+version);var index=-1;for(var i=0;i<_registeredModules.length;i++){if(_registeredModules[i].name===name){index=i;}}version=version||\'Unspecified\';options=options||{};if(callbacks.init){callbacks.init().then(function(){if(index>=0){// replace callbacks\n_registeredModules[index]={name:name,version:version,callbacks:callbacks,options:options};}else{// add module\n_registeredModules.push({name:name,version:version,callbacks:callbacks,options:options});}});}else{if(index>=0){// replace callbacks\n_registeredModules[index]={name:name,version:version,callbacks:callbacks,options:options};}else{// add module\n_registeredModules.push({name:name,version:version,callbacks:callbacks,options:options});}}}});}function unregisterModule(name){// remove module, if it\'s found\nvar indexToRemove=-1;for(var i=0;i<_registeredModules.length;i++){if(_registeredModules[i].name===name){indexToRemove=i;}}if(indexToRemove>=0){_registeredModules.splice(indexToRemove,1);}}function setOptions(options){if(options){// apply options\nif(options.exclude&&options.exclude.length>0){// add non-duplicating exclude slotIds\nfor(var i=0;i<options.exclude.length;i++){var slotId=options.exclude[i];if(_excludedSlotIds.indexOf(slotId)<0){logger.log(\'Excluding Slot Id: \',slotId);_excludedSlotIds.push(slotId);}}}for(var key in options){if(options.hasOwnProperty(key)){_options[key]=options[key];}}}}function updateCorrelator(){return _googleApi.updateCorrelator();}var normalizeUrl=function _normalizeUrl(urlString){var options=Object.assign({normalizeProtocol:false,normalizeHttps:true,normalizeHttp:false,stripFragment:true,stripWWW:true,removeQueryParameters:true,removeTrailingSlash:true,removeDirectoryIndex:false},{});var urlStringInput=urlString.trim();var hasRelativeProtocol=urlString[0]===\'/\'&&urlString[1]===\'/\';var isRelativeUrl=!hasRelativeProtocol&&/^\\.*\\//.test(urlString);// Prepend protocol\nif(!isRelativeUrl){urlStringInput=urlString.replace(/^(?!(?:\\w+:)?\\/\\/)|^\\/\\//,\'http://\');}var urlObj=document.createElement(\'a\');urlObj.href=urlStringInput;if(options.normalizeHttps&&options.normalizeHttp){throw new Error(\'The `normalizeHttp` and `normalizeHttps` options cannot be used together\');}if(options.normalizeHttp&&urlObj.protocol===\'http:\'){urlObj.protocol=\'https:\';}if(options.normalizeHttps&&urlObj.protocol===\'https:\'){urlObj.protocol=\'http:\';}// Remove fragment\nif(options.stripFragment){urlObj.hash=\'\';}// Remove duplicate slashes if not preceded by a protocol\nif(urlObj.pathname){// TODO: Use the following instead when targeting Node.js 10\n// `urlObj.pathname = urlObj.pathname.replace(/(?<!https?:)\\/{2,}/g, \'/\');`\nurlObj.pathname=urlObj.pathname.replace(/((?![https?:]).)\\/{2,}/g,function _pathnameReplace(_,p1){if(/^(?!\\/)/g.test(p1)){return p1+\'/\';}return\'/\';});}// Decode URI octets\nif(urlObj.pathname){urlObj.pathname=decodeURI(urlObj.pathname);}if(urlObj.hostname){// Remove trailing dot\nurlObj.hostname=urlObj.hostname.replace(/\\.$/,\'\');// Remove `www.`\nif(options.stripWWW){urlObj.hostname=urlObj.hostname.replace(/^www\\./,\'\');}}// Remove query unwanted parameters\nif(options.removeQueryParameters){urlObj.search=\'\';}// Take advantage of many of the Node `url` normalizations\nurlStringInput=urlObj.href;// Remove ending `/`\nif(options.removeTrailingSlash||urlObj.pathname===\'/\'){urlStringInput=urlString.replace(/\\/$/,\'\');}// Restore relative protocol, if applicable\nif(hasRelativeProtocol&&!options.normalizeProtocol){urlStringInput=urlString.replace(/^http:\\/\\//,\'//\');}return urlStringInput;};return{init:init,setOptions:setOptions,addEvent:window.AdFuelUtils.addEvent,dynamicTargeting:_dynamicTargeting,setBulkTargeting:setBulkTargeting,dispatchQueue:dispatchQueue,queueRegistry:queueRegistry,getQueuedSlots:getQueuedSlots,getSlotDetails:getSlotDetails,refresh:refresh,destroySlots:destroySlots,clearSlots:clearSlots,removePageLevelTarget:removePageLevelTarget,removeSlotLevelTarget:removeSlotLevelTarget,addPageLevelTarget:addPageLevelTarget,addSlotLevelTarget:addSlotLevelTarget,registry:new RegistryArray(),requestScriptText:\'\',updateCorrelator:updateCorrelator,// module registration\nregisterModule:registerModule,unregisterModule:unregisterModule,registeredModules:_registeredModules,// for debug\n__VERSION__:function(){return VERSION;}(),__OPTIONS__:function(){return _options;}(),rocketeerSlots:_rocketeerSlots,pageSlots:_pageSlots,builtSLots:_builtSlots,queuedSlots:_queuedSlots,cachedRegistries:_cachedRegistries// /////////////////////////////////////////////////\n};}();window.AdFuel.init();}'},217:function(e,t){!function(){"use strict";var e;try{CNN.INJECTOR.createDeferredForFeature("header1"),CNN.INJECTOR.createDeferredForFeature("header2"),CNN.INJECTOR.createDeferredForFeature("footer"),CNN.INJECTOR.createDeferredForFeature("videodemanddust"),e=["onZonesAndDomReady","onZoneRendered"],CNN.INJECTOR.registerEvents(e),CNN.INJECTOR.scriptComplete("header1"),CNN.INJECTOR.scriptComplete("header2")}catch(e){console.log(e)}}()},301:function(e,t){jQuery(document).onZonesAndDomReady(function(){"use strict";fastdom.measure(function(){var e,t,n=jQuery(".js__image--expandable").width(),r=!1,i=700,o=30,a=!(!Modernizr||Modernizr.phone||Modernizr.mobile||Modernizr.tablet),s=0!==jQuery("html.mobile").length,l=jQuery(window),d=!0,c="36px",u=CNN.Utils.exists;function f(e,t,n){fastdom.mutate(function(){jQuery(e).off(t).on(t,n)})}function g(e,n,r,o){var s,l,d,u=!!r;!0!==u&&!0!==o||(l=n.find(".media__video--responsive"),s=l.attr("id"),"fave"===CNN.VideoPlayer.getLibraryName(s)&&FAVE.player.getInstance(s).resume()),d=function(){var r,d=n.parents(".el__embedded"),f=n.find(".media__video--thumbnail"),g=n.find(".el__storyelements--close"),p=d.find(".video-red-spinner"),h=l||n.find(".media__video--responsive"),m=h.find("object").get(0),v=h.find("video").get(0),_=s||h.attr("id"),y=navigator.userAgent.toLowerCase();void 0===t&&(t=n.width()),!1===u&&!0!==o&&"fave"===CNN.VideoPlayer.getLibraryName(_)&&FAVE.player.getInstance(_).resume(),r=function(){f.css("position",""),n.stop().animate({width:"100%","margin-top":c,"margin-right":0},i,function(){fastdom.mutate(function(){"videoLoader"===CNN.VideoPlayer.getLibraryName(_)&&(a?(p.show(),-1===y.indexOf("msie")&&-1===y.indexOf("trident")||void 0===m||m.replayContent()):void 0!==v&&v.play(),n.find(".el__video__play-button").triggerHandler("click")),d.addClass("el__embedded--open")})}),n.show().addClass("el__video--expandfull").removeClass(e),h.show(),window.innerWidth>CNN.minWidthForExpandElements?(g.show(),g.css("display","block")):(g.hide(),g.css("display","none")),FAVE.settings.enabled&&jQuery(window).on("orientationchange",function(){fastdom.mutate(function(){window.innerWidth>CNN.minWidthForExpandElements?(g.show(),g.css("display","block")):(g.hide(),g.css("display","none"))})})},!0===o?r():fastdom.mutate(r)},!0===o?d():fastdom.measure(d)}function p(e,n,r){fastdom.measure(function(){var r,o=n.parents(".el__embedded"),s=o.find(".media__video--thumbnail"),l=o.find(".media__video--responsive"),d=o.find(".video-red-spinner"),c=l.find("object").get(0),u=l.find("video").get(0),f=l.attr("id"),g=navigator.userAgent.toLowerCase();n=n.parent(),fastdom.mutate(function(){o.removeClass("el__embedded--open"),n.stop().animate({width:t,"margin-top":"10px","margin-right":"30px"},i,function(){fastdom.mutate(function(){n.css("width","")})}),n.find(".el__video__close--expandable").hide(),n.addClass(e).removeClass("el__video--expandfull"),l.hide(),s.show(),s.css("position","relative"),"fave"===CNN.VideoPlayer.getLibraryName(f)?FAVE.player.getInstance(f).pause():a?(d.hide(),-1===g.indexOf("msie")&&-1===g.indexOf("trident")||void 0===c||c.stopContent()):void 0!==u&&u.pause()}),r=o.find(".js-media__video .js-video__end-slate").eq(0),fastdom.mutate(function(){r.removeClass("video__end-slate--active").addClass("video__end-slate--inactive"),o.find(".js-video-demand").show()})}),r.stopPropagation()}function h(){FAVE.settings.enabled?function(){fastdom.measure(function(){f(".js__video--standard .media__video--thumbnail","click",function(e){g("el__video--standard",jQuery(this).parents(".js__video--standard"),e)}),f(".js__video--expandable .media__video--thumbnail","click",function(e){g("el__video--expandable",jQuery(this).parents(".js__video--expandable"),e)}),f(".js__video__close--standard","click",function(e){p("el__video--standard",jQuery(this),e)}),f(".js__video__close--expandable","click",function(e){p("el__video--expandable",jQuery(this),e)}),fastdom.mutate(function(){jQuery(".el__video--expandfull .el__video__close--standard").show(),jQuery(".el__video--expandfull .el__video__close--expandable").show(),jQuery(".el__video--expandable .el__video__expand--expandable").show(),jQuery(".el__video--standard .el__video__expand--standard").show(),jQuery(".js-video-demand").show()}),d=!1}.bind(this))}():function(){fastdom.measure(function(){CNN.CurrentSize.getClientWidth()>CNN.minWidthForExpandElements?(f(".js__video--standard","click",function(e){g("el__video--standard",jQuery(this),e)}),f(".js__video--expandable","click",function(e){g("el__video--expandable",jQuery(this),e)}),f(".js__video__close--standard","click",function(e){p("el__video--standard",jQuery(this),e)}),f(".js__video__close--expandable","click",function(e){p("el__video--expandable",jQuery(this),e)}),fastdom.mutate(function(){jQuery(".el__video--expandfull .el__video__close--standard").show(),jQuery(".el__video--expandfull .el__video__close--expandable").show(),jQuery(".el__video--expandable .el__video__expand--expandable").show(),jQuery(".el__video--standard .el__video__expand--standard").show(),jQuery(".js-video-demand").show()})):fastdom.mutate(function(){jQuery(".el__video__close--standard").hide(),jQuery(".el__video__expand--standard").hide(),jQuery(".el__video__close--expandable").hide(),jQuery(".el__video__expand--expandable").hide(),!0===CNN.orientationLandscape?jQuery(".js-video-demand").show():jQuery(".js-video-demand").hide()}),!1===d&&!0===CNN.orientationLandscape&&(jQuery(".js__video--standard").each(function(){var e,t=jQuery(this),n=t.find(".js-video-demand");0===t.find(".js-el__video__play-button").length()?(e=t.find(".el__video__expand--standard"),fastdom.mutate(function(e,t){e.hide(),!0===CNN.orientationLandscape&&g("el__video--standard",t,null,!0)}.bind(this,n,e))):fastdom.mutate(function(e){e.show()}.bind(this,n))}),jQuery(".js__video--expandable").each(function(){var e,t=jQuery(this),n=t.find(".js-video-demand");0===t.find(".js-el__video__play-button").length()?(e=t.find(".el__video__expand--expandable"),fastdom.mutate(function(e,t){e.hide(),!0===CNN.orientationLandscape&&g("el__video--expandable",t,null,!0)}.bind(this,n,e))):fastdom.mutate(function(e){e.show()}.bind(this,n))})),d=!1}.bind(this))}()}function m(t,n,r){n.is(".el__gallery--expandfull")||(void 0===e&&(e=n.width()),CNN.CurrentSize.getClientWidth()>CNN.minWidthForExpandElements?fastdom.measure(function(){var e,r,a=n.parents(".el__embedded"),s=n,l=n.find(".el__gallery--teaseimage"),d=n.find(".el-carousel__wrapper"),u=d.find(".js-owl-carousel"),f=d.find(".js-owl-filmstrip"),g=!!d.attr("data-initialized");r=function(e){e.css({opacity:"1",position:"relative","z-index":"0"}),d.attr("data-initialized","true")},fastdom.mutate(function(){d.css({display:"block",visibility:"visible",opacity:"0"}),s.stop().animate({width:a.width()+"px","margin-top":c,"margin-right":0},i,function(){fastdom.mutate(function(){s.css("width","100%"),e=9*a.width()/16/2-o,u.siblings(".ad-slide").find(".ad-slide__prev, .ad-slide__next").css("top",e+"px"),a.addClass("el__embedded--open"),a.css("overflow","hidden"),s.css({"min-height":l.height()+"px","max-height":l.height()+"px"}),setTimeout(function(e,t){fastdom.mutate(function(){e.css({"max-height":1.5*t.height()+"px"}),CNN.Carousel.refreshCarousels()})},100,s,u),!1===g||u.data("owl.carousel").width()!==s.width()?(u.on("resized.owl.carousel",{$wrapper:d},function(e){fastdom.mutate(function(){r(e.data.$wrapper),jQuery(this).off("resized.owl.carousel")}.bind(this))}),f.on("resized.owl.carousel",function(e){fastdom.mutate(function(){CNN.Carousel.owl().setNumberOfItems(e),e.relatedTarget.to(0),jQuery(this).off("resized.owl.carousel")}.bind(this))}),u.data("owl.carousel").onResize(),f.data("owl.carousel").onResize()):r(d),s.addClass("el__gallery--expandfull").removeClass(t),void 0!==d.attr("isExtended")&&"false"!==d.attr("isExtended")||(setTimeout(function(){fastdom.mutate(function(){y(jQuery(d.find(".owl-wrapper-outer")),!0,!0)})},2e3),d.attr("isExtended","true"))}.bind(this))})}.bind(this))}):r.stopPropagation())}function v(t,n,r){fastdom.measure(function(){var r=n.parents(".el__embedded"),o=r.find(".el-carousel__wrapper"),a=o.find(".owl-wrapper-outer").find(".el__gallery-caption"),s=n.parents(".el__gallery--expandfull");fastdom.mutate(function(){r.css({"max-height":"",overflow:""}),o.css({position:"absolute",opacity:0}),r.removeClass("el__embedded--open"),s.css({"min-height":"","max-height":""}),s.stop().animate({width:e,"margin-top":"10px","margin-right":"30px"},i,function(){fastdom.mutate(function(){jQuery(this).addClass(t).removeClass("el__gallery--expandfull")}.bind(this))}),o.attr("isExtended","false"),s.addClass(t).removeClass("el__gallery--expandfull"),a.hasClass("el__gallery-caption--closed")&&(a.toggleClass("el__gallery-caption--closed"),a.text(s.hasClass("el__gallery-caption--closed")?"Show Caption":"Hide Caption"))}.bind(this))}.bind(this)),r.stopPropagation()}function _(){window.innerWidth>CNN.minWidthForExpandElements?(f(".js__gallery--standard","click",function(e){m("el__gallery--standard",jQuery(this),e)}),f(".js__gallery--expandable","click",function(e){m("el__gallery--expandable",jQuery(this),e)}),f(".js__gallery__close--standard","click",function(e){v("el__gallery--standard",jQuery(this),e)}),f(".js__gallery__close--expandable","click",function(e){v("el__gallery--expandable",jQuery(this),e)}),jQuery(".js__gallery__close--standard, .js__gallery__close--expandable").trigger("click"),fastdom.mutate(function(){jQuery(".el-carousel__wrapper").not(jQuery(".zn-large-media .el-carousel__wrapper, .el__embedded--fullstandardwidth .el-carousel__wrapper,.pg-special-article__head .el-carousel__wrapper")).css({opacity:"0",position:"","z-index":""})})):fastdom.mutate(function(){jQuery(".el-carousel__wrapper").css({opacity:"1",position:"relative","z-index":"0"})}),!1===r&&window.innerWidth<=CNN.showGalleryCaptionWidth&&fastdom.measure(function(){jQuery(".js__leafmedia--gallery").each(function(e,t){fastdom.mutate(function(e,t){e.hide(),t.addClass("el__gallery-caption--closed").text("Show Caption")}.bind(this,jQuery(".el__gallery_image-title",t),jQuery(".el__gallery-caption",t)))})})}function y(e,t,n){var r=0,i=0,o=jQuery(".owl-item",e).each(function(){i=jQuery(this).height(),t&&jQuery(this).attr("owlItemHeight",i),i>r&&(r=i)});t&&jQuery(e).attr("max",r),o.each(function(){var r=jQuery(this),i=jQuery(".el__gallery-showhide",r);t||n?i.css("bottom",r.attr("owlItemHeight")-jQuery(e).attr("max")+"px"):i.css("bottom","0px")})}function b(){CNN.CurrentSize.getClientWidth()>CNN.minWidthForExpandElements?(f(".js__image--expandable","click",function(){var e=jQuery(this);fastdom.mutate(function(){var t=e.parents(".el__embedded");t.find(".el__image__close--expandable").show(),e.stop().animate({width:"100%","margin-top":c,"margin-right":0},i,function(){fastdom.mutate(function(){CNN.ResponsiveImages.processChildrenImages(this),t.addClass("el__embedded--open").height(e.outerHeight())}.bind(this))}).show().addClass("el__image--expandfull").removeClass("el__image--expandable")})}),f(".js__image__close--expandable","click",function(e){var t=jQuery(this),r=t.parents(".el__embedded");fastdom.mutate(function(){r.removeClass("el__embedded--open").css("height","auto"),t.hide(),r.find(".js__image--expandable").stop().animate({width:n,"margin-top":"10px","margin-right":"30px"},i,function(){fastdom.mutate(function(){CNN.ResponsiveImages.processChildrenImages(this)}.bind(this))}).show().addClass("el__image--expandable").removeClass("el__image--expandfull")}),e.stopPropagation()}),fastdom.mutate(function(){jQuery(".el__image--expandable .el__image__expand--expandable").show(),jQuery(".el__image--expandfull .el__image__close--expandable").show()})):fastdom.mutate(function(){jQuery(".el__image__close--expandable").hide(),jQuery(".el__image__expand--expandable").hide(),jQuery(".js__image--expandable").off()}),h(),_()}CNN.contentModel=CNN.contentModel||{},CNN.CurrentSize=CNN.CurrentSize||{},CNN.CurrentSize.getClientWidth=CNN.CurrentSize.getClientWidth||jQuery.noop,CNN.minWidthForExpandElements=480,CNN.showGalleryCaptionWidth=640,CNN.orientationLandscape=!1,CNN.adLockingDisableWidth=960,CNN.adLockEnable=!!(u(CNN.AdsConfig)&&!0===CNN.AdsConfig.enableAdLock&&CNN.CurrentSize.getClientWidth()>=CNN.adLockingDisableWidth&&0!==jQuery(".pg-rail.pg-rail-tall__rail").length&&0!==jQuery(".pg-rail-tall__head").length),b(),s?l.on("orientationchange",function(){"function"==typeof CNN.Carousel.resetOnResize&&CNN.Carousel.resetOnResize()}):jQuery(window).resize(function(){r=!0,b(),setTimeout(function(){var e;(e=jQuery(".owl-wrapper-outer"))&&fastdom.mutate(function(){var t,n;for(t=0,n=e.length;t<n;t++)y(e[t],!0,!0)})},2e3)}),function(){var e=0,t=[];function n(n,r){!function(e,t){var n=jQuery(e).children().last(),r=CNN.eventListenerWithOptions&&CNN.eventListenerWithOptions.addListener;function i(){n.removeClass(t)}r(e,"touchstart",function(){n.addClass(t)},{passive:!0}),r(e,"touchcancel",i,{passive:!0}),r(e,"touchend",i,{passive:!0})}(r,t[e].className)}for(t=[{selector:".js__image--expandable",className:"el__image--touchhover"},{selector:".js__video--standard",className:"el__video--touchhover"},{selector:".js__video--expandable",className:"el__video--touchhover"},{selector:".js__gallery--standard",className:"el__gallery--touchhover"},{selector:".js__gallery--expandable",className:"el__gallery--touchhover"}],e=0;e<t.length;e++)jQuery(t[e].selector).each(n)}(),jQuery(".js-el__gallery-caption").on("click",function(){fastdom.measure(function(){var e,t,n;e=jQuery(this).closest(".owl-stage"),t=e.find(".el__gallery_image-title"),n=e.find(".el__gallery-caption"),fastdom.mutate(function(){CNN.CurrentSize.getClientWidth()>CNN.minWidthForExpandElements?n.hasClass("el__gallery-caption--closed")?(n.removeClass("el__gallery-caption--closed"),t.show()):(n.addClass("el__gallery-caption--closed"),t.hide()):(n.toggleClass("el__gallery-caption--closed"),t.toggle()),CNN.Carousel.refreshCarousels(),n.text(n.hasClass("el__gallery-caption--closed")?"Show Caption":"Hide Caption")})}.bind(this))})})}),function(e){"use strict";var t=document.getElementsByTagName("html")[0];t&&t.dataset&&Modernizr&&(Modernizr.phone||Modernizr.mobile?t.dataset.formfactor="mobile":t.dataset.formfactor=Modernizr.tablet?"tablet":"desktop")}()},302:function(e,t){var n,r,i={},o=!1;function a(){"use strict";var e=jQuery(".js-pg-sponsor .owl-stage-outer .owl-stage"),t=e.find(".owl-item").length;e.css("width",70*t)}!function(){"use strict";function e(e){var n=jQuery(".js-pg-sponsor .owl-stage-outer .owl-stage .owl-item.synced"),r=n.next(),i=n.prev();"prev"===e?void 0!==i&&i.length>0&&t(i):void 0!==r&&r.length>0&&t(r)}function t(e){var t=jQuery(".js-pg-sponsor").find(".cnngo-bigPicture"),n=t.find("img"),r=e.find(".link").attr("data-img-full");n.attr("src",r),e.parent().find(".owl-item").removeClass("synced"),e.addClass("synced"),t.find(".js-active-count").html(e.closest(".owl-item").index()+1),t.find(".image__caption").html(e.find(".link").attr("data-value"))}(i={fbFeed:"",twFeed:"",social_hub:{icons:{twitter:"",facebook:"",linkedin:"",google:"",pinterest:"",instagram:""},fb_like:"",tw_follow:""}}).renderAuthor=function(){"string"==typeof i.authorName&&i.authorName.length>0&&((n=jQuery(".js-sponsor-article-author")).find(".js-author_name").text(i.authorName+","),n.show())},i.renderEpic=function(){var e="international"===CNN.contentModel.edition?"cnni":"cnn";"string"!=typeof i.epicAdName||0===i.epicAdName.length||o||(window.AdFuel.queueRegistry(CNN.epicAdRegistry+"/"+e+"_native_"+i.epicAdName+".js"),jQuery(".js-epicAd_Render").show(),o=!0)},i.renderFacebook=function(){var e;"string"==typeof i.fbFeed&&i.fbFeed.length>0&&(e=encodeURIComponent(i.fbFeed),document.getElementById("fb-likebox").innerHTML='<iframe src="//www.facebook.com/plugins/likebox.php?href='+e+'&amp;width=300&amp;height=590&amp;show_faces=true&amp;colorscheme=light&amp;stream=true&amp;show_border=true&amp;header=true&amp;appId=70673860847" scrolling="no" frameborder="0" class="sponsor-content-fb" allowTransparency="true"></iframe>')},i.renderTwitter=function(){var e,t;"string"==typeof i.twFeed&&i.twFeed.length>0&&(jQuery(document.getElementById("tw-feedbox")).html(i.twFeed),jQuery(".js-right-rail-tw").show()),t=document.getElementsByTagName("script")[0],document.getElementById("twitter-wjs")||((e=document.createElement("script")).id="twitter-wjs",e.src="//platform.twitter.com/widgets.js",t.parentNode.insertBefore(e,t)),"string"==typeof i.twitterImage&&i.twitterImage.length>0&&((r=jQuery(".js-twitterImage")).find("img").attr("src",i.twitterImage),r.show())},i.renderGallery=function(){setTimeout(function(){var t,n,r,i,o,s,l,d,c;jQuery(".js-pg-sponsor .owl-carousel").owlCarousel({slideSpeed:300,pagination:!0,paginationSpeed:400,items:9,nav:!0,navText:["",""],dots:!1,lazyLoad:!0,loop:!1,autoWidth:!0,autoHeight:!1}),t=jQuery(".js-pg-sponsor"),n=t.find(".cnngo-bigPicture"),r=n.find("img"),o=(i=t.find(".owl-carousel").find(".link")).first().attr("data-img-full"),s=i.first().attr("data-value"),l=n.attr("data-title"),c=(d=t.find(".owl-stage-outer .owl-stage")).find(".owl-item").length,0===n.find("img").length&&n.append("<img/>"),r.attr("src",o),n.append(t.find(".js-galleryCaption")),n.append(t.find(".js-owl-nav")),c>=1&&(n.find(".js-active-count").html(1),n.find(".js-total-count").html(c),n.find(".js-gallery-title").html(l),n.find(".el__storyelement__gray").html(" "+c+" Photos"),d.find(".owl-item").first().addClass("synced"),n.find(".image__caption").html(s)),i.on("click",function(e){var t=jQuery(this);r.attr("src",t.data("imgFull")),t.parent().parent().find(".owl-item").removeClass("synced"),t.parent().addClass("synced"),n.find(".js-active-count").html(t.closest(".owl-item").index()+1),n.find(".image__caption").html(t.attr("data-value"))}),n.find(".js-el__gallery-caption").click(function(){!function(e,t){var n=jQuery(e).closest(document.getElementById("bigPicture")),r=n.find(".media__caption"),i=n.find(".el__gallery-caption");CNN.CurrentSize=CNN.CurrentSize||{},CNN.CurrentSize.getClientWidth=CNN.CurrentSize.getClientWidth||jQuery.noop,CNN.CurrentSize.getClientWidth()>CNN.minWidthForExpandElements?i.hasClass("el__gallery-caption--closed")?i.removeClass("el__gallery-caption--closed"):i.addClass("el__gallery-caption--closed"):i.toggleClass("el__gallery-caption--closed");r.toggle(t),i.text(i.hasClass("el__gallery-caption--closed")?"Show Caption":"Hide Caption")}(this,"slow")}),n.find(".js-owl-prev").click(function(){e("prev")}),n.find(".js-owl-next").click(function(){e("next")}),a()},800)},jQuery(window).resize(function(){setTimeout(function(){a()},300)})}()},375:function(e,t,n){(function(e){e.regeneratorRuntime=n(376),n(164),n(165),n(16),n(20),n(214),n(166),n(301),n(302),n(217),document.addEventListener("DOMContentLoaded",function(){window.COMPONENTS&&window.COMPONENTS.length>0&&Promise.all([n.e(38),n.e(42)]).then(n.bind(null,402))})}).call(this,n(9))},376:function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",d="object"==typeof e,c=t.regeneratorRuntime;if(c)d&&(e.exports=c);else{(c=t.regeneratorRuntime=d?e.exports:{}).wrap=b;var u="suspendedStart",f="suspendedYield",g="executing",p="completed",h={},m={};m[a]=function(){return this};var v=Object.getPrototypeOf,_=v&&v(v(R([])));_&&_!==r&&i.call(_,a)&&(m=_);var y=T.prototype=w.prototype=Object.create(m);E.prototype=y.constructor=T,T.constructor=E,T[l]=E.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,T):(e.__proto__=T,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(y),e},c.awrap=function(e){return{__await:e}},A(O.prototype),O.prototype[s]=function(){return this},c.AsyncIterator=O,c.async=function(e,t,n,r){var i=new O(b(e,t,n,r));return c.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},A(y),y[l]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=R,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),d=i.call(a,"finallyLoc");if(l&&d){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;D(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),h}}}function b(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,o=Object.create(i.prototype),a=new k(r||[]);return o._invoke=function(e,t,n){var r=u;return function(i,o){if(r===g)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return x()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=g;var l=I(e,t,n);if("normal"===l.type){if(r=n.done?p:f,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function I(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function E(){}function T(){}function A(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function O(e){var t;this._invoke=function(n,r){function o(){return new Promise(function(t,o){!function t(n,r,o,a){var s=I(e[n],e,r);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&i.call(d,"__await")?Promise.resolve(d.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(d).then(function(e){l.value=e,o(l)},function(e){return t("throw",e,o,a)})}a(s.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function S(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,S(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=I(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function R(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},9:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}});